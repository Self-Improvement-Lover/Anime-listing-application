var ps=Object.defineProperty;var es=s=>{throw TypeError(s)};var ds=(s,t,n)=>t in s?ps(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n;var F=(s,t,n)=>ds(s,typeof t!="symbol"?t+"":t,n),jn=(s,t,n)=>t.has(s)||es("Cannot "+n);var l=(s,t,n)=>(jn(s,t,"read from private field"),n?n.call(s):t.get(s)),N=(s,t,n)=>t.has(s)?es("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,n),E=(s,t,n,e)=>(jn(s,t,"write to private field"),e?e.call(s,n):t.set(s,n),n),M=(s,t,n)=>(jn(s,t,"access private method"),n);var On=(s,t,n,e)=>({set _(i){E(s,t,i,n)},get _(){return l(s,t,e)}});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var t=s.default;if(typeof t=="function"){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(e){var i=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(n,e,i.get?i:{enumerable:!0,get:function(){return s[e]}})}),n}var jasmine$3={exports:{}};let ExitHandler$1=class{constructor(t){this._onExit=t}install(){process.on("exit",this._onExit)}uninstall(){process.removeListener("exit",this._onExit)}};var exit_handler=ExitHandler$1,console_spec_filter={exports:{}};(function(s,t){s.exports=n;function n(e){const i=e&&e.filterString,r=new RegExp(i);this.matches=function(a){return r.test(a)}}})(console_spec_filter);var console_spec_filterExports=console_spec_filter.exports;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);var commonjs$4={},commonjs$3={},balancedMatch=balanced$1;function balanced$1(s,t,n){s instanceof RegExp&&(s=maybeMatch(s,n)),t instanceof RegExp&&(t=maybeMatch(t,n));var e=range(s,t,n);return e&&{start:e[0],end:e[1],pre:n.slice(0,e[0]),body:n.slice(e[0]+s.length,e[1]),post:n.slice(e[1]+t.length)}}function maybeMatch(s,t){var n=t.match(s);return n?n[0]:null}balanced$1.range=range;function range(s,t,n){var e,i,r,a,u,o=n.indexOf(s),c=n.indexOf(t,o+1),h=o;if(o>=0&&c>0){if(s===t)return[o,c];for(e=[],r=n.length;h>=0&&!u;)h==o?(e.push(h),o=n.indexOf(s,h+1)):e.length==1?u=[e.pop(),c]:(i=e.pop(),i<r&&(r=i,a=c),c=n.indexOf(t,h+1)),h=o<c&&o>=0?o:c;e.length&&(u=[r,a])}return u}var balanced=balancedMatch,braceExpansion=expandTop,escSlash="\0SLASH"+Math.random()+"\0",escOpen="\0OPEN"+Math.random()+"\0",escClose="\0CLOSE"+Math.random()+"\0",escComma="\0COMMA"+Math.random()+"\0",escPeriod="\0PERIOD"+Math.random()+"\0";function numeric(s){return parseInt(s,10)==s?parseInt(s,10):s.charCodeAt(0)}function escapeBraces(s){return s.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)}function unescapeBraces(s){return s.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}function parseCommaParts(s){if(!s)return[""];var t=[],n=balanced("{","}",s);if(!n)return s.split(",");var e=n.pre,i=n.body,r=n.post,a=e.split(",");a[a.length-1]+="{"+i+"}";var u=parseCommaParts(r);return r.length&&(a[a.length-1]+=u.shift(),a.push.apply(a,u)),t.push.apply(t,a),t}function expandTop(s){return s?(s.substr(0,2)==="{}"&&(s="\\{\\}"+s.substr(2)),expand(escapeBraces(s),!0).map(unescapeBraces)):[]}function embrace(s){return"{"+s+"}"}function isPadded(s){return/^-?0\d/.test(s)}function lte(s,t){return s<=t}function gte(s,t){return s>=t}function expand(s,t){var n=[],e=balanced("{","}",s);if(!e)return[s];var i=e.pre,r=e.post.length?expand(e.post,!1):[""];if(/\$$/.test(e.pre))for(var a=0;a<r.length;a++){var u=i+"{"+e.body+"}"+r[a];n.push(u)}else{var o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(e.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(e.body),h=o||c,p=e.body.indexOf(",")>=0;if(!h&&!p)return e.post.match(/,.*\}/)?(s=e.pre+"{"+e.body+escClose+e.post,expand(s)):[s];var d;if(h)d=e.body.split(/\.\./);else if(d=parseCommaParts(e.body),d.length===1&&(d=expand(d[0],!1).map(embrace),d.length===1))return r.map(function(U){return e.pre+d[0]+U});var g;if(h){var m=numeric(d[0]),y=numeric(d[1]),R=Math.max(d[0].length,d[1].length),_=d.length==3?Math.abs(numeric(d[2])):1,x=lte,I=y<m;I&&(_*=-1,x=gte);var A=d.some(isPadded);g=[];for(var J=m;x(J,y);J+=_){var B;if(c)B=String.fromCharCode(J),B==="\\"&&(B="");else if(B=String(J),A){var S=R-B.length;if(S>0){var L=new Array(S+1).join("0");J<0?B="-"+L+B.slice(1):B=L+B}}g.push(B)}}else{g=[];for(var k=0;k<d.length;k++)g.push.apply(g,expand(d[k],!1))}for(var k=0;k<g.length;k++)for(var a=0;a<r.length;a++){var u=i+g[k]+r[a];(!t||h||u)&&n.push(u)}}return n}var assertValidPattern$1={};Object.defineProperty(assertValidPattern$1,"__esModule",{value:!0});assertValidPattern$1.assertValidPattern=void 0;const MAX_PATTERN_LENGTH=1024*64,assertValidPattern=s=>{if(typeof s!="string")throw new TypeError("invalid pattern");if(s.length>MAX_PATTERN_LENGTH)throw new TypeError("pattern is too long")};assertValidPattern$1.assertValidPattern=assertValidPattern;var ast={},braceExpressions={};Object.defineProperty(braceExpressions,"__esModule",{value:!0});braceExpressions.parseClass=void 0;const posixClasses={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},braceEscape=s=>s.replace(/[[\]\\-]/g,"\\$&"),regexpEscape=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),rangesToString=s=>s.join(""),parseClass=(s,t)=>{const n=t;if(s.charAt(n)!=="[")throw new Error("not in a brace expression");const e=[],i=[];let r=n+1,a=!1,u=!1,o=!1,c=!1,h=n,p="";t:for(;r<s.length;){const y=s.charAt(r);if((y==="!"||y==="^")&&r===n+1){c=!0,r++;continue}if(y==="]"&&a&&!o){h=r+1;break}if(a=!0,y==="\\"&&!o){o=!0,r++;continue}if(y==="["&&!o){for(const[R,[_,x,I]]of Object.entries(posixClasses))if(s.startsWith(R,r)){if(p)return["$.",!1,s.length-n,!0];r+=R.length,I?i.push(_):e.push(_),u=u||x;continue t}}if(o=!1,p){y>p?e.push(braceEscape(p)+"-"+braceEscape(y)):y===p&&e.push(braceEscape(y)),p="",r++;continue}if(s.startsWith("-]",r+1)){e.push(braceEscape(y+"-")),r+=2;continue}if(s.startsWith("-",r+1)){p=y,r+=2;continue}e.push(braceEscape(y)),r++}if(h<r)return["",!1,0,!1];if(!e.length&&!i.length)return["$.",!1,s.length-n,!0];if(i.length===0&&e.length===1&&/^\\?.$/.test(e[0])&&!c){const y=e[0].length===2?e[0].slice(-1):e[0];return[regexpEscape(y),!1,h-n,!1]}const d="["+(c?"^":"")+rangesToString(e)+"]",g="["+(c?"":"^")+rangesToString(i)+"]";return[e.length&&i.length?"("+d+"|"+g+")":e.length?d:g,u,h-n,!0]};braceExpressions.parseClass=parseClass;var _unescape={};Object.defineProperty(_unescape,"__esModule",{value:!0});_unescape.unescape=void 0;const unescape=(s,{windowsPathsNoEscape:t=!1}={})=>t?s.replace(/\[([^\/\\])\]/g,"$1"):s.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");_unescape.unescape=unescape;Object.defineProperty(ast,"__esModule",{value:!0});ast.AST=void 0;const brace_expressions_js_1=braceExpressions,unescape_js_1=_unescape,types=new Set(["!","?","+","*","@"]),isExtglobType=s=>types.has(s),startNoTraversal="(?!(?:^|/)\\.\\.?(?:$|/))",startNoDot="(?!\\.)",addPatternStart=new Set(["[","."]),justDots=new Set(["..","."]),reSpecials=new Set("().*{}+?[]^$\\!"),regExpEscape=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),qmark="[^/]",star=qmark+"*?",starNoEmpty=qmark+"+?";var mt,bt,te,ct,ht,fe,Fe,pe,Xt,Ce,Ze,De,rs,be,Tn,Wn,os;const Ct=class Ct{constructor(t,n,e={}){N(this,De);F(this,"type");N(this,mt);N(this,bt);N(this,te,!1);N(this,ct,[]);N(this,ht);N(this,fe);N(this,Fe);N(this,pe,!1);N(this,Xt);N(this,Ce);N(this,Ze,!1);this.type=t,t&&E(this,bt,!0),E(this,ht,n),E(this,mt,l(this,ht)?l(l(this,ht),mt):this),E(this,Xt,l(this,mt)===this?e:l(l(this,mt),Xt)),E(this,Fe,l(this,mt)===this?[]:l(l(this,mt),Fe)),t==="!"&&!l(l(this,mt),pe)&&l(this,Fe).push(this),E(this,fe,l(this,ht)?l(l(this,ht),ct).length:0)}get hasMagic(){if(l(this,bt)!==void 0)return l(this,bt);for(const t of l(this,ct))if(typeof t!="string"&&(t.type||t.hasMagic))return E(this,bt,!0);return l(this,bt)}toString(){return l(this,Ce)!==void 0?l(this,Ce):this.type?E(this,Ce,this.type+"("+l(this,ct).map(t=>String(t)).join("|")+")"):E(this,Ce,l(this,ct).map(t=>String(t)).join(""))}push(...t){for(const n of t)if(n!==""){if(typeof n!="string"&&!(n instanceof Ct&&l(n,ht)===this))throw new Error("invalid part: "+n);l(this,ct).push(n)}}toJSON(){var n;const t=this.type===null?l(this,ct).slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...l(this,ct).map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===l(this,mt)||l(l(this,mt),pe)&&((n=l(this,ht))==null?void 0:n.type)==="!")&&t.push({}),t}isStart(){var n;if(l(this,mt)===this)return!0;if(!((n=l(this,ht))!=null&&n.isStart()))return!1;if(l(this,fe)===0)return!0;const t=l(this,ht);for(let e=0;e<l(this,fe);e++){const i=l(t,ct)[e];if(!(i instanceof Ct&&i.type==="!"))return!1}return!0}isEnd(){var n,e,i;if(l(this,mt)===this||((n=l(this,ht))==null?void 0:n.type)==="!")return!0;if(!((e=l(this,ht))!=null&&e.isEnd()))return!1;if(!this.type)return(i=l(this,ht))==null?void 0:i.isEnd();const t=l(this,ht)?l(l(this,ht),ct).length:0;return l(this,fe)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const n=new Ct(this.type,t);for(const e of l(this,ct))n.copyIn(e);return n}static fromGlob(t,n={}){var i;const e=new Ct(null,void 0,n);return M(i=Ct,be,Tn).call(i,t,e,0,n),e}toMMPattern(){if(this!==l(this,mt))return l(this,mt).toMMPattern();const t=this.toString(),[n,e,i,r]=this.toRegExpSource();if(!(i||l(this,bt)||l(this,Xt).nocase&&!l(this,Xt).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return e;const u=(l(this,Xt).nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${n}$`,u),{_src:n,_glob:t})}get options(){return l(this,Xt)}toRegExpSource(t){var o;const n=t??!!l(this,Xt).dot;if(l(this,mt)===this&&M(this,De,rs).call(this),!this.type){const c=this.isStart()&&this.isEnd(),h=l(this,ct).map(m=>{var I;const[y,R,_,x]=typeof m=="string"?M(I=Ct,be,os).call(I,m,l(this,bt),c):m.toRegExpSource(t);return E(this,bt,l(this,bt)||_),E(this,te,l(this,te)||x),y}).join("");let p="";if(this.isStart()&&typeof l(this,ct)[0]=="string"&&!(l(this,ct).length===1&&justDots.has(l(this,ct)[0]))){const y=addPatternStart,R=n&&y.has(h.charAt(0))||h.startsWith("\\.")&&y.has(h.charAt(2))||h.startsWith("\\.\\.")&&y.has(h.charAt(4)),_=!n&&!t&&y.has(h.charAt(0));p=R?startNoTraversal:_?startNoDot:""}let d="";return this.isEnd()&&l(l(this,mt),pe)&&((o=l(this,ht))==null?void 0:o.type)==="!"&&(d="(?:$|\\/)"),[p+h+d,(0,unescape_js_1.unescape)(h),E(this,bt,!!l(this,bt)),l(this,te)]}const e=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let r=M(this,De,Wn).call(this,n);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const c=this.toString();return E(this,ct,[c]),this.type=null,E(this,bt,void 0),[c,(0,unescape_js_1.unescape)(this.toString()),!1,!1]}let a=!e||t||n||!startNoDot?"":M(this,De,Wn).call(this,!0);a===r&&(a=""),a&&(r=`(?:${r})(?:${a})*?`);let u="";if(this.type==="!"&&l(this,Ze))u=(this.isStart()&&!n?startNoDot:"")+starNoEmpty;else{const c=this.type==="!"?"))"+(this.isStart()&&!n&&!t?startNoDot:"")+star+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;u=i+r+c}return[u,(0,unescape_js_1.unescape)(r),E(this,bt,!!l(this,bt)),l(this,te)]}};mt=new WeakMap,bt=new WeakMap,te=new WeakMap,ct=new WeakMap,ht=new WeakMap,fe=new WeakMap,Fe=new WeakMap,pe=new WeakMap,Xt=new WeakMap,Ce=new WeakMap,Ze=new WeakMap,De=new WeakSet,rs=function(){if(this!==l(this,mt))throw new Error("should only call on root");if(l(this,pe))return this;this.toString(),E(this,pe,!0);let t;for(;t=l(this,Fe).pop();){if(t.type!=="!")continue;let n=t,e=l(n,ht);for(;e;){for(let i=l(n,fe)+1;!e.type&&i<l(e,ct).length;i++)for(const r of l(t,ct)){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(l(e,ct)[i])}n=e,e=l(n,ht)}}return this},be=new WeakSet,Tn=function(t,n,e,i){var g,m;let r=!1,a=!1,u=-1,o=!1;if(n.type===null){let y=e,R="";for(;y<t.length;){const _=t.charAt(y++);if(r||_==="\\"){r=!r,R+=_;continue}if(a){y===u+1?(_==="^"||_==="!")&&(o=!0):_==="]"&&!(y===u+2&&o)&&(a=!1),R+=_;continue}else if(_==="["){a=!0,u=y,o=!1,R+=_;continue}if(!i.noext&&isExtglobType(_)&&t.charAt(y)==="("){n.push(R),R="";const x=new Ct(_,n);y=M(g=Ct,be,Tn).call(g,t,x,y,i),n.push(x);continue}R+=_}return n.push(R),y}let c=e+1,h=new Ct(null,n);const p=[];let d="";for(;c<t.length;){const y=t.charAt(c++);if(r||y==="\\"){r=!r,d+=y;continue}if(a){c===u+1?(y==="^"||y==="!")&&(o=!0):y==="]"&&!(c===u+2&&o)&&(a=!1),d+=y;continue}else if(y==="["){a=!0,u=c,o=!1,d+=y;continue}if(isExtglobType(y)&&t.charAt(c)==="("){h.push(d),d="";const R=new Ct(y,h);h.push(R),c=M(m=Ct,be,Tn).call(m,t,R,c,i);continue}if(y==="|"){h.push(d),d="",p.push(h),h=new Ct(null,n);continue}if(y===")")return d===""&&l(n,ct).length===0&&E(n,Ze,!0),h.push(d),d="",n.push(...p,h),c;d+=y}return n.type=null,E(n,bt,void 0),E(n,ct,[t.substring(e-1)]),c},Wn=function(t){return l(this,ct).map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[e,i,r,a]=n.toRegExpSource(t);return E(this,te,l(this,te)||a),e}).filter(n=>!(this.isStart()&&this.isEnd())||!!n).join("|")},os=function(t,n,e=!1){let i=!1,r="",a=!1;for(let u=0;u<t.length;u++){const o=t.charAt(u);if(i){i=!1,r+=(reSpecials.has(o)?"\\":"")+o;continue}if(o==="\\"){u===t.length-1?r+="\\\\":i=!0;continue}if(o==="["){const[c,h,p,d]=(0,brace_expressions_js_1.parseClass)(t,u);if(p){r+=c,a=a||h,u+=p-1,n=n||d;continue}}if(o==="*"){e&&t==="*"?r+=starNoEmpty:r+=star,n=!0;continue}if(o==="?"){r+=qmark,n=!0;continue}r+=regExpEscape(o)}return[r,(0,unescape_js_1.unescape)(t),!!n,a]},N(Ct,be);let AST=Ct;ast.AST=AST;var _escape={};Object.defineProperty(_escape,"__esModule",{value:!0});_escape.escape=void 0;const escape=(s,{windowsPathsNoEscape:t=!1}={})=>t?s.replace(/[?*()[\]]/g,"[$&]"):s.replace(/[?*()[\]\\]/g,"\\$&");_escape.escape=escape;(function(s){var t={},n=commonjsGlobal&&commonjsGlobal.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(s,"__esModule",{value:!0}),s.unescape=s.escape=s.AST=s.Minimatch=s.match=s.makeRe=s.braceExpand=s.defaults=s.filter=s.GLOBSTAR=s.sep=s.minimatch=void 0;const e=n(braceExpansion),i=assertValidPattern$1,r=ast,a=_escape,u=_unescape,o=(j,w,C={})=>((0,i.assertValidPattern)(w),!C.nocomment&&w.charAt(0)==="#"?!1:new Ee(w,C).match(j));s.minimatch=o;const c=/^\*+([^+@!?\*\[\(]*)$/,h=j=>w=>!w.startsWith(".")&&w.endsWith(j),p=j=>w=>w.endsWith(j),d=j=>(j=j.toLowerCase(),w=>!w.startsWith(".")&&w.toLowerCase().endsWith(j)),g=j=>(j=j.toLowerCase(),w=>w.toLowerCase().endsWith(j)),m=/^\*+\.\*+$/,y=j=>!j.startsWith(".")&&j.includes("."),R=j=>j!=="."&&j!==".."&&j.includes("."),_=/^\.\*+$/,x=j=>j!=="."&&j!==".."&&j.startsWith("."),I=/^\*+$/,A=j=>j.length!==0&&!j.startsWith("."),J=j=>j.length!==0&&j!=="."&&j!=="..",B=/^\?+([^+@!?\*\[\(]*)?$/,S=([j,w=""])=>{const C=X([j]);return w?(w=w.toLowerCase(),T=>C(T)&&T.toLowerCase().endsWith(w)):C},L=([j,w=""])=>{const C=V([j]);return w?(w=w.toLowerCase(),T=>C(T)&&T.toLowerCase().endsWith(w)):C},k=([j,w=""])=>{const C=V([j]);return w?T=>C(T)&&T.endsWith(w):C},U=([j,w=""])=>{const C=X([j]);return w?T=>C(T)&&T.endsWith(w):C},X=([j])=>{const w=j.length;return C=>C.length===w&&!C.startsWith(".")},V=([j])=>{const w=j.length;return C=>C.length===w&&C!=="."&&C!==".."},$=typeof process=="object"&&process?typeof t=="object"&&t&&t.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",lt={win32:{sep:"\\"},posix:{sep:"/"}};s.sep=$==="win32"?lt.win32.sep:lt.posix.sep,s.minimatch.sep=s.sep,s.GLOBSTAR=Symbol("globstar **"),s.minimatch.GLOBSTAR=s.GLOBSTAR;const Rt="[^/]"+"*?",xt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",rt="(?:(?!(?:\\/|^)\\.).)*?",Yt=(j,w={})=>C=>(0,s.minimatch)(C,j,w);s.filter=Yt,s.minimatch.filter=s.filter;const b=(j,w={})=>Object.assign({},j,w),P=j=>{if(!j||typeof j!="object"||!Object.keys(j).length)return s.minimatch;const w=s.minimatch;return Object.assign((T,v,W={})=>w(T,v,b(j,W)),{Minimatch:class extends w.Minimatch{constructor(v,W={}){super(v,b(j,W))}static defaults(v){return w.defaults(b(j,v)).Minimatch}},AST:class extends w.AST{constructor(v,W,z={}){super(v,W,b(j,z))}static fromGlob(v,W={}){return w.AST.fromGlob(v,b(j,W))}},unescape:(T,v={})=>w.unescape(T,b(j,v)),escape:(T,v={})=>w.escape(T,b(j,v)),filter:(T,v={})=>w.filter(T,b(j,v)),defaults:T=>w.defaults(b(j,T)),makeRe:(T,v={})=>w.makeRe(T,b(j,v)),braceExpand:(T,v={})=>w.braceExpand(T,b(j,v)),match:(T,v,W={})=>w.match(T,v,b(j,W)),sep:w.sep,GLOBSTAR:s.GLOBSTAR})};s.defaults=P,s.minimatch.defaults=s.defaults;const G=(j,w={})=>((0,i.assertValidPattern)(j),w.nobrace||!/\{(?:(?!\{).)*\}/.test(j)?[j]:(0,e.default)(j));s.braceExpand=G,s.minimatch.braceExpand=s.braceExpand;const tt=(j,w={})=>new Ee(j,w).makeRe();s.makeRe=tt,s.minimatch.makeRe=s.makeRe;const wt=(j,w,C={})=>{const T=new Ee(w,C);return j=j.filter(v=>T.match(v)),T.options.nonull&&!j.length&&j.push(w),j};s.match=wt,s.minimatch.match=s.match;const Se=/[?*]|[+@!]\(.*?\)|\[|\]/,Dn=j=>j.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Ee{constructor(w,C={}){F(this,"options");F(this,"set");F(this,"pattern");F(this,"windowsPathsNoEscape");F(this,"nonegate");F(this,"negate");F(this,"comment");F(this,"empty");F(this,"preserveMultipleSlashes");F(this,"partial");F(this,"globSet");F(this,"globParts");F(this,"nocase");F(this,"isWindows");F(this,"platform");F(this,"windowsNoMagicRoot");F(this,"regexp");(0,i.assertValidPattern)(w),C=C||{},this.options=C,this.pattern=w,this.platform=C.platform||$,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!C.windowsPathsNoEscape||C.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!C.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!C.nonegate,this.comment=!1,this.empty=!1,this.partial=!!C.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=C.windowsNoMagicRoot!==void 0?C.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const w of this.set)for(const C of w)if(typeof C!="string")return!0;return!1}debug(...w){}make(){const w=this.pattern,C=this.options;if(!C.nocomment&&w.charAt(0)==="#"){this.comment=!0;return}if(!w){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],C.debug&&(this.debug=(...W)=>console.error(...W)),this.debug(this.pattern,this.globSet);const T=this.globSet.map(W=>this.slashSplit(W));this.globParts=this.preprocess(T),this.debug(this.pattern,this.globParts);let v=this.globParts.map((W,z,et)=>{if(this.isWindows&&this.windowsNoMagicRoot){const st=W[0]===""&&W[1]===""&&(W[2]==="?"||!Se.test(W[2]))&&!Se.test(W[3]),it=/^[a-z]:/i.test(W[0]);if(st)return[...W.slice(0,4),...W.slice(4).map(nt=>this.parse(nt))];if(it)return[W[0],...W.slice(1).map(nt=>this.parse(nt))]}return W.map(st=>this.parse(st))});if(this.debug(this.pattern,v),this.set=v.filter(W=>W.indexOf(!1)===-1),this.isWindows)for(let W=0;W<this.set.length;W++){const z=this.set[W];z[0]===""&&z[1]===""&&this.globParts[W][2]==="?"&&typeof z[3]=="string"&&/^[a-z]:$/i.test(z[3])&&(z[2]="?")}this.debug(this.pattern,this.set)}preprocess(w){if(this.options.noglobstar)for(let T=0;T<w.length;T++)for(let v=0;v<w[T].length;v++)w[T][v]==="**"&&(w[T][v]="*");const{optimizationLevel:C=1}=this.options;return C>=2?(w=this.firstPhasePreProcess(w),w=this.secondPhasePreProcess(w)):C>=1?w=this.levelOneOptimize(w):w=this.adjascentGlobstarOptimize(w),w}adjascentGlobstarOptimize(w){return w.map(C=>{let T=-1;for(;(T=C.indexOf("**",T+1))!==-1;){let v=T;for(;C[v+1]==="**";)v++;v!==T&&C.splice(T,v-T)}return C})}levelOneOptimize(w){return w.map(C=>(C=C.reduce((T,v)=>{const W=T[T.length-1];return v==="**"&&W==="**"?T:v===".."&&W&&W!==".."&&W!=="."&&W!=="**"?(T.pop(),T):(T.push(v),T)},[]),C.length===0?[""]:C))}levelTwoFileOptimize(w){Array.isArray(w)||(w=this.slashSplit(w));let C=!1;do{if(C=!1,!this.preserveMultipleSlashes){for(let v=1;v<w.length-1;v++){const W=w[v];v===1&&W===""&&w[0]===""||(W==="."||W==="")&&(C=!0,w.splice(v,1),v--)}w[0]==="."&&w.length===2&&(w[1]==="."||w[1]==="")&&(C=!0,w.pop())}let T=0;for(;(T=w.indexOf("..",T+1))!==-1;){const v=w[T-1];v&&v!=="."&&v!==".."&&v!=="**"&&(C=!0,w.splice(T-1,2),T-=2)}}while(C);return w.length===0?[""]:w}firstPhasePreProcess(w){let C=!1;do{C=!1;for(let T of w){let v=-1;for(;(v=T.indexOf("**",v+1))!==-1;){let z=v;for(;T[z+1]==="**";)z++;z>v&&T.splice(v+1,z-v);let et=T[v+1];const st=T[v+2],it=T[v+3];if(et!==".."||!st||st==="."||st===".."||!it||it==="."||it==="..")continue;C=!0,T.splice(v,1);const nt=T.slice(0);nt[v]="**",w.push(nt),v--}if(!this.preserveMultipleSlashes){for(let z=1;z<T.length-1;z++){const et=T[z];z===1&&et===""&&T[0]===""||(et==="."||et==="")&&(C=!0,T.splice(z,1),z--)}T[0]==="."&&T.length===2&&(T[1]==="."||T[1]==="")&&(C=!0,T.pop())}let W=0;for(;(W=T.indexOf("..",W+1))!==-1;){const z=T[W-1];if(z&&z!=="."&&z!==".."&&z!=="**"){C=!0;const st=W===1&&T[W+1]==="**"?["."]:[];T.splice(W-1,2,...st),T.length===0&&T.push(""),W-=2}}}}while(C);return w}secondPhasePreProcess(w){for(let C=0;C<w.length-1;C++)for(let T=C+1;T<w.length;T++){const v=this.partsMatch(w[C],w[T],!this.preserveMultipleSlashes);if(v){w[C]=[],w[T]=v;break}}return w.filter(C=>C.length)}partsMatch(w,C,T=!1){let v=0,W=0,z=[],et="";for(;v<w.length&&W<C.length;)if(w[v]===C[W])z.push(et==="b"?C[W]:w[v]),v++,W++;else if(T&&w[v]==="**"&&C[W]===w[v+1])z.push(w[v]),v++;else if(T&&C[W]==="**"&&w[v]===C[W+1])z.push(C[W]),W++;else if(w[v]==="*"&&C[W]&&(this.options.dot||!C[W].startsWith("."))&&C[W]!=="**"){if(et==="b")return!1;et="a",z.push(w[v]),v++,W++}else if(C[W]==="*"&&w[v]&&(this.options.dot||!w[v].startsWith("."))&&w[v]!=="**"){if(et==="a")return!1;et="b",z.push(C[W]),v++,W++}else return!1;return w.length===C.length&&z}parseNegate(){if(this.nonegate)return;const w=this.pattern;let C=!1,T=0;for(let v=0;v<w.length&&w.charAt(v)==="!";v++)C=!C,T++;T&&(this.pattern=w.slice(T)),this.negate=C}matchOne(w,C,T=!1){const v=this.options;if(this.isWindows){const jt=typeof w[0]=="string"&&/^[a-z]:$/i.test(w[0]),xn=!jt&&w[0]===""&&w[1]===""&&w[2]==="?"&&/^[a-z]:$/i.test(w[3]),ze=typeof C[0]=="string"&&/^[a-z]:$/i.test(C[0]),Rn=!ze&&C[0]===""&&C[1]===""&&C[2]==="?"&&typeof C[3]=="string"&&/^[a-z]:$/i.test(C[3]),ce=xn?3:jt?0:void 0,$t=Rn?3:ze?0:void 0;if(typeof ce=="number"&&typeof $t=="number"){const[He,K]=[w[ce],C[$t]];He.toLowerCase()===K.toLowerCase()&&(C[$t]=He,$t>ce?C=C.slice($t):ce>$t&&(w=w.slice(ce)))}}const{optimizationLevel:W=1}=this.options;W>=2&&(w=this.levelTwoFileOptimize(w)),this.debug("matchOne",this,{file:w,pattern:C}),this.debug("matchOne",w.length,C.length);for(var z=0,et=0,st=w.length,it=C.length;z<st&&et<it;z++,et++){this.debug("matchOne loop");var nt=C[et],pt=w[z];if(this.debug(C,nt,pt),nt===!1)return!1;if(nt===s.GLOBSTAR){this.debug("GLOBSTAR",[C,nt,pt]);var dt=z,Pt=et+1;if(Pt===it){for(this.debug("** at the end");z<st;z++)if(w[z]==="."||w[z]===".."||!v.dot&&w[z].charAt(0)===".")return!1;return!0}for(;dt<st;){var ae=w[dt];if(this.debug(`
globstar while`,w,dt,C,Pt,ae),this.matchOne(w.slice(dt),C.slice(Pt),T))return this.debug("globstar found match!",dt,st,ae),!0;if(ae==="."||ae===".."||!v.dot&&ae.charAt(0)==="."){this.debug("dot detected!",w,dt,C,Pt);break}this.debug("globstar swallow a segment, and continue"),dt++}return!!(T&&(this.debug(`
>>> no match, partial?`,w,dt,C,Pt),dt===st))}let jt;if(typeof nt=="string"?(jt=pt===nt,this.debug("string match",nt,pt,jt)):(jt=nt.test(pt),this.debug("pattern match",nt,pt,jt)),!jt)return!1}if(z===st&&et===it)return!0;if(z===st)return T;if(et===it)return z===st-1&&w[z]==="";throw new Error("wtf?")}braceExpand(){return(0,s.braceExpand)(this.pattern,this.options)}parse(w){(0,i.assertValidPattern)(w);const C=this.options;if(w==="**")return s.GLOBSTAR;if(w==="")return"";let T,v=null;(T=w.match(I))?v=C.dot?J:A:(T=w.match(c))?v=(C.nocase?C.dot?g:d:C.dot?p:h)(T[1]):(T=w.match(B))?v=(C.nocase?C.dot?L:S:C.dot?k:U)(T):(T=w.match(m))?v=C.dot?R:y:(T=w.match(_))&&(v=x);const W=r.AST.fromGlob(w,this.options).toMMPattern();return v&&typeof W=="object"&&Reflect.defineProperty(W,"test",{value:v}),W}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const w=this.set;if(!w.length)return this.regexp=!1,this.regexp;const C=this.options,T=C.noglobstar?Rt:C.dot?xt:rt,v=new Set(C.nocase?["i"]:[]);let W=w.map(st=>{const it=st.map(nt=>{if(nt instanceof RegExp)for(const pt of nt.flags.split(""))v.add(pt);return typeof nt=="string"?Dn(nt):nt===s.GLOBSTAR?s.GLOBSTAR:nt._src});return it.forEach((nt,pt)=>{const dt=it[pt+1],Pt=it[pt-1];nt!==s.GLOBSTAR||Pt===s.GLOBSTAR||(Pt===void 0?dt!==void 0&&dt!==s.GLOBSTAR?it[pt+1]="(?:\\/|"+T+"\\/)?"+dt:it[pt]=T:dt===void 0?it[pt-1]=Pt+"(?:\\/|"+T+")?":dt!==s.GLOBSTAR&&(it[pt-1]=Pt+"(?:\\/|\\/"+T+"\\/)"+dt,it[pt+1]=s.GLOBSTAR))}),it.filter(nt=>nt!==s.GLOBSTAR).join("/")}).join("|");const[z,et]=w.length>1?["(?:",")"]:["",""];W="^"+z+W+et+"$",this.negate&&(W="^(?!"+W+").+$");try{this.regexp=new RegExp(W,[...v].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(w){return this.preserveMultipleSlashes?w.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(w)?["",...w.split(/\/+/)]:w.split(/\/+/)}match(w,C=this.partial){if(this.debug("match",w,this.pattern),this.comment)return!1;if(this.empty)return w==="";if(w==="/"&&C)return!0;const T=this.options;this.isWindows&&(w=w.split("\\").join("/"));const v=this.slashSplit(w);this.debug(this.pattern,"split",v);const W=this.set;this.debug(this.pattern,"set",W);let z=v[v.length-1];if(!z)for(let et=v.length-2;!z&&et>=0;et--)z=v[et];for(let et=0;et<W.length;et++){const st=W[et];let it=v;if(T.matchBase&&st.length===1&&(it=[z]),this.matchOne(it,st,C))return T.flipNegate?!0:!this.negate}return T.flipNegate?!1:this.negate}static defaults(w){return s.minimatch.defaults(w).Minimatch}}s.Minimatch=Ee;var Nn=ast;Object.defineProperty(s,"AST",{enumerable:!0,get:function(){return Nn.AST}});var _n=_escape;Object.defineProperty(s,"escape",{enumerable:!0,get:function(){return _n.escape}});var In=_unescape;Object.defineProperty(s,"unescape",{enumerable:!0,get:function(){return In.unescape}}),s.minimatch.AST=r.AST,s.minimatch.Minimatch=Ee,s.minimatch.escape=a.escape,s.minimatch.unescape=u.unescape})(commonjs$3);var glob$1={},commonjs$2={},commonjs$1={};Object.defineProperty(commonjs$1,"__esModule",{value:!0});commonjs$1.LRUCache=void 0;const perf=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,warned=new Set,PROCESS=typeof process=="object"&&process?process:{},emitWarning=(s,t,n,e)=>{typeof PROCESS.emitWarning=="function"?PROCESS.emitWarning(s,t,n,e):console.error(`[${n}] ${t}: ${s}`)};let AC=globalThis.AbortController,AS=globalThis.AbortSignal;var ns;if(typeof AC>"u"){AS=class{constructor(){F(this,"onabort");F(this,"_onabort",[]);F(this,"reason");F(this,"aborted",!1)}addEventListener(e,i){this._onabort.push(i)}},AC=class{constructor(){F(this,"signal",new AS);t()}abort(e){var i,r;if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const a of this.signal._onabort)a(e);(r=(i=this.signal).onabort)==null||r.call(i,e)}}};let s=((ns=PROCESS.env)==null?void 0:ns.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{s&&(s=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const shouldWarn=s=>!warned.has(s),isPosInt=s=>s&&s===Math.floor(s)&&s>0&&isFinite(s),getUintArray=s=>isPosInt(s)?s<=Math.pow(2,8)?Uint8Array:s<=Math.pow(2,16)?Uint16Array:s<=Math.pow(2,32)?Uint32Array:s<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null;class ZeroArray extends Array{constructor(t){super(t),this.fill(0)}}var Ne;const Re=class Re{constructor(t,n){F(this,"heap");F(this,"length");if(!l(Re,Ne))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}static create(t){const n=getUintArray(t);if(!n)return[];E(Re,Ne,!0);const e=new Re(t,n);return E(Re,Ne,!1),e}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};Ne=new WeakMap,N(Re,Ne,!1);let Stack=Re;var ss,is,Wt,kt,qt,Ut,Ie,Le,gt,Gt,ft,at,Q,Ot,Dt,Ft,St,Jt,Et,zt,Ht,Nt,Kt,de,Tt,q,qn,Oe,ee,Qe,It,as,Te,Be,$e,ue,le,Un,An,vn,ot,Gn,Ve,he,Jn;const Qn=class Qn{constructor(t){N(this,q);N(this,Wt);N(this,kt);N(this,qt);N(this,Ut);N(this,Ie);N(this,Le);F(this,"ttl");F(this,"ttlResolution");F(this,"ttlAutopurge");F(this,"updateAgeOnGet");F(this,"updateAgeOnHas");F(this,"allowStale");F(this,"noDisposeOnSet");F(this,"noUpdateTTL");F(this,"maxEntrySize");F(this,"sizeCalculation");F(this,"noDeleteOnFetchRejection");F(this,"noDeleteOnStaleGet");F(this,"allowStaleOnFetchAbort");F(this,"allowStaleOnFetchRejection");F(this,"ignoreFetchAbort");N(this,gt);N(this,Gt);N(this,ft);N(this,at);N(this,Q);N(this,Ot);N(this,Dt);N(this,Ft);N(this,St);N(this,Jt);N(this,Et);N(this,zt);N(this,Ht);N(this,Nt);N(this,Kt);N(this,de);N(this,Tt);N(this,Oe,()=>{});N(this,ee,()=>{});N(this,Qe,()=>{});N(this,It,()=>!1);N(this,Te,t=>{});N(this,Be,(t,n,e)=>{});N(this,$e,(t,n,e,i)=>{if(e||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});F(this,ss,"LRUCache");const{max:n=0,ttl:e,ttlResolution:i=1,ttlAutopurge:r,updateAgeOnGet:a,updateAgeOnHas:u,allowStale:o,dispose:c,disposeAfter:h,noDisposeOnSet:p,noUpdateTTL:d,maxSize:g=0,maxEntrySize:m=0,sizeCalculation:y,fetchMethod:R,memoMethod:_,noDeleteOnFetchRejection:x,noDeleteOnStaleGet:I,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:J,ignoreFetchAbort:B}=t;if(n!==0&&!isPosInt(n))throw new TypeError("max option must be a nonnegative integer");const S=n?getUintArray(n):Array;if(!S)throw new Error("invalid max value: "+n);if(E(this,Wt,n),E(this,kt,g),this.maxEntrySize=m||l(this,kt),this.sizeCalculation=y,this.sizeCalculation){if(!l(this,kt)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(_!==void 0&&typeof _!="function")throw new TypeError("memoMethod must be a function if defined");if(E(this,Le,_),R!==void 0&&typeof R!="function")throw new TypeError("fetchMethod must be a function if specified");if(E(this,Ie,R),E(this,de,!!R),E(this,ft,new Map),E(this,at,new Array(n).fill(void 0)),E(this,Q,new Array(n).fill(void 0)),E(this,Ot,new S(n)),E(this,Dt,new S(n)),E(this,Ft,0),E(this,St,0),E(this,Jt,Stack.create(n)),E(this,gt,0),E(this,Gt,0),typeof c=="function"&&E(this,qt,c),typeof h=="function"?(E(this,Ut,h),E(this,Et,[])):(E(this,Ut,void 0),E(this,Et,void 0)),E(this,Kt,!!l(this,qt)),E(this,Tt,!!l(this,Ut)),this.noDisposeOnSet=!!p,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!x,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!J,this.ignoreFetchAbort=!!B,this.maxEntrySize!==0){if(l(this,kt)!==0&&!isPosInt(l(this,kt)))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");M(this,q,as).call(this)}if(this.allowStale=!!o,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!u,this.ttlResolution=isPosInt(i)||i===0?i:1,this.ttlAutopurge=!!r,this.ttl=e||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");M(this,q,qn).call(this)}if(l(this,Wt)===0&&this.ttl===0&&l(this,kt)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!l(this,Wt)&&!l(this,kt)){const L="LRU_CACHE_UNBOUNDED";shouldWarn(L)&&(warned.add(L),emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",L,Qn))}}static unsafeExposeInternals(t){return{starts:l(t,Ht),ttls:l(t,Nt),sizes:l(t,zt),keyMap:l(t,ft),keyList:l(t,at),valList:l(t,Q),next:l(t,Ot),prev:l(t,Dt),get head(){return l(t,Ft)},get tail(){return l(t,St)},free:l(t,Jt),isBackgroundFetch:n=>{var e;return M(e=t,q,ot).call(e,n)},backgroundFetch:(n,e,i,r)=>{var a;return M(a=t,q,vn).call(a,n,e,i,r)},moveToTail:n=>{var e;return M(e=t,q,Ve).call(e,n)},indexes:n=>{var e;return M(e=t,q,ue).call(e,n)},rindexes:n=>{var e;return M(e=t,q,le).call(e,n)},isStale:n=>{var e;return l(e=t,It).call(e,n)}}}get max(){return l(this,Wt)}get maxSize(){return l(this,kt)}get calculatedSize(){return l(this,Gt)}get size(){return l(this,gt)}get fetchMethod(){return l(this,Ie)}get memoMethod(){return l(this,Le)}get dispose(){return l(this,qt)}get disposeAfter(){return l(this,Ut)}getRemainingTTL(t){return l(this,ft).has(t)?1/0:0}*entries(){for(const t of M(this,q,ue).call(this))l(this,Q)[t]!==void 0&&l(this,at)[t]!==void 0&&!M(this,q,ot).call(this,l(this,Q)[t])&&(yield[l(this,at)[t],l(this,Q)[t]])}*rentries(){for(const t of M(this,q,le).call(this))l(this,Q)[t]!==void 0&&l(this,at)[t]!==void 0&&!M(this,q,ot).call(this,l(this,Q)[t])&&(yield[l(this,at)[t],l(this,Q)[t]])}*keys(){for(const t of M(this,q,ue).call(this)){const n=l(this,at)[t];n!==void 0&&!M(this,q,ot).call(this,l(this,Q)[t])&&(yield n)}}*rkeys(){for(const t of M(this,q,le).call(this)){const n=l(this,at)[t];n!==void 0&&!M(this,q,ot).call(this,l(this,Q)[t])&&(yield n)}}*values(){for(const t of M(this,q,ue).call(this))l(this,Q)[t]!==void 0&&!M(this,q,ot).call(this,l(this,Q)[t])&&(yield l(this,Q)[t])}*rvalues(){for(const t of M(this,q,le).call(this))l(this,Q)[t]!==void 0&&!M(this,q,ot).call(this,l(this,Q)[t])&&(yield l(this,Q)[t])}[(is=Symbol.iterator,ss=Symbol.toStringTag,is)](){return this.entries()}find(t,n={}){for(const e of M(this,q,ue).call(this)){const i=l(this,Q)[e],r=M(this,q,ot).call(this,i)?i.__staleWhileFetching:i;if(r!==void 0&&t(r,l(this,at)[e],this))return this.get(l(this,at)[e],n)}}forEach(t,n=this){for(const e of M(this,q,ue).call(this)){const i=l(this,Q)[e],r=M(this,q,ot).call(this,i)?i.__staleWhileFetching:i;r!==void 0&&t.call(n,r,l(this,at)[e],this)}}rforEach(t,n=this){for(const e of M(this,q,le).call(this)){const i=l(this,Q)[e],r=M(this,q,ot).call(this,i)?i.__staleWhileFetching:i;r!==void 0&&t.call(n,r,l(this,at)[e],this)}}purgeStale(){let t=!1;for(const n of M(this,q,le).call(this,{allowStale:!0}))l(this,It).call(this,n)&&(M(this,q,he).call(this,l(this,at)[n],"expire"),t=!0);return t}info(t){const n=l(this,ft).get(t);if(n===void 0)return;const e=l(this,Q)[n],i=M(this,q,ot).call(this,e)?e.__staleWhileFetching:e;if(i===void 0)return;const r={value:i};if(l(this,Nt)&&l(this,Ht)){const a=l(this,Nt)[n],u=l(this,Ht)[n];if(a&&u){const o=a-(perf.now()-u);r.ttl=o,r.start=Date.now()}}return l(this,zt)&&(r.size=l(this,zt)[n]),r}dump(){const t=[];for(const n of M(this,q,ue).call(this,{allowStale:!0})){const e=l(this,at)[n],i=l(this,Q)[n],r=M(this,q,ot).call(this,i)?i.__staleWhileFetching:i;if(r===void 0||e===void 0)continue;const a={value:r};if(l(this,Nt)&&l(this,Ht)){a.ttl=l(this,Nt)[n];const u=perf.now()-l(this,Ht)[n];a.start=Math.floor(Date.now()-u)}l(this,zt)&&(a.size=l(this,zt)[n]),t.unshift([e,a])}return t}load(t){this.clear();for(const[n,e]of t){if(e.start){const i=Date.now()-e.start;e.start=perf.now()-i}this.set(n,e.value,e)}}set(t,n,e={}){var d,g,m,y,R;if(n===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:r,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:o}=e;let{noUpdateTTL:c=this.noUpdateTTL}=e;const h=l(this,$e).call(this,t,n,e.size||0,u);if(this.maxEntrySize&&h>this.maxEntrySize)return o&&(o.set="miss",o.maxEntrySizeExceeded=!0),M(this,q,he).call(this,t,"set"),this;let p=l(this,gt)===0?void 0:l(this,ft).get(t);if(p===void 0)p=l(this,gt)===0?l(this,St):l(this,Jt).length!==0?l(this,Jt).pop():l(this,gt)===l(this,Wt)?M(this,q,An).call(this,!1):l(this,gt),l(this,at)[p]=t,l(this,Q)[p]=n,l(this,ft).set(t,p),l(this,Ot)[l(this,St)]=p,l(this,Dt)[p]=l(this,St),E(this,St,p),On(this,gt)._++,l(this,Be).call(this,p,h,o),o&&(o.set="add"),c=!1;else{M(this,q,Ve).call(this,p);const _=l(this,Q)[p];if(n!==_){if(l(this,de)&&M(this,q,ot).call(this,_)){_.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:x}=_;x!==void 0&&!a&&(l(this,Kt)&&((d=l(this,qt))==null||d.call(this,x,t,"set")),l(this,Tt)&&((g=l(this,Et))==null||g.push([x,t,"set"])))}else a||(l(this,Kt)&&((m=l(this,qt))==null||m.call(this,_,t,"set")),l(this,Tt)&&((y=l(this,Et))==null||y.push([_,t,"set"])));if(l(this,Te).call(this,p),l(this,Be).call(this,p,h,o),l(this,Q)[p]=n,o){o.set="replace";const x=_&&M(this,q,ot).call(this,_)?_.__staleWhileFetching:_;x!==void 0&&(o.oldValue=x)}}else o&&(o.set="update")}if(i!==0&&!l(this,Nt)&&M(this,q,qn).call(this),l(this,Nt)&&(c||l(this,Qe).call(this,p,i,r),o&&l(this,ee).call(this,o,p)),!a&&l(this,Tt)&&l(this,Et)){const _=l(this,Et);let x;for(;x=_==null?void 0:_.shift();)(R=l(this,Ut))==null||R.call(this,...x)}return this}pop(){var t;try{for(;l(this,gt);){const n=l(this,Q)[l(this,Ft)];if(M(this,q,An).call(this,!0),M(this,q,ot).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(l(this,Tt)&&l(this,Et)){const n=l(this,Et);let e;for(;e=n==null?void 0:n.shift();)(t=l(this,Ut))==null||t.call(this,...e)}}}has(t,n={}){const{updateAgeOnHas:e=this.updateAgeOnHas,status:i}=n,r=l(this,ft).get(t);if(r!==void 0){const a=l(this,Q)[r];if(M(this,q,ot).call(this,a)&&a.__staleWhileFetching===void 0)return!1;if(l(this,It).call(this,r))i&&(i.has="stale",l(this,ee).call(this,i,r));else return e&&l(this,Oe).call(this,r),i&&(i.has="hit",l(this,ee).call(this,i,r)),!0}else i&&(i.has="miss");return!1}peek(t,n={}){const{allowStale:e=this.allowStale}=n,i=l(this,ft).get(t);if(i===void 0||!e&&l(this,It).call(this,i))return;const r=l(this,Q)[i];return M(this,q,ot).call(this,r)?r.__staleWhileFetching:r}async fetch(t,n={}){const{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:o=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:p=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:g=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:y,forceRefresh:R=!1,status:_,signal:x}=n;if(!l(this,de))return _&&(_.fetch="get"),this.get(t,{allowStale:e,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:_});const I={allowStale:e,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:a,noDisposeOnSet:u,size:o,sizeCalculation:c,noUpdateTTL:h,noDeleteOnFetchRejection:p,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:m,ignoreFetchAbort:g,status:_,signal:x};let A=l(this,ft).get(t);if(A===void 0){_&&(_.fetch="miss");const J=M(this,q,vn).call(this,t,A,I,y);return J.__returned=J}else{const J=l(this,Q)[A];if(M(this,q,ot).call(this,J)){const U=e&&J.__staleWhileFetching!==void 0;return _&&(_.fetch="inflight",U&&(_.returnedStale=!0)),U?J.__staleWhileFetching:J.__returned=J}const B=l(this,It).call(this,A);if(!R&&!B)return _&&(_.fetch="hit"),M(this,q,Ve).call(this,A),i&&l(this,Oe).call(this,A),_&&l(this,ee).call(this,_,A),J;const S=M(this,q,vn).call(this,t,A,I,y),k=S.__staleWhileFetching!==void 0&&e;return _&&(_.fetch=B?"stale":"refresh",k&&B&&(_.returnedStale=!0)),k?S.__staleWhileFetching:S.__returned=S}}async forceFetch(t,n={}){const e=await this.fetch(t,n);if(e===void 0)throw new Error("fetch() returned undefined");return e}memo(t,n={}){const e=l(this,Le);if(!e)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:r,...a}=n,u=this.get(t,a);if(!r&&u!==void 0)return u;const o=e(t,u,{options:a,context:i});return this.set(t,o,a),o}get(t,n={}){const{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:a}=n,u=l(this,ft).get(t);if(u!==void 0){const o=l(this,Q)[u],c=M(this,q,ot).call(this,o);return a&&l(this,ee).call(this,a,u),l(this,It).call(this,u)?(a&&(a.get="stale"),c?(a&&e&&o.__staleWhileFetching!==void 0&&(a.returnedStale=!0),e?o.__staleWhileFetching:void 0):(r||M(this,q,he).call(this,t,"expire"),a&&e&&(a.returnedStale=!0),e?o:void 0)):(a&&(a.get="hit"),c?o.__staleWhileFetching:(M(this,q,Ve).call(this,u),i&&l(this,Oe).call(this,u),o))}else a&&(a.get="miss")}delete(t){return M(this,q,he).call(this,t,"delete")}clear(){return M(this,q,Jn).call(this,"delete")}};Wt=new WeakMap,kt=new WeakMap,qt=new WeakMap,Ut=new WeakMap,Ie=new WeakMap,Le=new WeakMap,gt=new WeakMap,Gt=new WeakMap,ft=new WeakMap,at=new WeakMap,Q=new WeakMap,Ot=new WeakMap,Dt=new WeakMap,Ft=new WeakMap,St=new WeakMap,Jt=new WeakMap,Et=new WeakMap,zt=new WeakMap,Ht=new WeakMap,Nt=new WeakMap,Kt=new WeakMap,de=new WeakMap,Tt=new WeakMap,q=new WeakSet,qn=function(){const t=new ZeroArray(l(this,Wt)),n=new ZeroArray(l(this,Wt));E(this,Nt,t),E(this,Ht,n),E(this,Qe,(r,a,u=perf.now())=>{if(n[r]=a!==0?u:0,t[r]=a,a!==0&&this.ttlAutopurge){const o=setTimeout(()=>{l(this,It).call(this,r)&&M(this,q,he).call(this,l(this,at)[r],"expire")},a+1);o.unref&&o.unref()}}),E(this,Oe,r=>{n[r]=t[r]!==0?perf.now():0}),E(this,ee,(r,a)=>{if(t[a]){const u=t[a],o=n[a];if(!u||!o)return;r.ttl=u,r.start=o,r.now=e||i();const c=r.now-o;r.remainingTTL=u-c}});let e=0;const i=()=>{const r=perf.now();if(this.ttlResolution>0){e=r;const a=setTimeout(()=>e=0,this.ttlResolution);a.unref&&a.unref()}return r};this.getRemainingTTL=r=>{const a=l(this,ft).get(r);if(a===void 0)return 0;const u=t[a],o=n[a];if(!u||!o)return 1/0;const c=(e||i())-o;return u-c},E(this,It,r=>{const a=n[r],u=t[r];return!!u&&!!a&&(e||i())-a>u})},Oe=new WeakMap,ee=new WeakMap,Qe=new WeakMap,It=new WeakMap,as=function(){const t=new ZeroArray(l(this,Wt));E(this,Gt,0),E(this,zt,t),E(this,Te,n=>{E(this,Gt,l(this,Gt)-t[n]),t[n]=0}),E(this,$e,(n,e,i,r)=>{if(M(this,q,ot).call(this,e))return 0;if(!isPosInt(i))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(i=r(e,n),!isPosInt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i}),E(this,Be,(n,e,i)=>{if(t[n]=e,l(this,kt)){const r=l(this,kt)-t[n];for(;l(this,Gt)>r;)M(this,q,An).call(this,!0)}E(this,Gt,l(this,Gt)+t[n]),i&&(i.entrySize=e,i.totalCalculatedSize=l(this,Gt))})},Te=new WeakMap,Be=new WeakMap,$e=new WeakMap,ue=function*({allowStale:t=this.allowStale}={}){if(l(this,gt))for(let n=l(this,St);!(!M(this,q,Un).call(this,n)||((t||!l(this,It).call(this,n))&&(yield n),n===l(this,Ft)));)n=l(this,Dt)[n]},le=function*({allowStale:t=this.allowStale}={}){if(l(this,gt))for(let n=l(this,Ft);!(!M(this,q,Un).call(this,n)||((t||!l(this,It).call(this,n))&&(yield n),n===l(this,St)));)n=l(this,Ot)[n]},Un=function(t){return t!==void 0&&l(this,ft).get(l(this,at)[t])===t},An=function(t){var r,a;const n=l(this,Ft),e=l(this,at)[n],i=l(this,Q)[n];return l(this,de)&&M(this,q,ot).call(this,i)?i.__abortController.abort(new Error("evicted")):(l(this,Kt)||l(this,Tt))&&(l(this,Kt)&&((r=l(this,qt))==null||r.call(this,i,e,"evict")),l(this,Tt)&&((a=l(this,Et))==null||a.push([i,e,"evict"]))),l(this,Te).call(this,n),t&&(l(this,at)[n]=void 0,l(this,Q)[n]=void 0,l(this,Jt).push(n)),l(this,gt)===1?(E(this,Ft,E(this,St,0)),l(this,Jt).length=0):E(this,Ft,l(this,Ot)[n]),l(this,ft).delete(e),On(this,gt)._--,n},vn=function(t,n,e,i){const r=n===void 0?void 0:l(this,Q)[n];if(M(this,q,ot).call(this,r))return r;const a=new AC,{signal:u}=e;u==null||u.addEventListener("abort",()=>a.abort(u.reason),{signal:a.signal});const o={signal:a.signal,options:e,context:i},c=(y,R=!1)=>{const{aborted:_}=a.signal,x=e.ignoreFetchAbort&&y!==void 0;if(e.status&&(_&&!R?(e.status.fetchAborted=!0,e.status.fetchError=a.signal.reason,x&&(e.status.fetchAbortIgnored=!0)):e.status.fetchResolved=!0),_&&!x&&!R)return p(a.signal.reason);const I=g;return l(this,Q)[n]===g&&(y===void 0?I.__staleWhileFetching?l(this,Q)[n]=I.__staleWhileFetching:M(this,q,he).call(this,t,"fetch"):(e.status&&(e.status.fetchUpdated=!0),this.set(t,y,o.options))),y},h=y=>(e.status&&(e.status.fetchRejected=!0,e.status.fetchError=y),p(y)),p=y=>{const{aborted:R}=a.signal,_=R&&e.allowStaleOnFetchAbort,x=_||e.allowStaleOnFetchRejection,I=x||e.noDeleteOnFetchRejection,A=g;if(l(this,Q)[n]===g&&(!I||A.__staleWhileFetching===void 0?M(this,q,he).call(this,t,"fetch"):_||(l(this,Q)[n]=A.__staleWhileFetching)),x)return e.status&&A.__staleWhileFetching!==void 0&&(e.status.returnedStale=!0),A.__staleWhileFetching;if(A.__returned===A)throw y},d=(y,R)=>{var x;const _=(x=l(this,Ie))==null?void 0:x.call(this,t,r,o);_&&_ instanceof Promise&&_.then(I=>y(I===void 0?void 0:I),R),a.signal.addEventListener("abort",()=>{(!e.ignoreFetchAbort||e.allowStaleOnFetchAbort)&&(y(void 0),e.allowStaleOnFetchAbort&&(y=I=>c(I,!0)))})};e.status&&(e.status.fetchDispatched=!0);const g=new Promise(d).then(c,h),m=Object.assign(g,{__abortController:a,__staleWhileFetching:r,__returned:void 0});return n===void 0?(this.set(t,m,{...o.options,status:void 0}),n=l(this,ft).get(t)):l(this,Q)[n]=m,m},ot=function(t){if(!l(this,de))return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof AC},Gn=function(t,n){l(this,Dt)[n]=t,l(this,Ot)[t]=n},Ve=function(t){t!==l(this,St)&&(t===l(this,Ft)?E(this,Ft,l(this,Ot)[t]):M(this,q,Gn).call(this,l(this,Dt)[t],l(this,Ot)[t]),M(this,q,Gn).call(this,l(this,St),t),E(this,St,t))},he=function(t,n){var i,r,a,u;let e=!1;if(l(this,gt)!==0){const o=l(this,ft).get(t);if(o!==void 0)if(e=!0,l(this,gt)===1)M(this,q,Jn).call(this,n);else{l(this,Te).call(this,o);const c=l(this,Q)[o];if(M(this,q,ot).call(this,c)?c.__abortController.abort(new Error("deleted")):(l(this,Kt)||l(this,Tt))&&(l(this,Kt)&&((i=l(this,qt))==null||i.call(this,c,t,n)),l(this,Tt)&&((r=l(this,Et))==null||r.push([c,t,n]))),l(this,ft).delete(t),l(this,at)[o]=void 0,l(this,Q)[o]=void 0,o===l(this,St))E(this,St,l(this,Dt)[o]);else if(o===l(this,Ft))E(this,Ft,l(this,Ot)[o]);else{const h=l(this,Dt)[o];l(this,Ot)[h]=l(this,Ot)[o];const p=l(this,Ot)[o];l(this,Dt)[p]=l(this,Dt)[o]}On(this,gt)._--,l(this,Jt).push(o)}}if(l(this,Tt)&&((a=l(this,Et))!=null&&a.length)){const o=l(this,Et);let c;for(;c=o==null?void 0:o.shift();)(u=l(this,Ut))==null||u.call(this,...c)}return e},Jn=function(t){var n,e,i;for(const r of M(this,q,le).call(this,{allowStale:!0})){const a=l(this,Q)[r];if(M(this,q,ot).call(this,a))a.__abortController.abort(new Error("deleted"));else{const u=l(this,at)[r];l(this,Kt)&&((n=l(this,qt))==null||n.call(this,a,u,t)),l(this,Tt)&&((e=l(this,Et))==null||e.push([a,u,t]))}}if(l(this,ft).clear(),l(this,Q).fill(void 0),l(this,at).fill(void 0),l(this,Nt)&&l(this,Ht)&&(l(this,Nt).fill(0),l(this,Ht).fill(0)),l(this,zt)&&l(this,zt).fill(0),E(this,Ft,0),E(this,St,0),l(this,Jt).length=0,E(this,Gt,0),E(this,gt,0),l(this,Tt)&&l(this,Et)){const r=l(this,Et);let a;for(;a=r==null?void 0:r.shift();)(i=l(this,Ut))==null||i.call(this,...a)}};let LRUCache=Qn;commonjs$1.LRUCache=LRUCache;var commonjs={};(function(s){var T,v,W,z,et,st,it,nt,pt,dt,Pt,ae,jt,xn,ze,Rn,ce,$t,He;var t=commonjsGlobal&&commonjsGlobal.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(s,"__esModule",{value:!0}),s.Minipass=s.isWritable=s.isReadable=s.isStream=void 0;const n=typeof process=="object"&&process?process:{stdout:null,stderr:null},e=require$$2,i=t(require$$2),r=require$$2,a=K=>!!K&&typeof K=="object"&&(K instanceof C||K instanceof i.default||(0,s.isReadable)(K)||(0,s.isWritable)(K));s.isStream=a;const u=K=>!!K&&typeof K=="object"&&K instanceof e.EventEmitter&&typeof K.pipe=="function"&&K.pipe!==i.default.Writable.prototype.pipe;s.isReadable=u;const o=K=>!!K&&typeof K=="object"&&K instanceof e.EventEmitter&&typeof K.write=="function"&&typeof K.end=="function";s.isWritable=o;const c=Symbol("EOF"),h=Symbol("maybeEmitEnd"),p=Symbol("emittedEnd"),d=Symbol("emittingEnd"),g=Symbol("emittedError"),m=Symbol("closed"),y=Symbol("read"),R=Symbol("flush"),_=Symbol("flushChunk"),x=Symbol("encoding"),I=Symbol("decoder"),A=Symbol("flowing"),J=Symbol("paused"),B=Symbol("resume"),S=Symbol("buffer"),L=Symbol("pipes"),k=Symbol("bufferLength"),U=Symbol("bufferPush"),X=Symbol("bufferShift"),V=Symbol("objectMode"),$=Symbol("destroyed"),lt=Symbol("error"),ut=Symbol("emitData"),Rt=Symbol("emitEnd"),xt=Symbol("emitEnd2"),rt=Symbol("async"),Yt=Symbol("abort"),b=Symbol("aborted"),P=Symbol("signal"),G=Symbol("dataListeners"),tt=Symbol("discarded"),wt=K=>Promise.resolve().then(K),Se=K=>K(),Dn=K=>K==="end"||K==="finish"||K==="prefinish",Ee=K=>K instanceof ArrayBuffer||!!K&&typeof K=="object"&&K.constructor&&K.constructor.name==="ArrayBuffer"&&K.byteLength>=0,Nn=K=>!Buffer.isBuffer(K)&&ArrayBuffer.isView(K);class _n{constructor(_e,O,D){F(this,"src");F(this,"dest");F(this,"opts");F(this,"ondrain");this.src=_e,this.dest=O,this.opts=D,this.ondrain=()=>_e[B](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(_e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class In extends _n{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(_e,O,D){super(_e,O,D),this.proxyErrors=H=>O.emit("error",H),_e.on("error",this.proxyErrors)}}const j=K=>!!K.objectMode,w=K=>!K.objectMode&&!!K.encoding&&K.encoding!=="buffer";class C extends e.EventEmitter{constructor(...O){const D=O[0]||{};super();F(this,He,!1);F(this,$t,!1);F(this,ce,[]);F(this,Rn,[]);F(this,ze);F(this,xn);F(this,jt);F(this,ae);F(this,Pt,!1);F(this,dt,!1);F(this,pt,!1);F(this,nt,!1);F(this,it,null);F(this,st,0);F(this,et,!1);F(this,z);F(this,W,!1);F(this,v,0);F(this,T,!1);F(this,"writable",!0);F(this,"readable",!0);if(D.objectMode&&typeof D.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");j(D)?(this[V]=!0,this[x]=null):w(D)?(this[x]=D.encoding,this[V]=!1):(this[V]=!1,this[x]=null),this[rt]=!!D.async,this[I]=this[x]?new r.StringDecoder(this[x]):null,D&&D.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[S]}),D&&D.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[L]});const{signal:H}=D;H&&(this[P]=H,H.aborted?this[Yt]():H.addEventListener("abort",()=>this[Yt]()))}get bufferLength(){return this[k]}get encoding(){return this[x]}set encoding(O){throw new Error("Encoding must be set at instantiation time")}setEncoding(O){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[V]}set objectMode(O){throw new Error("objectMode must be set at instantiation time")}get async(){return this[rt]}set async(O){this[rt]=this[rt]||!!O}[(He=A,$t=J,ce=L,Rn=S,ze=V,xn=x,jt=rt,ae=I,Pt=c,dt=p,pt=d,nt=m,it=g,st=k,et=$,z=P,W=b,v=G,T=tt,Yt)](){var O,D;this[b]=!0,this.emit("abort",(O=this[P])==null?void 0:O.reason),this.destroy((D=this[P])==null?void 0:D.reason)}get aborted(){return this[b]}set aborted(O){}write(O,D,H){var Mt;if(this[b])return!1;if(this[c])throw new Error("write after end");if(this[$])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof D=="function"&&(H=D,D="utf8"),D||(D="utf8");const vt=this[rt]?wt:Se;if(!this[V]&&!Buffer.isBuffer(O)){if(Nn(O))O=Buffer.from(O.buffer,O.byteOffset,O.byteLength);else if(Ee(O))O=Buffer.from(O);else if(typeof O!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[V]?(this[A]&&this[k]!==0&&this[R](!0),this[A]?this.emit("data",O):this[U](O),this[k]!==0&&this.emit("readable"),H&&vt(H),this[A]):O.length?(typeof O=="string"&&!(D===this[x]&&!((Mt=this[I])!=null&&Mt.lastNeed))&&(O=Buffer.from(O,D)),Buffer.isBuffer(O)&&this[x]&&(O=this[I].write(O)),this[A]&&this[k]!==0&&this[R](!0),this[A]?this.emit("data",O):this[U](O),this[k]!==0&&this.emit("readable"),H&&vt(H),this[A]):(this[k]!==0&&this.emit("readable"),H&&vt(H),this[A])}read(O){if(this[$])return null;if(this[tt]=!1,this[k]===0||O===0||O&&O>this[k])return this[h](),null;this[V]&&(O=null),this[S].length>1&&!this[V]&&(this[S]=[this[x]?this[S].join(""):Buffer.concat(this[S],this[k])]);const D=this[y](O||null,this[S][0]);return this[h](),D}[y](O,D){if(this[V])this[X]();else{const H=D;O===H.length||O===null?this[X]():typeof H=="string"?(this[S][0]=H.slice(O),D=H.slice(0,O),this[k]-=O):(this[S][0]=H.subarray(O),D=H.subarray(0,O),this[k]-=O)}return this.emit("data",D),!this[S].length&&!this[c]&&this.emit("drain"),D}end(O,D,H){return typeof O=="function"&&(H=O,O=void 0),typeof D=="function"&&(H=D,D="utf8"),O!==void 0&&this.write(O,D),H&&this.once("end",H),this[c]=!0,this.writable=!1,(this[A]||!this[J])&&this[h](),this}[B](){this[$]||(!this[G]&&!this[L].length&&(this[tt]=!0),this[J]=!1,this[A]=!0,this.emit("resume"),this[S].length?this[R]():this[c]?this[h]():this.emit("drain"))}resume(){return this[B]()}pause(){this[A]=!1,this[J]=!0,this[tt]=!1}get destroyed(){return this[$]}get flowing(){return this[A]}get paused(){return this[J]}[U](O){this[V]?this[k]+=1:this[k]+=O.length,this[S].push(O)}[X](){return this[V]?this[k]-=1:this[k]-=this[S][0].length,this[S].shift()}[R](O=!1){do;while(this[_](this[X]())&&this[S].length);!O&&!this[S].length&&!this[c]&&this.emit("drain")}[_](O){return this.emit("data",O),this[A]}pipe(O,D){if(this[$])return O;this[tt]=!1;const H=this[p];return D=D||{},O===n.stdout||O===n.stderr?D.end=!1:D.end=D.end!==!1,D.proxyErrors=!!D.proxyErrors,H?D.end&&O.end():(this[L].push(D.proxyErrors?new In(this,O,D):new _n(this,O,D)),this[rt]?wt(()=>this[B]()):this[B]()),O}unpipe(O){const D=this[L].find(H=>H.dest===O);D&&(this[L].length===1?(this[A]&&this[G]===0&&(this[A]=!1),this[L]=[]):this[L].splice(this[L].indexOf(D),1),D.unpipe())}addListener(O,D){return this.on(O,D)}on(O,D){const H=super.on(O,D);if(O==="data")this[tt]=!1,this[G]++,!this[L].length&&!this[A]&&this[B]();else if(O==="readable"&&this[k]!==0)super.emit("readable");else if(Dn(O)&&this[p])super.emit(O),this.removeAllListeners(O);else if(O==="error"&&this[g]){const vt=D;this[rt]?wt(()=>vt.call(this,this[g])):vt.call(this,this[g])}return H}removeListener(O,D){return this.off(O,D)}off(O,D){const H=super.off(O,D);return O==="data"&&(this[G]=this.listeners("data").length,this[G]===0&&!this[tt]&&!this[L].length&&(this[A]=!1)),H}removeAllListeners(O){const D=super.removeAllListeners(O);return(O==="data"||O===void 0)&&(this[G]=0,!this[tt]&&!this[L].length&&(this[A]=!1)),D}get emittedEnd(){return this[p]}[h](){!this[d]&&!this[p]&&!this[$]&&this[S].length===0&&this[c]&&(this[d]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[m]&&this.emit("close"),this[d]=!1)}emit(O,...D){const H=D[0];if(O!=="error"&&O!=="close"&&O!==$&&this[$])return!1;if(O==="data")return!this[V]&&!H?!1:this[rt]?(wt(()=>this[ut](H)),!0):this[ut](H);if(O==="end")return this[Rt]();if(O==="close"){if(this[m]=!0,!this[p]&&!this[$])return!1;const Mt=super.emit("close");return this.removeAllListeners("close"),Mt}else if(O==="error"){this[g]=H,super.emit(lt,H);const Mt=!this[P]||this.listeners("error").length?super.emit("error",H):!1;return this[h](),Mt}else if(O==="resume"){const Mt=super.emit("resume");return this[h](),Mt}else if(O==="finish"||O==="prefinish"){const Mt=super.emit(O);return this.removeAllListeners(O),Mt}const vt=super.emit(O,...D);return this[h](),vt}[ut](O){for(const H of this[L])H.dest.write(O)===!1&&this.pause();const D=this[tt]?!1:super.emit("data",O);return this[h](),D}[Rt](){return this[p]?!1:(this[p]=!0,this.readable=!1,this[rt]?(wt(()=>this[xt]()),!0):this[xt]())}[xt](){if(this[I]){const D=this[I].end();if(D){for(const H of this[L])H.dest.write(D);this[tt]||super.emit("data",D)}}for(const D of this[L])D.end();const O=super.emit("end");return this.removeAllListeners("end"),O}async collect(){const O=Object.assign([],{dataLength:0});this[V]||(O.dataLength=0);const D=this.promise();return this.on("data",H=>{O.push(H),this[V]||(O.dataLength+=H.length)}),await D,O}async concat(){if(this[V])throw new Error("cannot concat in objectMode");const O=await this.collect();return this[x]?O.join(""):Buffer.concat(O,O.dataLength)}async promise(){return new Promise((O,D)=>{this.on($,()=>D(new Error("stream destroyed"))),this.on("error",H=>D(H)),this.on("end",()=>O())})}[Symbol.asyncIterator](){this[tt]=!1;let O=!1;const D=async()=>(this.pause(),O=!0,{value:void 0,done:!0});return{next:()=>{if(O)return D();const vt=this.read();if(vt!==null)return Promise.resolve({done:!1,value:vt});if(this[c])return D();let Mt,ts;const Fn=Ke=>{this.off("data",Ln),this.off("end",Bn),this.off($,Cn),D(),ts(Ke)},Ln=Ke=>{this.off("error",Fn),this.off("end",Bn),this.off($,Cn),this.pause(),Mt({value:Ke,done:!!this[c]})},Bn=()=>{this.off("error",Fn),this.off("data",Ln),this.off($,Cn),D(),Mt({done:!0,value:void 0})},Cn=()=>Fn(new Error("stream destroyed"));return new Promise((Ke,fs)=>{ts=fs,Mt=Ke,this.once($,Cn),this.once("error",Fn),this.once("end",Bn),this.once("data",Ln)})},throw:D,return:D,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[tt]=!1;let O=!1;const D=()=>(this.pause(),this.off(lt,D),this.off($,D),this.off("end",D),O=!0,{done:!0,value:void 0}),H=()=>{if(O)return D();const vt=this.read();return vt===null?D():{done:!1,value:vt}};return this.once("end",D),this.once(lt,D),this.once($,D),{next:H,throw:D,return:D,[Symbol.iterator](){return this}}}destroy(O){if(this[$])return O?this.emit("error",O):this.emit($),this;this[$]=!0,this[tt]=!0,this[S].length=0,this[k]=0;const D=this;return typeof D.close=="function"&&!this[m]&&D.close(),O?this.emit("error",O):this.emit($),this}static get isStream(){return s.isStream}}s.Minipass=C})(commonjs);var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(s,t,n,e){e===void 0&&(e=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(s,e,i)}:function(s,t,n,e){e===void 0&&(e=n),s[e]=t[n]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}:function(s,t){s.default=t}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var n in s)n!=="default"&&Object.prototype.hasOwnProperty.call(s,n)&&__createBinding(t,s,n);return __setModuleDefault(t,s),t};Object.defineProperty(commonjs$2,"__esModule",{value:!0});commonjs$2.PathScurry=commonjs$2.Path=commonjs$2.PathScurryDarwin=commonjs$2.PathScurryPosix=commonjs$2.PathScurryWin32=commonjs$2.PathScurryBase=commonjs$2.PathPosix=commonjs$2.PathWin32=commonjs$2.PathBase=commonjs$2.ChildrenCache=commonjs$2.ResolveCache=void 0;const lru_cache_1=commonjs$1,node_path_1=require$$2,node_url_1$1=require$$2,fs_1=require$$2,actualFS=__importStar(require$$2),realpathSync=fs_1.realpathSync.native,promises_1=require$$2,minipass_1$1=commonjs,defaultFS={lstatSync:fs_1.lstatSync,readdir:fs_1.readdir,readdirSync:fs_1.readdirSync,readlinkSync:fs_1.readlinkSync,realpathSync,promises:{lstat:promises_1.lstat,readdir:promises_1.readdir,readlink:promises_1.readlink,realpath:promises_1.realpath}},fsFromOption=s=>!s||s===defaultFS||s===actualFS?defaultFS:{...defaultFS,...s,promises:{...defaultFS.promises,...s.promises||{}}},uncDriveRegexp=/^\\\\\?\\([a-z]:)\\?$/i,uncToDrive=s=>s.replace(/\//g,"\\").replace(uncDriveRegexp,"$1\\"),eitherSep=/[\\\/]/,UNKNOWN=0,IFIFO=1,IFCHR=2,IFDIR=4,IFBLK=6,IFREG=8,IFLNK=10,IFSOCK=12,IFMT=15,IFMT_UNKNOWN=~IFMT,READDIR_CALLED=16,LSTAT_CALLED=32,ENOTDIR=64,ENOENT=128,ENOREADLINK=256,ENOREALPATH=512,ENOCHILD=ENOTDIR|ENOENT|ENOREALPATH,TYPEMASK=1023,entToType=s=>s.isFile()?IFREG:s.isDirectory()?IFDIR:s.isSymbolicLink()?IFLNK:s.isCharacterDevice()?IFCHR:s.isBlockDevice()?IFBLK:s.isSocket()?IFSOCK:s.isFIFO()?IFIFO:UNKNOWN,normalizeCache=new Map,normalize=s=>{const t=normalizeCache.get(s);if(t)return t;const n=s.normalize("NFKD");return normalizeCache.set(s,n),n},normalizeNocaseCache=new Map,normalizeNocase=s=>{const t=normalizeNocaseCache.get(s);if(t)return t;const n=normalize(s.toLowerCase());return normalizeNocaseCache.set(s,n),n};class ResolveCache extends lru_cache_1.LRUCache{constructor(){super({max:256})}}commonjs$2.ResolveCache=ResolveCache;class ChildrenCache extends lru_cache_1.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:n=>n.length+1})}}commonjs$2.ChildrenCache=ChildrenCache;const setAsCwd=Symbol("PathScurry setAsCwd");var At,tn,en,nn,sn,rn,on,an,cn,un,ln,hn,fn,pn,dn,mn,gn,yn,wn,me,Ae,Zt,ne,se,ie,Z,ve,re,Qt,Y,zn,Mn,Ye,Hn,Kn,Xe,Pn,Vn,Yn,kn,cs,us,ls,Xn,je,We,hs,Me;class PathBase{constructor(t,n=UNKNOWN,e,i,r,a,u){N(this,Y);F(this,"name");F(this,"root");F(this,"roots");F(this,"parent");F(this,"nocase");F(this,"isCWD",!1);N(this,At);N(this,tn);N(this,en);N(this,nn);N(this,sn);N(this,rn);N(this,on);N(this,an);N(this,cn);N(this,un);N(this,ln);N(this,hn);N(this,fn);N(this,pn);N(this,dn);N(this,mn);N(this,gn);N(this,yn);N(this,wn);N(this,me);N(this,Ae);N(this,Zt);N(this,ne);N(this,se);N(this,ie);N(this,Z);N(this,ve);N(this,re);N(this,Qt);N(this,je,[]);N(this,We,!1);N(this,Me);this.name=t,E(this,me,r?normalizeNocase(t):normalize(t)),E(this,Z,n&TYPEMASK),this.nocase=r,this.roots=i,this.root=e||this,E(this,ve,a),E(this,Zt,u.fullpath),E(this,se,u.relative),E(this,ie,u.relativePosix),this.parent=u.parent,this.parent?E(this,At,l(this.parent,At)):E(this,At,fsFromOption(u.fs))}get dev(){return l(this,tn)}get mode(){return l(this,en)}get nlink(){return l(this,nn)}get uid(){return l(this,sn)}get gid(){return l(this,rn)}get rdev(){return l(this,on)}get blksize(){return l(this,an)}get ino(){return l(this,cn)}get size(){return l(this,un)}get blocks(){return l(this,ln)}get atimeMs(){return l(this,hn)}get mtimeMs(){return l(this,fn)}get ctimeMs(){return l(this,pn)}get birthtimeMs(){return l(this,dn)}get atime(){return l(this,mn)}get mtime(){return l(this,gn)}get ctime(){return l(this,yn)}get birthtime(){return l(this,wn)}get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}depth(){return l(this,Ae)!==void 0?l(this,Ae):this.parent?E(this,Ae,this.parent.depth()+1):E(this,Ae,0)}childrenCache(){return l(this,ve)}resolve(t){var a;if(!t)return this;const n=this.getRootString(t),i=t.substring(n.length).split(this.splitSep);return n?M(a=this.getRoot(n),Y,zn).call(a,i):M(this,Y,zn).call(this,i)}children(){const t=l(this,ve).get(this);if(t)return t;const n=Object.assign([],{provisional:0});return l(this,ve).set(this,n),E(this,Z,l(this,Z)&~READDIR_CALLED),n}child(t,n){if(t===""||t===".")return this;if(t==="..")return this.parent||this;const e=this.children(),i=this.nocase?normalizeNocase(t):normalize(t);for(const o of e)if(l(o,me)===i)return o;const r=this.parent?this.sep:"",a=l(this,Zt)?l(this,Zt)+r+t:void 0,u=this.newChild(t,UNKNOWN,{...n,parent:this,fullpath:a});return this.canReaddir()||E(u,Z,l(u,Z)|ENOENT),e.push(u),u}relative(){if(this.isCWD)return"";if(l(this,se)!==void 0)return l(this,se);const t=this.name,n=this.parent;if(!n)return E(this,se,this.name);const e=n.relative();return e+(!e||!n.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(l(this,ie)!==void 0)return l(this,ie);const t=this.name,n=this.parent;if(!n)return E(this,ie,this.fullpathPosix());const e=n.relativePosix();return e+(!e||!n.parent?"":"/")+t}fullpath(){if(l(this,Zt)!==void 0)return l(this,Zt);const t=this.name,n=this.parent;if(!n)return E(this,Zt,this.name);const i=n.fullpath()+(n.parent?this.sep:"")+t;return E(this,Zt,i)}fullpathPosix(){if(l(this,ne)!==void 0)return l(this,ne);if(this.sep==="/")return E(this,ne,this.fullpath());if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?E(this,ne,`//?/${i}`):E(this,ne,i)}const t=this.parent,n=t.fullpathPosix(),e=n+(!n||!t.parent?"":"/")+this.name;return E(this,ne,e)}isUnknown(){return(l(this,Z)&IFMT)===UNKNOWN}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(l(this,Z)&IFMT)===IFREG}isDirectory(){return(l(this,Z)&IFMT)===IFDIR}isCharacterDevice(){return(l(this,Z)&IFMT)===IFCHR}isBlockDevice(){return(l(this,Z)&IFMT)===IFBLK}isFIFO(){return(l(this,Z)&IFMT)===IFIFO}isSocket(){return(l(this,Z)&IFMT)===IFSOCK}isSymbolicLink(){return(l(this,Z)&IFLNK)===IFLNK}lstatCached(){return l(this,Z)&LSTAT_CALLED?this:void 0}readlinkCached(){return l(this,re)}realpathCached(){return l(this,Qt)}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(l(this,re))return!0;if(!this.parent)return!1;const t=l(this,Z)&IFMT;return!(t!==UNKNOWN&&t!==IFLNK||l(this,Z)&ENOREADLINK||l(this,Z)&ENOENT)}calledReaddir(){return!!(l(this,Z)&READDIR_CALLED)}isENOENT(){return!!(l(this,Z)&ENOENT)}isNamed(t){return this.nocase?l(this,me)===normalizeNocase(t):l(this,me)===normalize(t)}async readlink(){var n;const t=l(this,re);if(t)return t;if(this.canReadlink()&&this.parent)try{const e=await l(this,At).promises.readlink(this.fullpath()),i=(n=await this.parent.realpath())==null?void 0:n.resolve(e);if(i)return E(this,re,i)}catch(e){M(this,Y,Yn).call(this,e.code);return}}readlinkSync(){var n;const t=l(this,re);if(t)return t;if(this.canReadlink()&&this.parent)try{const e=l(this,At).readlinkSync(this.fullpath()),i=(n=this.parent.realpathSync())==null?void 0:n.resolve(e);if(i)return E(this,re,i)}catch(e){M(this,Y,Yn).call(this,e.code);return}}async lstat(){if(!(l(this,Z)&ENOENT))try{return M(this,Y,Xn).call(this,await l(this,At).promises.lstat(this.fullpath())),this}catch(t){M(this,Y,Vn).call(this,t.code)}}lstatSync(){if(!(l(this,Z)&ENOENT))try{return M(this,Y,Xn).call(this,l(this,At).lstatSync(this.fullpath())),this}catch(t){M(this,Y,Vn).call(this,t.code)}}readdirCB(t,n=!1){if(!this.canReaddir()){n?t(null,[]):queueMicrotask(()=>t(null,[]));return}const e=this.children();if(this.calledReaddir()){const r=e.slice(0,e.provisional);n?t(null,r):queueMicrotask(()=>t(null,r));return}if(l(this,je).push(t),l(this,We))return;E(this,We,!0);const i=this.fullpath();l(this,At).readdir(i,{withFileTypes:!0},(r,a)=>{if(r)M(this,Y,Pn).call(this,r.code),e.provisional=0;else{for(const u of a)M(this,Y,kn).call(this,u,e);M(this,Y,Mn).call(this,e)}M(this,Y,hs).call(this,e.slice(0,e.provisional))})}async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const n=this.fullpath();if(l(this,Me))await l(this,Me);else{let e=()=>{};E(this,Me,new Promise(i=>e=i));try{for(const i of await l(this,At).promises.readdir(n,{withFileTypes:!0}))M(this,Y,kn).call(this,i,t);M(this,Y,Mn).call(this,t)}catch(i){M(this,Y,Pn).call(this,i.code),t.provisional=0}E(this,Me,void 0),e()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const n=this.fullpath();try{for(const e of l(this,At).readdirSync(n,{withFileTypes:!0}))M(this,Y,kn).call(this,e,t);M(this,Y,Mn).call(this,t)}catch(e){M(this,Y,Pn).call(this,e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(l(this,Z)&ENOCHILD)return!1;const t=IFMT&l(this,Z);return t===UNKNOWN||t===IFDIR||t===IFLNK}shouldWalk(t,n){return(l(this,Z)&IFDIR)===IFDIR&&!(l(this,Z)&ENOCHILD)&&!t.has(this)&&(!n||n(this))}async realpath(){if(l(this,Qt))return l(this,Qt);if(!((ENOREALPATH|ENOREADLINK|ENOENT)&l(this,Z)))try{const t=await l(this,At).promises.realpath(this.fullpath());return E(this,Qt,this.resolve(t))}catch{M(this,Y,Kn).call(this)}}realpathSync(){if(l(this,Qt))return l(this,Qt);if(!((ENOREALPATH|ENOREADLINK|ENOENT)&l(this,Z)))try{const t=l(this,At).realpathSync(this.fullpath());return E(this,Qt,this.resolve(t))}catch{M(this,Y,Kn).call(this)}}[setAsCwd](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const n=new Set([]);let e=[],i=this;for(;i&&i.parent;)n.add(i),E(i,se,e.join(this.sep)),E(i,ie,e.join("/")),i=i.parent,e.push("..");for(i=t;i&&i.parent&&!n.has(i);)E(i,se,void 0),E(i,ie,void 0),i=i.parent}}At=new WeakMap,tn=new WeakMap,en=new WeakMap,nn=new WeakMap,sn=new WeakMap,rn=new WeakMap,on=new WeakMap,an=new WeakMap,cn=new WeakMap,un=new WeakMap,ln=new WeakMap,hn=new WeakMap,fn=new WeakMap,pn=new WeakMap,dn=new WeakMap,mn=new WeakMap,gn=new WeakMap,yn=new WeakMap,wn=new WeakMap,me=new WeakMap,Ae=new WeakMap,Zt=new WeakMap,ne=new WeakMap,se=new WeakMap,ie=new WeakMap,Z=new WeakMap,ve=new WeakMap,re=new WeakMap,Qt=new WeakMap,Y=new WeakSet,zn=function(t){let n=this;for(const e of t)n=n.child(e);return n},Mn=function(t){var n;E(this,Z,l(this,Z)|READDIR_CALLED);for(let e=t.provisional;e<t.length;e++){const i=t[e];i&&M(n=i,Y,Ye).call(n)}},Ye=function(){l(this,Z)&ENOENT||(E(this,Z,(l(this,Z)|ENOENT)&IFMT_UNKNOWN),M(this,Y,Hn).call(this))},Hn=function(){var n;const t=this.children();t.provisional=0;for(const e of t)M(n=e,Y,Ye).call(n)},Kn=function(){E(this,Z,l(this,Z)|ENOREALPATH),M(this,Y,Xe).call(this)},Xe=function(){if(l(this,Z)&ENOTDIR)return;let t=l(this,Z);(t&IFMT)===IFDIR&&(t&=IFMT_UNKNOWN),E(this,Z,t|ENOTDIR),M(this,Y,Hn).call(this)},Pn=function(t=""){t==="ENOTDIR"||t==="EPERM"?M(this,Y,Xe).call(this):t==="ENOENT"?M(this,Y,Ye).call(this):this.children().provisional=0},Vn=function(t=""){var n;if(t==="ENOTDIR"){const e=this.parent;M(n=e,Y,Xe).call(n)}else t==="ENOENT"&&M(this,Y,Ye).call(this)},Yn=function(t=""){var e;let n=l(this,Z);n|=ENOREADLINK,t==="ENOENT"&&(n|=ENOENT),(t==="EINVAL"||t==="UNKNOWN")&&(n&=IFMT_UNKNOWN),E(this,Z,n),t==="ENOTDIR"&&this.parent&&M(e=this.parent,Y,Xe).call(e)},kn=function(t,n){return M(this,Y,us).call(this,t,n)||M(this,Y,cs).call(this,t,n)},cs=function(t,n){const e=entToType(t),i=this.newChild(t.name,e,{parent:this}),r=l(i,Z)&IFMT;return r!==IFDIR&&r!==IFLNK&&r!==UNKNOWN&&E(i,Z,l(i,Z)|ENOTDIR),n.unshift(i),n.provisional++,i},us=function(t,n){for(let e=n.provisional;e<n.length;e++){const i=n[e];if((this.nocase?normalizeNocase(t.name):normalize(t.name))===l(i,me))return M(this,Y,ls).call(this,t,i,e,n)}},ls=function(t,n,e,i){const r=n.name;return E(n,Z,l(n,Z)&IFMT_UNKNOWN|entToType(t)),r!==t.name&&(n.name=t.name),e!==i.provisional&&(e===i.length-1?i.pop():i.splice(e,1),i.unshift(n)),i.provisional++,n},Xn=function(t){const{atime:n,atimeMs:e,birthtime:i,birthtimeMs:r,blksize:a,blocks:u,ctime:o,ctimeMs:c,dev:h,gid:p,ino:d,mode:g,mtime:m,mtimeMs:y,nlink:R,rdev:_,size:x,uid:I}=t;E(this,mn,n),E(this,hn,e),E(this,wn,i),E(this,dn,r),E(this,an,a),E(this,ln,u),E(this,yn,o),E(this,pn,c),E(this,tn,h),E(this,rn,p),E(this,cn,d),E(this,en,g),E(this,gn,m),E(this,fn,y),E(this,nn,R),E(this,on,_),E(this,un,x),E(this,sn,I);const A=entToType(t);E(this,Z,l(this,Z)&IFMT_UNKNOWN|A|LSTAT_CALLED),A!==UNKNOWN&&A!==IFDIR&&A!==IFLNK&&E(this,Z,l(this,Z)|ENOTDIR)},je=new WeakMap,We=new WeakMap,hs=function(t){E(this,We,!1);const n=l(this,je).slice();l(this,je).length=0,n.forEach(e=>e(null,t))},Me=new WeakMap;commonjs$2.PathBase=PathBase;class PathWin32 extends PathBase{constructor(n,e=UNKNOWN,i,r,a,u,o){super(n,e,i,r,a,u,o);F(this,"sep","\\");F(this,"splitSep",eitherSep)}newChild(n,e=UNKNOWN,i={}){return new PathWin32(n,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}getRootString(n){return node_path_1.win32.parse(n).root}getRoot(n){if(n=uncToDrive(n.toUpperCase()),n===this.root.name)return this.root;for(const[e,i]of Object.entries(this.roots))if(this.sameRoot(n,e))return this.roots[n]=i;return this.roots[n]=new PathScurryWin32(n,this).root}sameRoot(n,e=this.root.name){return n=n.toUpperCase().replace(/\//g,"\\").replace(uncDriveRegexp,"$1\\"),n===e}}commonjs$2.PathWin32=PathWin32;class PathPosix extends PathBase{constructor(n,e=UNKNOWN,i,r,a,u,o){super(n,e,i,r,a,u,o);F(this,"splitSep","/");F(this,"sep","/")}getRootString(n){return n.startsWith("/")?"/":""}getRoot(n){return this.root}newChild(n,e=UNKNOWN,i={}){return new PathPosix(n,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}}commonjs$2.PathPosix=PathPosix;var qe,Ue,bn,Sn;class PathScurryBase{constructor(t=process.cwd(),n,e,{nocase:i,childrenCacheSize:r=16*1024,fs:a=defaultFS}={}){F(this,"root");F(this,"rootPath");F(this,"roots");F(this,"cwd");N(this,qe);N(this,Ue);N(this,bn);F(this,"nocase");N(this,Sn);E(this,Sn,fsFromOption(a)),(t instanceof URL||t.startsWith("file://"))&&(t=(0,node_url_1$1.fileURLToPath)(t));const u=n.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(u),E(this,qe,new ResolveCache),E(this,Ue,new ResolveCache),E(this,bn,new ChildrenCache(r));const o=u.substring(this.rootPath.length).split(e);if(o.length===1&&!o[0]&&o.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(l(this,Sn)),this.roots[this.rootPath]=this.root;let c=this.root,h=o.length-1;const p=n.sep;let d=this.rootPath,g=!1;for(const m of o){const y=h--;c=c.child(m,{relative:new Array(y).fill("..").join(p),relativePosix:new Array(y).fill("..").join("/"),fullpath:d+=(g?"":p)+m}),g=!0}this.cwd=c}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return l(this,bn)}resolve(...t){let n="";for(let r=t.length-1;r>=0;r--){const a=t[r];if(!(!a||a===".")&&(n=n?`${a}/${n}`:a,this.isAbsolute(a)))break}const e=l(this,qe).get(n);if(e!==void 0)return e;const i=this.cwd.resolve(n).fullpath();return l(this,qe).set(n,i),i}resolvePosix(...t){let n="";for(let r=t.length-1;r>=0;r--){const a=t[r];if(!(!a||a===".")&&(n=n?`${a}/${n}`:a,this.isAbsolute(a)))break}const e=l(this,Ue).get(n);if(e!==void 0)return e;const i=this.cwd.resolve(n).fullpathPosix();return l(this,Ue).set(n,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,n={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t,t=this.cwd);const{withFileTypes:e}=n;if(t.canReaddir()){const i=await t.readdir();return e?i:i.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,n={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t,t=this.cwd);const{withFileTypes:e=!0}=n;return t.canReaddir()?e?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:n}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t.withFileTypes,t=this.cwd);const e=await t.readlink();return n?e:e==null?void 0:e.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:n}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t.withFileTypes,t=this.cwd);const e=t.readlinkSync();return n?e:e==null?void 0:e.fullpath()}async realpath(t=this.cwd,{withFileTypes:n}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t.withFileTypes,t=this.cwd);const e=await t.realpath();return n?e:e==null?void 0:e.fullpath()}realpathSync(t=this.cwd,{withFileTypes:n}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t.withFileTypes,t=this.cwd);const e=t.realpathSync();return n?e:e==null?void 0:e.fullpath()}async walk(t=this.cwd,n={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t,t=this.cwd);const{withFileTypes:e=!0,follow:i=!1,filter:r,walkFilter:a}=n,u=[];(!r||r(t))&&u.push(e?t:t.fullpath());const o=new Set,c=(p,d)=>{o.add(p),p.readdirCB((g,m)=>{if(g)return d(g);let y=m.length;if(!y)return d();const R=()=>{--y===0&&d()};for(const _ of m)(!r||r(_))&&u.push(e?_:_.fullpath()),i&&_.isSymbolicLink()?_.realpath().then(x=>x!=null&&x.isUnknown()?x.lstat():x).then(x=>x!=null&&x.shouldWalk(o,a)?c(x,R):R()):_.shouldWalk(o,a)?c(_,R):R()},!0)},h=t;return new Promise((p,d)=>{c(h,g=>{if(g)return d(g);p(u)})})}walkSync(t=this.cwd,n={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t,t=this.cwd);const{withFileTypes:e=!0,follow:i=!1,filter:r,walkFilter:a}=n,u=[];(!r||r(t))&&u.push(e?t:t.fullpath());const o=new Set([t]);for(const c of o){const h=c.readdirSync();for(const p of h){(!r||r(p))&&u.push(e?p:p.fullpath());let d=p;if(p.isSymbolicLink()){if(!(i&&(d=p.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(o,a)&&o.add(d)}}return u}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,n={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t,t=this.cwd),this.stream(t,n)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,n={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t,t=this.cwd);const{withFileTypes:e=!0,follow:i=!1,filter:r,walkFilter:a}=n;(!r||r(t))&&(yield e?t:t.fullpath());const u=new Set([t]);for(const o of u){const c=o.readdirSync();for(const h of c){(!r||r(h))&&(yield e?h:h.fullpath());let p=h;if(h.isSymbolicLink()){if(!(i&&(p=h.realpathSync())))continue;p.isUnknown()&&p.lstatSync()}p.shouldWalk(u,a)&&u.add(p)}}}stream(t=this.cwd,n={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t,t=this.cwd);const{withFileTypes:e=!0,follow:i=!1,filter:r,walkFilter:a}=n,u=new minipass_1$1.Minipass({objectMode:!0});(!r||r(t))&&u.write(e?t:t.fullpath());const o=new Set,c=[t];let h=0;const p=()=>{let d=!1;for(;!d;){const g=c.shift();if(!g){h===0&&u.end();return}h++,o.add(g);const m=(R,_,x=!1)=>{if(R)return u.emit("error",R);if(i&&!x){const I=[];for(const A of _)A.isSymbolicLink()&&I.push(A.realpath().then(J=>J!=null&&J.isUnknown()?J.lstat():J));if(I.length){Promise.all(I).then(()=>m(null,_,!0));return}}for(const I of _)I&&(!r||r(I))&&(u.write(e?I:I.fullpath())||(d=!0));h--;for(const I of _){const A=I.realpathCached()||I;A.shouldWalk(o,a)&&c.push(A)}d&&!u.flowing?u.once("drain",p):y||p()};let y=!0;g.readdirCB(m,!0),y=!1}};return p(),u}streamSync(t=this.cwd,n={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof PathBase||(n=t,t=this.cwd);const{withFileTypes:e=!0,follow:i=!1,filter:r,walkFilter:a}=n,u=new minipass_1$1.Minipass({objectMode:!0}),o=new Set;(!r||r(t))&&u.write(e?t:t.fullpath());const c=[t];let h=0;const p=()=>{let d=!1;for(;!d;){const g=c.shift();if(!g){h===0&&u.end();return}h++,o.add(g);const m=g.readdirSync();for(const y of m)(!r||r(y))&&(u.write(e?y:y.fullpath())||(d=!0));h--;for(const y of m){let R=y;if(y.isSymbolicLink()){if(!(i&&(R=y.realpathSync())))continue;R.isUnknown()&&R.lstatSync()}R.shouldWalk(o,a)&&c.push(R)}}d&&!u.flowing&&u.once("drain",p)};return p(),u}chdir(t=this.cwd){const n=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[setAsCwd](n)}}qe=new WeakMap,Ue=new WeakMap,bn=new WeakMap,Sn=new WeakMap;commonjs$2.PathScurryBase=PathScurryBase;class PathScurryWin32 extends PathScurryBase{constructor(n=process.cwd(),e={}){const{nocase:i=!0}=e;super(n,node_path_1.win32,"\\",{...e,nocase:i});F(this,"sep","\\");this.nocase=i;for(let r=this.cwd;r;r=r.parent)r.nocase=this.nocase}parseRootPath(n){return node_path_1.win32.parse(n).root.toUpperCase()}newRoot(n){return new PathWin32(this.rootPath,IFDIR,void 0,this.roots,this.nocase,this.childrenCache(),{fs:n})}isAbsolute(n){return n.startsWith("/")||n.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(n)}}commonjs$2.PathScurryWin32=PathScurryWin32;class PathScurryPosix extends PathScurryBase{constructor(n=process.cwd(),e={}){const{nocase:i=!1}=e;super(n,node_path_1.posix,"/",{...e,nocase:i});F(this,"sep","/");this.nocase=i}parseRootPath(n){return"/"}newRoot(n){return new PathPosix(this.rootPath,IFDIR,void 0,this.roots,this.nocase,this.childrenCache(),{fs:n})}isAbsolute(n){return n.startsWith("/")}}commonjs$2.PathScurryPosix=PathScurryPosix;class PathScurryDarwin extends PathScurryPosix{constructor(t=process.cwd(),n={}){const{nocase:e=!0}=n;super(t,{...n,nocase:e})}}commonjs$2.PathScurryDarwin=PathScurryDarwin;commonjs$2.Path=process.platform==="win32"?PathWin32:PathPosix;commonjs$2.PathScurry=process.platform==="win32"?PathScurryWin32:process.platform==="darwin"?PathScurryDarwin:PathScurryPosix;var pattern={};Object.defineProperty(pattern,"__esModule",{value:!0});pattern.Pattern=void 0;const minimatch_1$4=commonjs$3,isPatternList=s=>s.length>=1,isGlobList=s=>s.length>=1;var yt,Lt,_t,Pe,Vt,En,ge,ye,we,Ge;const $n=class $n{constructor(t,n,e,i){N(this,yt);N(this,Lt);N(this,_t);F(this,"length");N(this,Pe);N(this,Vt);N(this,En);N(this,ge);N(this,ye);N(this,we);N(this,Ge,!0);if(!isPatternList(t))throw new TypeError("empty pattern list");if(!isGlobList(n))throw new TypeError("empty glob list");if(n.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,e<0||e>=this.length)throw new TypeError("index out of range");if(E(this,yt,t),E(this,Lt,n),E(this,_t,e),E(this,Pe,i),l(this,_t)===0){if(this.isUNC()){const[r,a,u,o,...c]=l(this,yt),[h,p,d,g,...m]=l(this,Lt);c[0]===""&&(c.shift(),m.shift());const y=[r,a,u,o,""].join("/"),R=[h,p,d,g,""].join("/");E(this,yt,[y,...c]),E(this,Lt,[R,...m]),this.length=l(this,yt).length}else if(this.isDrive()||this.isAbsolute()){const[r,...a]=l(this,yt),[u,...o]=l(this,Lt);a[0]===""&&(a.shift(),o.shift());const c=r+"/",h=u+"/";E(this,yt,[c,...a]),E(this,Lt,[h,...o]),this.length=l(this,yt).length}}}pattern(){return l(this,yt)[l(this,_t)]}isString(){return typeof l(this,yt)[l(this,_t)]=="string"}isGlobstar(){return l(this,yt)[l(this,_t)]===minimatch_1$4.GLOBSTAR}isRegExp(){return l(this,yt)[l(this,_t)]instanceof RegExp}globString(){return E(this,En,l(this,En)||(l(this,_t)===0?this.isAbsolute()?l(this,Lt)[0]+l(this,Lt).slice(1).join("/"):l(this,Lt).join("/"):l(this,Lt).slice(l(this,_t)).join("/")))}hasMore(){return this.length>l(this,_t)+1}rest(){return l(this,Vt)!==void 0?l(this,Vt):this.hasMore()?(E(this,Vt,new $n(l(this,yt),l(this,Lt),l(this,_t)+1,l(this,Pe))),E(l(this,Vt),we,l(this,we)),E(l(this,Vt),ye,l(this,ye)),E(l(this,Vt),ge,l(this,ge)),l(this,Vt)):E(this,Vt,null)}isUNC(){const t=l(this,yt);return l(this,ye)!==void 0?l(this,ye):E(this,ye,l(this,Pe)==="win32"&&l(this,_t)===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3])}isDrive(){const t=l(this,yt);return l(this,ge)!==void 0?l(this,ge):E(this,ge,l(this,Pe)==="win32"&&l(this,_t)===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]))}isAbsolute(){const t=l(this,yt);return l(this,we)!==void 0?l(this,we):E(this,we,t[0]===""&&t.length>1||this.isDrive()||this.isUNC())}root(){const t=l(this,yt)[0];return typeof t=="string"&&this.isAbsolute()&&l(this,_t)===0?t:""}checkFollowGlobstar(){return!(l(this,_t)===0||!this.isGlobstar()||!l(this,Ge))}markFollowGlobstar(){return l(this,_t)===0||!this.isGlobstar()||!l(this,Ge)?!1:(E(this,Ge,!1),!0)}};yt=new WeakMap,Lt=new WeakMap,_t=new WeakMap,Pe=new WeakMap,Vt=new WeakMap,En=new WeakMap,ge=new WeakMap,ye=new WeakMap,we=new WeakMap,Ge=new WeakMap;let Pattern=$n;pattern.Pattern=Pattern;var walker={},ignore={};Object.defineProperty(ignore,"__esModule",{value:!0});ignore.Ignore=void 0;const minimatch_1$3=commonjs$3,pattern_js_1$1=pattern,defaultPlatform$1=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Ignore{constructor(t,{nobrace:n,nocase:e,noext:i,noglobstar:r,platform:a=defaultPlatform$1}){F(this,"relative");F(this,"relativeChildren");F(this,"absolute");F(this,"absoluteChildren");F(this,"platform");F(this,"mmopts");this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=a,this.mmopts={dot:!0,nobrace:n,nocase:e,noext:i,noglobstar:r,optimizationLevel:2,platform:a,nocomment:!0,nonegate:!0};for(const u of t)this.add(u)}add(t){const n=new minimatch_1$3.Minimatch(t,this.mmopts);for(let e=0;e<n.set.length;e++){const i=n.set[e],r=n.globParts[e];if(!i||!r)throw new Error("invalid pattern object");for(;i[0]==="."&&r[0]===".";)i.shift(),r.shift();const a=new pattern_js_1$1.Pattern(i,r,0,this.platform),u=new minimatch_1$3.Minimatch(a.globString(),this.mmopts),o=r[r.length-1]==="**",c=a.isAbsolute();c?this.absolute.push(u):this.relative.push(u),o&&(c?this.absoluteChildren.push(u):this.relativeChildren.push(u))}}ignored(t){const n=t.fullpath(),e=`${n}/`,i=t.relative()||".",r=`${i}/`;for(const a of this.relative)if(a.match(i)||a.match(r))return!0;for(const a of this.absolute)if(a.match(n)||a.match(e))return!0;return!1}childrenIgnored(t){const n=t.fullpath()+"/",e=(t.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(e))return!0;for(const i of this.absoluteChildren)if(i.match(n))return!0;return!1}}ignore.Ignore=Ignore;var processor={};Object.defineProperty(processor,"__esModule",{value:!0});processor.Processor=processor.SubWalks=processor.MatchRecord=processor.HasWalkedCache=void 0;const minimatch_1$2=commonjs$3;class HasWalkedCache{constructor(t=new Map){F(this,"store");this.store=t}copy(){return new HasWalkedCache(new Map(this.store))}hasWalked(t,n){var e;return(e=this.store.get(t.fullpath()))==null?void 0:e.has(n.globString())}storeWalked(t,n){const e=t.fullpath(),i=this.store.get(e);i?i.add(n.globString()):this.store.set(e,new Set([n.globString()]))}}processor.HasWalkedCache=HasWalkedCache;class MatchRecord{constructor(){F(this,"store",new Map)}add(t,n,e){const i=(n?2:0)|(e?1:0),r=this.store.get(t);this.store.set(t,r===void 0?i:i&r)}entries(){return[...this.store.entries()].map(([t,n])=>[t,!!(n&2),!!(n&1)])}}processor.MatchRecord=MatchRecord;class SubWalks{constructor(){F(this,"store",new Map)}add(t,n){if(!t.canReaddir())return;const e=this.store.get(t);e?e.find(i=>i.globString()===n.globString())||e.push(n):this.store.set(t,[n])}get(t){const n=this.store.get(t);if(!n)throw new Error("attempting to walk unknown path");return n}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}processor.SubWalks=SubWalks;class Processor{constructor(t,n){F(this,"hasWalkedCache");F(this,"matches",new MatchRecord);F(this,"subwalks",new SubWalks);F(this,"patterns");F(this,"follow");F(this,"dot");F(this,"opts");this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=n?n.copy():new HasWalkedCache}processPatterns(t,n){this.patterns=n;const e=n.map(i=>[t,i]);for(let[i,r]of e){this.hasWalkedCache.storeWalked(i,r);const a=r.root(),u=r.isAbsolute()&&this.opts.absolute!==!1;if(a){i=i.resolve(a==="/"&&this.opts.root!==void 0?this.opts.root:a);const p=r.rest();if(p)r=p;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let o,c,h=!1;for(;typeof(o=r.pattern())=="string"&&(c=r.rest());)i=i.resolve(o),r=c,h=!0;if(o=r.pattern(),c=r.rest(),h){if(this.hasWalkedCache.hasWalked(i,r))continue;this.hasWalkedCache.storeWalked(i,r)}if(typeof o=="string"){const p=o===".."||o===""||o===".";this.matches.add(i.resolve(o),u,p);continue}else if(o===minimatch_1$2.GLOBSTAR){(!i.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(i,r);const p=c==null?void 0:c.pattern(),d=c==null?void 0:c.rest();if(!c||(p===""||p===".")&&!d)this.matches.add(i,u,p===""||p===".");else if(p===".."){const g=i.parent||i;d?this.hasWalkedCache.hasWalked(g,d)||this.subwalks.add(g,d):this.matches.add(g,u,!0)}}else o instanceof RegExp&&this.subwalks.add(i,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Processor(this.opts,this.hasWalkedCache)}filterEntries(t,n){const e=this.subwalks.get(t),i=this.child();for(const r of n)for(const a of e){const u=a.isAbsolute(),o=a.pattern(),c=a.rest();o===minimatch_1$2.GLOBSTAR?i.testGlobstar(r,a,c,u):o instanceof RegExp?i.testRegExp(r,o,c,u):i.testString(r,o,c,u)}return i}testGlobstar(t,n,e,i){if((this.dot||!t.name.startsWith("."))&&(n.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,n):t.isSymbolicLink()&&(e&&n.checkFollowGlobstar()?this.subwalks.add(t,e):n.markFollowGlobstar()&&this.subwalks.add(t,n)))),e){const r=e.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,e.rest(),i);else if(r===".."){const a=t.parent||t;this.subwalks.add(a,e)}else r instanceof RegExp&&this.testRegExp(t,r,e.rest(),i)}}testRegExp(t,n,e,i){n.test(t.name)&&(e?this.subwalks.add(t,e):this.matches.add(t,i,!1))}testString(t,n,e,i){t.isNamed(n)&&(e?this.subwalks.add(t,e):this.matches.add(t,i,!1))}}processor.Processor=Processor;Object.defineProperty(walker,"__esModule",{value:!0});walker.GlobStream=walker.GlobWalker=walker.GlobUtil=void 0;const minipass_1=commonjs,ignore_js_1=ignore,processor_js_1=processor,makeIgnore=(s,t)=>typeof s=="string"?new ignore_js_1.Ignore([s],t):Array.isArray(s)?new ignore_js_1.Ignore(s,t):s;var Je,oe,ke,Bt,xe,Zn;class GlobUtil{constructor(t,n,e){N(this,Bt);F(this,"path");F(this,"patterns");F(this,"opts");F(this,"seen",new Set);F(this,"paused",!1);F(this,"aborted",!1);N(this,Je,[]);N(this,oe);N(this,ke);F(this,"signal");F(this,"maxDepth");F(this,"includeChildMatches");if(this.patterns=t,this.path=n,this.opts=e,E(this,ke,!e.posix&&e.platform==="win32"?"\\":"/"),this.includeChildMatches=e.includeChildMatches!==!1,(e.ignore||!this.includeChildMatches)&&(E(this,oe,makeIgnore(e.ignore??[],e)),!this.includeChildMatches&&typeof l(this,oe).add!="function")){const i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=e.maxDepth||1/0,e.signal&&(this.signal=e.signal,this.signal.addEventListener("abort",()=>{l(this,Je).length=0}))}pause(){this.paused=!0}resume(){var n;if((n=this.signal)!=null&&n.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=l(this,Je).shift());)t()}onResume(t){var n;(n=this.signal)!=null&&n.aborted||(this.paused?l(this,Je).push(t):t())}async matchCheck(t,n){if(n&&this.opts.nodir)return;let e;if(this.opts.realpath){if(e=t.realpathCached()||await t.realpath(),!e)return;t=e}const r=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&(r!=null&&r.isSymbolicLink())){const a=await r.realpath();a&&(a.isUnknown()||this.opts.stat)&&await a.lstat()}return this.matchCheckTest(r,n)}matchCheckTest(t,n){var e;return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!n||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!t.isSymbolicLink()||!((e=t.realpathCached())!=null&&e.isDirectory()))&&!M(this,Bt,xe).call(this,t)?t:void 0}matchCheckSync(t,n){if(n&&this.opts.nodir)return;let e;if(this.opts.realpath){if(e=t.realpathCached()||t.realpathSync(),!e)return;t=e}const r=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&(r!=null&&r.isSymbolicLink())){const a=r.realpathSync();a&&(a!=null&&a.isUnknown()||this.opts.stat)&&a.lstatSync()}return this.matchCheckTest(r,n)}matchFinish(t,n){var r;if(M(this,Bt,xe).call(this,t))return;if(!this.includeChildMatches&&((r=l(this,oe))!=null&&r.add)){const a=`${t.relativePosix()}/**`;l(this,oe).add(a)}const e=this.opts.absolute===void 0?n:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?l(this,ke):"";if(this.opts.withFileTypes)this.matchEmit(t);else if(e){const a=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(a+i)}else{const a=this.opts.posix?t.relativePosix():t.relative(),u=this.opts.dotRelative&&!a.startsWith(".."+l(this,ke))?"."+l(this,ke):"";this.matchEmit(a?u+a+i:"."+i)}}async match(t,n,e){const i=await this.matchCheck(t,e);i&&this.matchFinish(i,n)}matchSync(t,n,e){const i=this.matchCheckSync(t,e);i&&this.matchFinish(i,n)}walkCB(t,n,e){var i;(i=this.signal)!=null&&i.aborted&&e(),this.walkCB2(t,n,new processor_js_1.Processor(this.opts),e)}walkCB2(t,n,e,i){var u;if(M(this,Bt,Zn).call(this,t))return i();if((u=this.signal)!=null&&u.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,n,e,i));return}e.processPatterns(t,n);let r=1;const a=()=>{--r===0&&i()};for(const[o,c,h]of e.matches.entries())M(this,Bt,xe).call(this,o)||(r++,this.match(o,c,h).then(()=>a()));for(const o of e.subwalkTargets()){if(this.maxDepth!==1/0&&o.depth()>=this.maxDepth)continue;r++;const c=o.readdirCached();o.calledReaddir()?this.walkCB3(o,c,e,a):o.readdirCB((h,p)=>this.walkCB3(o,p,e,a),!0)}a()}walkCB3(t,n,e,i){e=e.filterEntries(t,n);let r=1;const a=()=>{--r===0&&i()};for(const[u,o,c]of e.matches.entries())M(this,Bt,xe).call(this,u)||(r++,this.match(u,o,c).then(()=>a()));for(const[u,o]of e.subwalks.entries())r++,this.walkCB2(u,o,e.child(),a);a()}walkCBSync(t,n,e){var i;(i=this.signal)!=null&&i.aborted&&e(),this.walkCB2Sync(t,n,new processor_js_1.Processor(this.opts),e)}walkCB2Sync(t,n,e,i){var u;if(M(this,Bt,Zn).call(this,t))return i();if((u=this.signal)!=null&&u.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,n,e,i));return}e.processPatterns(t,n);let r=1;const a=()=>{--r===0&&i()};for(const[o,c,h]of e.matches.entries())M(this,Bt,xe).call(this,o)||this.matchSync(o,c,h);for(const o of e.subwalkTargets()){if(this.maxDepth!==1/0&&o.depth()>=this.maxDepth)continue;r++;const c=o.readdirSync();this.walkCB3Sync(o,c,e,a)}a()}walkCB3Sync(t,n,e,i){e=e.filterEntries(t,n);let r=1;const a=()=>{--r===0&&i()};for(const[u,o,c]of e.matches.entries())M(this,Bt,xe).call(this,u)||this.matchSync(u,o,c);for(const[u,o]of e.subwalks.entries())r++,this.walkCB2Sync(u,o,e.child(),a);a()}}Je=new WeakMap,oe=new WeakMap,ke=new WeakMap,Bt=new WeakSet,xe=function(t){var n,e;return this.seen.has(t)||!!((e=(n=l(this,oe))==null?void 0:n.ignored)!=null&&e.call(n,t))},Zn=function(t){var n,e;return!!((e=(n=l(this,oe))==null?void 0:n.childrenIgnored)!=null&&e.call(n,t))};walker.GlobUtil=GlobUtil;class GlobWalker extends GlobUtil{constructor(n,e,i){super(n,e,i);F(this,"matches",new Set)}matchEmit(n){this.matches.add(n)}async walk(){var n;if((n=this.signal)!=null&&n.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,i)=>{this.walkCB(this.path,this.patterns,()=>{var r;(r=this.signal)!=null&&r.aborted?i(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){var n;if((n=this.signal)!=null&&n.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{var e;if((e=this.signal)!=null&&e.aborted)throw this.signal.reason}),this.matches}}walker.GlobWalker=GlobWalker;class GlobStream extends GlobUtil{constructor(n,e,i){super(n,e,i);F(this,"results");this.results=new minipass_1.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(n){this.results.write(n),this.results.flowing||this.pause()}stream(){const n=this.path;return n.isUnknown()?n.lstat().then(()=>{this.walkCB(n,this.patterns,()=>this.results.end())}):this.walkCB(n,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}walker.GlobStream=GlobStream;Object.defineProperty(glob$1,"__esModule",{value:!0});glob$1.Glob=void 0;const minimatch_1$1=commonjs$3,node_url_1=require$$2,path_scurry_1=commonjs$2,pattern_js_1=pattern,walker_js_1=walker,defaultPlatform=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Glob{constructor(t,n){F(this,"absolute");F(this,"cwd");F(this,"root");F(this,"dot");F(this,"dotRelative");F(this,"follow");F(this,"ignore");F(this,"magicalBraces");F(this,"mark");F(this,"matchBase");F(this,"maxDepth");F(this,"nobrace");F(this,"nocase");F(this,"nodir");F(this,"noext");F(this,"noglobstar");F(this,"pattern");F(this,"platform");F(this,"realpath");F(this,"scurry");F(this,"stat");F(this,"signal");F(this,"windowsPathsNoEscape");F(this,"withFileTypes");F(this,"includeChildMatches");F(this,"opts");F(this,"patterns");if(!n)throw new TypeError("glob options required");if(this.withFileTypes=!!n.withFileTypes,this.signal=n.signal,this.follow=!!n.follow,this.dot=!!n.dot,this.dotRelative=!!n.dotRelative,this.nodir=!!n.nodir,this.mark=!!n.mark,n.cwd?(n.cwd instanceof URL||n.cwd.startsWith("file://"))&&(n.cwd=(0,node_url_1.fileURLToPath)(n.cwd)):this.cwd="",this.cwd=n.cwd||"",this.root=n.root,this.magicalBraces=!!n.magicalBraces,this.nobrace=!!n.nobrace,this.noext=!!n.noext,this.realpath=!!n.realpath,this.absolute=n.absolute,this.includeChildMatches=n.includeChildMatches!==!1,this.noglobstar=!!n.noglobstar,this.matchBase=!!n.matchBase,this.maxDepth=typeof n.maxDepth=="number"?n.maxDepth:1/0,this.stat=!!n.stat,this.ignore=n.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(o=>o.replace(/\\/g,"/"))),this.matchBase){if(n.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(o=>o.includes("/")?o:`./**/${o}`)}if(this.pattern=t,this.platform=n.platform||defaultPlatform,this.opts={...n,platform:this.platform},n.scurry){if(this.scurry=n.scurry,n.nocase!==void 0&&n.nocase!==n.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const o=n.platform==="win32"?path_scurry_1.PathScurryWin32:n.platform==="darwin"?path_scurry_1.PathScurryDarwin:n.platform?path_scurry_1.PathScurryPosix:path_scurry_1.PathScurry;this.scurry=new o(this.cwd,{nocase:n.nocase,fs:n.fs})}this.nocase=this.scurry.nocase;const e=this.platform==="darwin"||this.platform==="win32",i={...n,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:e,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(o=>new minimatch_1$1.Minimatch(o,i)),[a,u]=r.reduce((o,c)=>(o[0].push(...c.set),o[1].push(...c.globParts),o),[[],[]]);this.patterns=a.map((o,c)=>{const h=u[c];if(!h)throw new Error("invalid pattern object");return new pattern_js_1.Pattern(o,h,0,this.platform)})}async walk(){return[...await new walker_js_1.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new walker_js_1.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new walker_js_1.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new walker_js_1.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}glob$1.Glob=Glob;var hasMagic$1={};Object.defineProperty(hasMagic$1,"__esModule",{value:!0});hasMagic$1.hasMagic=void 0;const minimatch_1=commonjs$3,hasMagic=(s,t={})=>{Array.isArray(s)||(s=[s]);for(const n of s)if(new minimatch_1.Minimatch(n,t).hasMagic())return!0;return!1};hasMagic$1.hasMagic=hasMagic;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.glob=s.sync=s.iterate=s.iterateSync=s.stream=s.streamSync=s.Ignore=s.hasMagic=s.Glob=s.unescape=s.escape=void 0,s.globStreamSync=o,s.globStream=c,s.globSync=h,s.globIterateSync=d,s.globIterate=g;const t=commonjs$3,n=glob$1,e=hasMagic$1;var i=commonjs$3;Object.defineProperty(s,"escape",{enumerable:!0,get:function(){return i.escape}}),Object.defineProperty(s,"unescape",{enumerable:!0,get:function(){return i.unescape}});var r=glob$1;Object.defineProperty(s,"Glob",{enumerable:!0,get:function(){return r.Glob}});var a=hasMagic$1;Object.defineProperty(s,"hasMagic",{enumerable:!0,get:function(){return a.hasMagic}});var u=ignore;Object.defineProperty(s,"Ignore",{enumerable:!0,get:function(){return u.Ignore}});function o(m,y={}){return new n.Glob(m,y).streamSync()}function c(m,y={}){return new n.Glob(m,y).stream()}function h(m,y={}){return new n.Glob(m,y).walkSync()}async function p(m,y={}){return new n.Glob(m,y).walk()}function d(m,y={}){return new n.Glob(m,y).iterateSync()}function g(m,y={}){return new n.Glob(m,y).iterate()}s.streamSync=o,s.stream=Object.assign(c,{sync:o}),s.iterateSync=d,s.iterate=Object.assign(g,{sync:d}),s.sync=Object.assign(h,{stream:o,iterate:d}),s.glob=Object.assign(p,{glob:p,globSync:h,sync:s.sync,globStream:c,stream:s.stream,globStreamSync:o,streamSync:s.streamSync,globIterate:g,iterate:s.iterate,globIterateSync:d,iterateSync:s.iterateSync,Glob:n.Glob,hasMagic:e.hasMagic,escape:t.escape,unescape:t.unescape}),s.glob.glob=s.glob})(commonjs$4);var console_reporter={exports:{}};(function(s,t){s.exports=n;function n(){let e=function(){},i=!1,r,a,u,o=[],c=[],h=!0,p={green:"\x1B[32m",red:"\x1B[31m",yellow:"\x1B[33m",none:"\x1B[0m"},d=[],g=S=>S;return this.setOptions=function(S){S.print&&(e=S.print),i=S.showColors||!1,S.stackFilter&&(g=S.stackFilter),S.randomSeedReproductionCmd&&(this.randomSeedReproductionCmd=S.randomSeedReproductionCmd),S.alwaysListPendingSpecs!==void 0&&(h=S.alwaysListPendingSpecs)},this.jasmineStarted=function(S){r=0,a=0,u=0,S&&S.order&&S.order.random&&(e("Randomized with seed "+S.order.seed),m()),e("Started"),m()},this.jasmineDone=function(S){S.failedExpectations&&(u+=S.failedExpectations.length),m(),m(),o.length>0&&e("Failures:");for(let k=0;k<o.length;k++)I(o[k],k+1);for(let k=0;k<d.length;k++)A(d[k]);if(S&&S.failedExpectations&&S.failedExpectations.length>0&&A({fullName:"top suite",...S}),h||S.overallStatus==="passed"){c.length>0&&e("Pending:");for(let k=0;k<c.length;k++)B(c[k],k+1)}if(r>0){m(),a!==r&&(e("Ran "+a+" of "+r+R(" spec",r)),m());let k=a+" "+R("spec",a)+", "+u+" "+R("failure",u);c.length&&(k+=", "+c.length+" pending "+R("spec",c.length)),e(k)}else e("No specs found");m(),S.numWorkers&&(e("Ran in parallel with "+S.numWorkers+" workers"),m());const L=S?S.totalTime/1e3:0;e("Finished in "+L+" "+R("second",L)),m(),S&&S.overallStatus==="incomplete"&&(e("Incomplete: "+S.incompleteReason),m()),S&&S.order&&S.order.random&&(e("Randomized with seed "+S.order.seed),e(" ("+this.randomSeedReproductionCmd(S.order.seed)+")"),m())},this.randomSeedReproductionCmd=function(S){return"jasmine --random=true --seed="+S},this.specDone=function(S){if(r++,S.status=="pending"){c.push(S),a++,e(y("yellow","*"));return}if(S.status=="passed"){a++,e(y("green","."));return}S.status=="failed"&&(u++,o.push(S),a++,e(y("red","F")))},this.suiteDone=function(S){S.failedExpectations&&S.failedExpectations.length>0&&(u++,d.push(S))},this.reporterCapabilities={parallel:!0},this;function m(){e(`
`)}function y(S,L){return i?p[S]+L+p.none:L}function R(S,L){return L==1?S:S+"s"}function _(S,L){const k=[];for(let U=0;U<L;U++)k.push(S);return k}function x(S,L){const k=(S||"").split(`
`),U=[];for(let X=0;X<k.length;X++)U.push(_(" ",L).join("")+k[X]);return U.join(`
`)}function I(S,L){if(m(),e(L+") "),e(S.fullName),J(S),S.debugLogs){m(),e(x("Debug logs:",2)),m();for(const k of S.debugLogs)e(x(`${k.timestamp}ms: ${k.message}`,4)),m()}}function A(S){m(),e("Suite error: "+S.fullName),J(S)}function J(S){for(let L=0;L<S.failedExpectations.length;L++){const k=S.failedExpectations[L];m(),e(x("Message:",2)),m(),e(y("red",x(k.message,4))),m(),e(x("Stack:",2)),m(),e(x(g(k.stack),4))}S.failedExpectations.length===0&&S.passedExpectations.length===0&&(m(),e(x("Message:",2)),m(),e(y("red",x("Spec has no expectations",4)))),m()}function B(S,L){m(),m(),e(L+") "),e(S.fullName),m();let k="No reason given";S.pendingReason&&S.pendingReason!==""&&(k=S.pendingReason),e(x(y("yellow",k),2)),m()}}})(console_reporter);var console_reporterExports=console_reporter.exports;function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}const path$1=require$$2,url=require$$2;let Loader$1=class{constructor(t){t=t||{},this.require_=t.requireShim||requireShim,this.import_=t.importShim||importShim,this.resolvePath_=t.resolvePath||path$1.resolve.bind(path$1),this.alwaysImport=!0}load(t){if(this.alwaysImport&&!t.endsWith(".json")||t.endsWith(".mjs")){const n=this.resolveImportSpecifier_(t);return this.import_(n).then(e=>e.default,e=>e.code==="ERR_UNKNOWN_FILE_EXTENSION"?this.require_(t):Promise.reject(fixupImportException(e,t)))}else return new Promise(n=>{const e=this.require_(t);n(e)})}resolveImportSpecifier_(t){const n=t.startsWith("@"),e=t.startsWith("."),i=/\.[A-Za-z]+/.test(t),r=i||e?this.resolvePath_(t):t;return n||!i?r:url.pathToFileURL(r).toString()}};function requireShim(s){return commonjsRequire(s)}function importShim(s){return import(s)}function fixupImportException(s,t){if(!(s instanceof SyntaxError))return s;const n=escapeStringForRegexp(t.replace(/\//g,"\\")),e=new RegExp("[a-zA-z]:\\\\([^\\s]+\\\\|)"+n),i=new RegExp("file:///[a-zA-z]:\\\\([^\\s]+\\\\|)"+n),r=/^\/[^\s:]+:\d/,a=/^[a-zA-Z]:(\\[^\s\\:]+)+:/;return s.message.indexOf(t)!==-1||s.stack.indexOf(t)!==-1||s.stack.match(e)||s.stack.match(i)||s.stack.match(r)||s.stack.match(a)?s:new Error(`While loading ${t}: ${s.constructor.name}: ${s.message}`,{cause:s})}function escapeStringForRegexp(s){return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var loader=Loader$1;let GlobalSetupOrTeardownRunner$1=class{async run(t,n,e){await withTimeout(t,e,async function(){await withGlobalErrorHandling(t,n)})}};async function withGlobalErrorHandling(s,t){process.on("uncaughtException",e),process.on("unhandledRejection",i);let n=null;try{await t()}finally{process.off("uncaughtException",e),process.off("unhandledRejection",i)}if(n)throw n;function e(r){n=new Error(`Unhandled exception during ${s}`,{cause:r})}function i(r){n=new Error(`Unhandled promise rejection during ${s}`,{cause:r})}}async function withTimeout(s,t,n){t=t||5e3;const e=n(),i={},r=new Promise(function(u){setTimeout(function(){u(i)},t)});if(await Promise.race([e,r])===i)throw new Error(`${s} timed out after ${t} milliseconds`)}var global_setup_or_teardown_runner=GlobalSetupOrTeardownRunner$1,unWindows$1=function(t){return t.replace(/\\/g,"/")};const path=require$$2,util=require$$2,glob=commonjs$4,ConsoleReporter=console_reporterExports,Loader=loader,GlobalSetupOrTeardownRunner=global_setup_or_teardown_runner,unWindows=unWindows$1;let RunnerBase$1=class{constructor(t){this.loader=t.loader||new Loader;let n;t.projectBaseDir?n=t.projectBaseDir:n=(t.getcwd||path.resolve)(),this.projectBaseDir=unWindows(n),this.specFiles=[],this.helperFiles=[],this.requires=[],this.specDir="",this.reporter_=new(t.ConsoleReporter||ConsoleReporter),this.defaultReporterConfigured=!1,this.showingColors=!0,this.alwaysListPendingSpecs_=!0,this.globalSetupOrTeardownRunner_=t.globalSetupOrTeardownRunner||new GlobalSetupOrTeardownRunner,this.globals_=t.globals}showColors(t){this.showingColors=t}verbose(t){this.isVerbose_=t}alwaysListPendingSpecs(t){this.alwaysListPendingSpecs_=t}async loadConfigFile(t){if(this.isVerbose_&&console.log(`Project base dir: ${this.projectBaseDir}`),t)this.isVerbose_&&console.log(`Loading config file ${t} because it was explicitly specified`),await this.loadSpecificConfigFile_(t);else{let n=0;for(const e of["mjs","json","js"]){const i=`spec/support/jasmine.${e}`;try{if(await this.loadSpecificConfigFile_(i),n++,e==="mjs")break}catch(r){if(r.code!=="MODULE_NOT_FOUND"&&r.code!=="ERR_MODULE_NOT_FOUND"&&r.code!=="ENOENT")throw r;this.isVerbose_&&console.log(`Tried to load config file ${i} but it does not exist (${r.code})`)}}n>1?console.warn(`Deprecation warning: Jasmine found and loaded both jasmine.js and jasmine.json
config files. In a future version, only the first file found will be loaded.`):n===0&&this.isVerbose_&&console.log("Did not find any config files.")}}async loadSpecificConfigFile_(t){const n=path.resolve(this.projectBaseDir,t),e=await this.loader.load(n);this.isVerbose_&&console.log(`Loaded config file ${n}`),this.loadConfig(e)}loadConfig(t){const n={...t.env};if(this.specDir=t.spec_dir||this.specDir,t.failSpecWithNoExpectations!==void 0&&(n.failSpecWithNoExpectations=t.failSpecWithNoExpectations),t.stopSpecOnExpectationFailure!==void 0&&(n.stopSpecOnExpectationFailure=t.stopSpecOnExpectationFailure),t.stopOnSpecFailure!==void 0&&(n.stopOnSpecFailure=t.stopOnSpecFailure),t.alwaysListPendingSpecs!==void 0&&this.alwaysListPendingSpecs(t.alwaysListPendingSpecs),t.random!==void 0&&(n.random=t.random),t.verboseDeprecations!==void 0&&(n.verboseDeprecations=t.verboseDeprecations),t.jsLoader==="import"||t.jsLoader===void 0)this.loader.alwaysImport=!0;else if(t.jsLoader==="require")this.loader.alwaysImport=!1;else throw new Error(`"${t.jsLoader}" is not a valid value for the jsLoader configuration property. Valid values are "import", "require", and undefined.`);if(Object.keys(n).length>0&&this.configureEnv(n),t.helpers&&this.addMatchingHelperFiles(t.helpers),t.requires&&this.addRequires(t.requires),t.spec_files&&this.addMatchingSpecFiles(t.spec_files),t.reporters)for(let e=0;e<t.reporters.length;e++)this.addReporter(t.reporters[e],`the reporter in position ${e} of the configuration's reporters array`);t.globalSetup&&(this.globalSetup_=t.globalSetup),t.globalSetupTimeout&&(this.globalSetupTimeout_=t.globalSetupTimeout),t.globalTeardown&&(this.globalTeardown_=t.globalTeardown),t.globalTeardownTimeout&&(this.globalTeardownTimeout_=t.globalTeardownTimeout)}addSpecFile(t){this.specFiles.push(t)}addHelperFile(t){this.helperFiles.push(t)}addRequires(t){const n=this;t.forEach(function(e){n.requires.push(e)})}configureDefaultReporter(t){t.print=t.print||function(){process.stdout.write(util.format.apply(this,arguments))},t.showColors=t.hasOwnProperty("showColors")?t.showColors:!0,this.reporter_.setOptions(t),this.defaultReporterConfigured=!0}async withinGlobalSetup_(t){let n=!1;await this.runGlobalSetup_();try{await t(),n=!0}finally{if(n)await this.runGlobalTeardown_();else try{await this.runGlobalTeardown_()}catch(e){console.error(e)}}}async runGlobalSetup_(){this.globalSetup_&&await this.globalSetupOrTeardownRunner_.run("globalSetup",this.globalSetup_,this.globalSetupTimeout_)}async runGlobalTeardown_(){this.globalTeardown_&&await this.globalSetupOrTeardownRunner_.run("globalTeardown",this.globalTeardown_,this.globalTeardownTimeout_)}async flushOutput(){var t=[process.stdout,process.stderr],n=t.map(e=>new Promise(i=>e.write("",null,i)));return Promise.all(n)}};RunnerBase$1.prototype.addMatchingSpecFiles=addFiles("specFiles");RunnerBase$1.prototype.addMatchingHelperFiles=addFiles("helperFiles");function addFiles(s){return function(t){const n=this[s],{includeFiles:e,excludeFiles:i}=t.reduce((a,u)=>{const o=u.startsWith("!");return o&&(u=u.substring(1)),{includeFiles:a.includeFiles.concat(o?[]:[u]),excludeFiles:a.excludeFiles.concat(o?[u]:[])}},{includeFiles:[],excludeFiles:[]}),r=`${this.projectBaseDir}/${this.specDir}`;e.forEach(function(a){glob.sync(a,{cwd:r,ignore:i}).map(function(o){return path.isAbsolute(o)?o:unWindows(path.join(r,o))}).filter(function(o){return n.indexOf(o)===-1}).sort().forEach(function(o){n.push(o)})}),this.isVerbose_&&(console.log(`File glob for ${s}: ${t}`),console.log(`Resulting ${s}: [${n}]`))}}RunnerBase$1.exitCodeForStatus=function(s){switch(s){case"passed":return 0;case"incomplete":return 2;case"failed":return 3;default:return console.error(`Unrecognized overall status: ${s}`),1}};var runner_base=RunnerBase$1,jasmineCore={exports:{}},jasmine$2={exports:{}},hasRequiredJasmine;function requireJasmine(){return hasRequiredJasmine||(hasRequiredJasmine=1,function(module,exports){var getJasmineRequireObj=function(s){let t;module.exports?(typeof commonjsGlobal<"u"?s=commonjsGlobal:s={},t=exports):(typeof window<"u"&&typeof window.toString=="function"&&window.toString()==="[object GjsGlobal]"&&(s=window),t=s.jasmineRequire={});function n(){return t}return n().core=function(e){const i={};return e.base(i,s),i.util=e.util(i),i.errors=e.errors(),i.formatErrorMsg=e.formatErrorMsg(),i.Any=e.Any(i),i.Anything=e.Anything(i),i.CallTracker=e.CallTracker(i),i.MockDate=e.MockDate(i),i.getClearStack=e.clearStack(i),i.Clock=e.Clock(),i.DelayedFunctionScheduler=e.DelayedFunctionScheduler(i),i.Deprecator=e.Deprecator(i),i.Env=e.Env(i),i.StackTrace=e.StackTrace(i),i.ExceptionFormatter=e.ExceptionFormatter(i),i.ExpectationFilterChain=e.ExpectationFilterChain(),i.Expector=e.Expector(i),i.Expectation=e.Expectation(i),i.buildExpectationResult=e.buildExpectationResult(i),i.JsApiReporter=e.JsApiReporter(i),i.makePrettyPrinter=e.makePrettyPrinter(i),i.basicPrettyPrinter_=i.makePrettyPrinter(),i.MatchersUtil=e.MatchersUtil(i),i.ObjectContaining=e.ObjectContaining(i),i.ArrayContaining=e.ArrayContaining(i),i.ArrayWithExactContents=e.ArrayWithExactContents(i),i.MapContaining=e.MapContaining(i),i.SetContaining=e.SetContaining(i),i.QueueRunner=e.QueueRunner(i),i.NeverSkipPolicy=e.NeverSkipPolicy(i),i.SkipAfterBeforeAllErrorPolicy=e.SkipAfterBeforeAllErrorPolicy(i),i.CompleteOnFirstErrorSkipPolicy=e.CompleteOnFirstErrorSkipPolicy(i),i.reporterEvents=e.reporterEvents(i),i.ReportDispatcher=e.ReportDispatcher(i),i.ParallelReportDispatcher=e.ParallelReportDispatcher(i),i.RunableResources=e.RunableResources(i),i.Runner=e.Runner(i),i.Spec=e.Spec(i),i.Spy=e.Spy(i),i.SpyFactory=e.SpyFactory(i),i.SpyRegistry=e.SpyRegistry(i),i.SpyStrategy=e.SpyStrategy(i),i.StringMatching=e.StringMatching(i),i.StringContaining=e.StringContaining(i),i.UserContext=e.UserContext(i),i.Suite=e.Suite(i),i.SuiteBuilder=e.SuiteBuilder(i),i.Timer=e.Timer(),i.TreeProcessor=e.TreeProcessor(),i.version=e.version(),i.Order=e.Order(),i.DiffBuilder=e.DiffBuilder(i),i.NullDiffBuilder=e.NullDiffBuilder(i),i.ObjectPath=e.ObjectPath(i),i.MismatchTree=e.MismatchTree(i),i.GlobalErrors=e.GlobalErrors(i),i.Truthy=e.Truthy(i),i.Falsy=e.Falsy(i),i.Empty=e.Empty(i),i.NotEmpty=e.NotEmpty(i),i.Is=e.Is(i),i.matchers=e.requireMatchers(e,i),i.asyncMatchers=e.requireAsyncMatchers(e,i),i},n}(commonjsGlobal);getJasmineRequireObj().requireMatchers=function(s,t){const n=["nothing","toBe","toBeCloseTo","toBeDefined","toBeInstanceOf","toBeFalse","toBeFalsy","toBeGreaterThan","toBeGreaterThanOrEqual","toBeLessThan","toBeLessThanOrEqual","toBeNaN","toBeNegativeInfinity","toBeNull","toBePositiveInfinity","toBeTrue","toBeTruthy","toBeUndefined","toContain","toEqual","toHaveSize","toHaveBeenCalled","toHaveBeenCalledBefore","toHaveBeenCalledOnceWith","toHaveBeenCalledTimes","toHaveBeenCalledWith","toHaveClass","toHaveSpyInteractions","toMatch","toThrow","toThrowError","toThrowMatching"],e={};for(const i of n)e[i]=s[i](t);return e},getJasmineRequireObj().base=function(s,t){s.MAX_PRETTY_PRINT_DEPTH=8,s.MAX_PRETTY_PRINT_ARRAY_LENGTH=50,s.MAX_PRETTY_PRINT_CHARS=1e3;let n=5e3;Object.defineProperty(s,"DEFAULT_TIMEOUT_INTERVAL",{get:function(){return n},set:function(e){s.util.validateTimeout(e,"jasmine.DEFAULT_TIMEOUT_INTERVAL"),n=e}}),s.getGlobal=function(){return t},s.getEnv=function(e){return s.currentEnv_=s.currentEnv_||new s.Env(e)},s.isArray_=function(e){return s.isA_("Array",e)},s.isObject_=function(e){return!s.util.isUndefined(e)&&e!==null&&s.isA_("Object",e)},s.isString_=function(e){return s.isA_("String",e)},s.isNumber_=function(e){return s.isA_("Number",e)},s.isFunction_=function(e){return s.isA_("Function",e)},s.isAsyncFunction_=function(e){return s.isA_("AsyncFunction",e)},s.isGeneratorFunction_=function(e){return s.isA_("GeneratorFunction",e)},s.isTypedArray_=function(e){return s.isA_("Float32Array",e)||s.isA_("Float64Array",e)||s.isA_("Int16Array",e)||s.isA_("Int32Array",e)||s.isA_("Int8Array",e)||s.isA_("Uint16Array",e)||s.isA_("Uint32Array",e)||s.isA_("Uint8Array",e)||s.isA_("Uint8ClampedArray",e)},s.isA_=function(e,i){return s.getType_(i)==="[object "+e+"]"},s.isError_=function(e){return e?e instanceof Error?!0:typeof e.stack=="string"&&typeof e.message=="string":!1},s.isAsymmetricEqualityTester_=function(e){return e?s.isA_("Function",e.asymmetricMatch):!1},s.getType_=function(e){return Object.prototype.toString.apply(e)},s.isDomNode=function(e){return typeof t.Node<"u"?e instanceof t.Node:e!==null&&typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"},s.isMap=function(e){return e!==null&&typeof e<"u"&&e.constructor===t.Map},s.isSet=function(e){return e!==null&&typeof e<"u"&&e.constructor===t.Set},s.isWeakMap=function(e){return e!==null&&typeof e<"u"&&e.constructor===t.WeakMap},s.isURL=function(e){return e!==null&&typeof e<"u"&&e.constructor===t.URL},s.isIterable_=function(e){return e&&!!e[Symbol.iterator]},s.isDataView=function(e){return e!==null&&typeof e<"u"&&e.constructor===t.DataView},s.isPromise=function(e){return!!e&&e.constructor===t.Promise},s.isPromiseLike=function(e){return!!e&&s.isFunction_(e.then)},s.fnNameFor=function(e){if(e.name)return e.name;const i=e.toString().match(/^\s*function\s*(\w+)\s*\(/)||e.toString().match(/^\s*\[object\s*(\w+)Constructor\]/);return i?i[1]:"<anonymous>"},s.isPending_=function(e){const i={};return Promise.race([e,Promise.resolve(i)]).then(function(r){return r===i},function(){return!1})},s.any=function(e){return new s.Any(e)},s.anything=function(){return new s.Anything},s.truthy=function(){return new s.Truthy},s.falsy=function(){return new s.Falsy},s.empty=function(){return new s.Empty},s.is=function(e){return new s.Is(e)},s.notEmpty=function(){return new s.NotEmpty},s.objectContaining=function(e){return new s.ObjectContaining(e)},s.stringMatching=function(e){return new s.StringMatching(e)},s.stringContaining=function(e){return new s.StringContaining(e)},s.arrayContaining=function(e){return new s.ArrayContaining(e)},s.arrayWithExactContents=function(e){return new s.ArrayWithExactContents(e)},s.mapContaining=function(e){return new s.MapContaining(e)},s.setContaining=function(e){return new s.SetContaining(e)},s.isSpy=function(e){return e?e.and instanceof s.SpyStrategy&&e.calls instanceof s.CallTracker:!1},s.debugLog=function(e){s.getEnv().debugLog(e)},s.spyOnGlobalErrorsAsync=async function(e){await jasmine.getEnv().spyOnGlobalErrorsAsync(e)}},getJasmineRequireObj().util=function(s){const t={};t.isUndefined=function(e){return e===void 0},t.clone=function(e){if(Object.prototype.toString.apply(e)==="[object Array]")return e.slice();const i={};for(const r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i},t.cloneArgs=function(e){return Array.from(e).map(function(i){const r=Object.prototype.toString.apply(i),a=/^\[object (Boolean|String|RegExp|Number)/;return!i||r.match(a)?i:r==="[object Date]"?new Date(i.valueOf()):s.util.clone(i)})},t.getPropertyDescriptor=function(e,i){let r,a=e;do r=Object.getOwnPropertyDescriptor(a,i),a=Object.getPrototypeOf(a);while(!r&&a);return r},t.has=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.errorWithStack=function(){return new Error};function n(){return new s.StackTrace(t.errorWithStack()).frames[2].file}return t.jasmineFile=function(){let e;return function(){return e||(e=n()),e}}(),t.validateTimeout=function(e,i){if(e>2147483647)throw new Error((i||"Timeout value")+" cannot be greater than 2147483647")},t},getJasmineRequireObj().Spec=function(s){function t(e){this.expectationFactory=e.expectationFactory,this.asyncExpectationFactory=e.asyncExpectationFactory,this.resultCallback=e.resultCallback||function(){},this.id=e.id,this.filename=e.filename,this.parentSuiteId=e.parentSuiteId,this.description=e.description||"",this.queueableFn=e.queueableFn,this.beforeAndAfterFns=e.beforeAndAfterFns||function(){return{befores:[],afters:[]}},this.userContext=e.userContext||function(){return{}},this.onStart=e.onStart||function(){},this.autoCleanClosures=e.autoCleanClosures===void 0?!0:!!e.autoCleanClosures,this.getSpecName=e.getSpecName||function(){return""},this.onLateError=e.onLateError||function(){},this.catchingExceptions=e.catchingExceptions||function(){return!0},this.throwOnExpectationFailure=!!e.throwOnExpectationFailure,this.timer=e.timer||new s.Timer,this.queueableFn.fn||this.exclude(),this.reset()}t.prototype.addExpectationResult=function(e,i,r){const a=s.buildExpectationResult(i);if(e)this.result.passedExpectations.push(a);else if(this.reportedDone?this.onLateError(a):(this.result.failedExpectations.push(a),this.result.status&&(this.result.status="failed")),this.throwOnExpectationFailure&&!r)throw new s.errors.ExpectationFailed},t.prototype.setSpecProperty=function(e,i){this.result.properties=this.result.properties||{},this.result.properties[e]=i},t.prototype.execute=function(e,i,r,a){const u={fn:p=>{this.timer.start(),this.onStart(this,p)}},o={fn:p=>{this.autoCleanClosures&&(this.queueableFn.fn=null),this.result.status=this.status(r,a),this.result.duration=this.timer.elapsed(),this.result.status!=="failed"&&(this.result.debugLogs=null),this.resultCallback(this.result,p)},type:"specCleanup"},c=this.beforeAndAfterFns(),h={isLeaf:!0,queueableFns:[...c.befores,this.queueableFn,...c.afters],onException:p=>this.handleException(p),onMultipleDone:()=>{this.onLateError(new Error(`An asynchronous spec, beforeEach, or afterEach function called its 'done' callback more than once.
(in spec: `+this.getFullName()+")"))},onComplete:()=>{this.result.status==="failed"?i(new s.StopExecutionError("spec failed")):i()},userContext:this.userContext(),runnableName:this.getFullName.bind(this)};(this.markedPending||r===!0)&&(h.queueableFns=[]),h.queueableFns.unshift(u),h.queueableFns.push(o),e(h)},t.prototype.reset=function(){this.result={id:this.id,description:this.description,fullName:this.getFullName(),parentSuiteId:this.parentSuiteId,filename:this.filename,failedExpectations:[],passedExpectations:[],deprecationWarnings:[],pendingReason:this.excludeMessage||"",duration:null,properties:null,debugLogs:null},this.markedPending=this.markedExcluding,this.reportedDone=!1},t.prototype.handleException=function(i){if(t.isPendingSpecException(i)){this.pend(n(i));return}i instanceof s.errors.ExpectationFailed||this.addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",error:i},!0)},t.prototype.pend=function(e){this.markedPending=!0,e&&(this.result.pendingReason=e)},t.prototype.exclude=function(e){this.markedExcluding=!0,this.message&&(this.excludeMessage=e),this.pend(e)},t.prototype.getResult=function(){return this.result.status=this.status(),this.result},t.prototype.status=function(e,i){return e===!0?"excluded":this.markedPending?"pending":this.result.failedExpectations.length>0||i&&this.result.failedExpectations.length+this.result.passedExpectations.length===0?"failed":"passed"},t.prototype.getFullName=function(){return this.getSpecName(this)},t.prototype.addDeprecationWarning=function(e){typeof e=="string"&&(e={message:e}),this.result.deprecationWarnings.push(s.buildExpectationResult(e))},t.prototype.debugLog=function(e){this.result.debugLogs||(this.result.debugLogs=[]),this.result.debugLogs.push({message:e,timestamp:this.timer.elapsed()})};const n=function(e){const i=e.toString(),r=i.indexOf(t.pendingSpecExceptionMessage),a=r+t.pendingSpecExceptionMessage.length;return i.slice(a)};return t.pendingSpecExceptionMessage="=> marked Pending",t.isPendingSpecException=function(e){return!!(e&&e.toString&&e.toString().indexOf(t.pendingSpecExceptionMessage)!==-1)},Object.defineProperty(t.prototype,"metadata",{get:function(){return this.metadata_||(this.metadata_={id:this.id,description:this.description,getFullName:this.getFullName.bind(this)}),this.metadata_}}),t},getJasmineRequireObj().Order=function(){function s(t){this.random="random"in t?t.random:!0;const n=this.seed=t.seed||r();this.sort=this.random?i:e;function e(u){return u}function i(u){const o=u.slice();return o.sort(function(c,h){return a(n+c.id)-a(n+h.id)}),o}function r(){return String(Math.random()).slice(-5)}function a(u){let o,c;for(o=c=0;c<u.length;++c)o+=u.charCodeAt(c),o+=o<<10,o^=o>>6;return o+=o<<3,o^=o>>11,o+=o<<15,o}}return s},getJasmineRequireObj().Env=function(s){function t(e){e=e||{};const i=this,r=e.global||s.getGlobal(),a=r.setTimeout,u=r.clearTimeout,o=s.getClearStack(r);this.clock=new s.Clock(r,function(){return new s.DelayedFunctionScheduler},new s.MockDate(r));const c=new s.GlobalErrors,h=function(){let b=!1;return function(){b||(c.install(),b=!0)}}(),p=new s.RunableResources({getCurrentRunableId:function(){const b=m.currentRunable();return b?b.id:null},globalErrors:c});let d,g,m,y=null;const R={random:!0,seed:null,stopOnSpecFailure:!1,failSpecWithNoExpectations:!1,stopSpecOnExpectationFailure:!1,specFilter:function(){return!0},hideDisabled:!1,autoCleanClosures:!0,forbidDuplicateNames:!1,verboseDeprecations:!1};e.suppressLoadErrors||(h(),c.pushListener(function(P,G){g.result.failedExpectations.push({passed:!1,globalErrorType:"load",message:P?P.message:G.message,stack:P&&P.stack,filename:G&&G.filename,lineno:G&&G.lineno})})),this.configure=function(b){if(y)throw new Error("Jasmine cannot be configured via Env in parallel mode");["random","failSpecWithNoExpectations","hideDisabled","stopOnSpecFailure","stopSpecOnExpectationFailure","autoCleanClosures","forbidDuplicateNames"].forEach(function(G){typeof b[G]<"u"&&(R[G]=!!b[G])}),b.specFilter&&(R.specFilter=b.specFilter),typeof b.seed<"u"&&(R.seed=b.seed),b.hasOwnProperty("verboseDeprecations")&&(R.verboseDeprecations=b.verboseDeprecations,X.verboseDeprecations(R.verboseDeprecations))},this.configuration=function(){const b={};for(const P in R)b[P]=R[P];return b},this.setDefaultSpyStrategy=function(b){p.setDefaultSpyStrategy(b)},this.addSpyStrategy=function(b,P){p.customSpyStrategies()[b]=P},this.addCustomEqualityTester=function(b){p.customEqualityTesters().push(b)},this.addMatchers=function(b){p.addCustomMatchers(b)},this.addAsyncMatchers=function(b){p.addCustomAsyncMatchers(b)},this.addCustomObjectFormatter=function(b){p.customObjectFormatters().push(b)},s.Expectation.addCoreMatchers(s.matchers),s.Expectation.addAsyncCoreMatchers(s.asyncMatchers);const _=function(b,P){return s.Expectation.factory({matchersUtil:p.makeMatchersUtil(),customMatchers:p.customMatchers(),actual:b,addExpectationResult:G});function G(tt,wt){return P.addExpectationResult(tt,wt)}},x=function(b,P){if(!b){const G=new Error(P.message);throw G.passed=P.passed,G.message=P.message,G.expected=P.expected,G.actual=P.actual,G.matcherName=P.matcherName,G}},I=function(b,P){return s.Expectation.factory({matchersUtil:p.makeMatchersUtil(),customMatchers:p.customMatchers(),actual:b,addExpectationResult:x})},A=function(b,P){return s.Expectation.asyncFactory({matchersUtil:p.makeMatchersUtil(),customAsyncMatchers:p.customAsyncMatchers(),actual:b,addExpectationResult:x})};function J(b){const G=b.matcherName!==void 0&&b.passed!==void 0?b:s.buildExpectationResult({error:b,passed:!1,matcherName:"",expected:"",actual:""});S(G)}function B(b,P,G){const tt={};Object.keys(G).forEach(function(wt){tt[wt]=G[wt]}),tt.passed=!1,tt.globalErrorType="lateExpectation",tt.message=P+' "'+b.getFullName()+'" ran a "'+G.matcherName+`" expectation after it finished.
`,G.message&&(tt.message+='Message: "'+G.message+`"
`),tt.message+=`1. Did you forget to return or await the result of expectAsync?
2. Was done() invoked before an async operation completed?
3. Did an expectation follow a call to done()?`,g.result.failedExpectations.push(tt)}function S(b){for(let P=m.currentRunable();P;P=P.parentSuite)if(!P.reportedDone){P===g&&(b.globalErrorType="lateError"),P.result.failedExpectations.push(b);return}console.error("Jasmine received a result after the suite finished:"),console.error(b)}const L=function(b,P,G){return s.Expectation.asyncFactory({matchersUtil:p.makeMatchersUtil(),customAsyncMatchers:p.customAsyncMatchers(),actual:b,addExpectationResult:tt});function tt(wt,Se){return m.currentRunable()!==P&&B(P,G,Se),P.addExpectationResult(wt,Se)}};this.deprecated=function(b,P){const G=m.currentRunable()||g;X.addDeprecationWarning(G,b,P)};function k(b){b.clearStack=b.clearStack||o,b.timeout={setTimeout:a,clearTimeout:u},b.fail=i.fail,b.globalErrors=c,b.onException=b.onException||function(P){(m.currentRunable()||g).handleException(P)},new s.QueueRunner(b).execute()}const U=new s.SuiteBuilder({env:this,expectationFactory:_,asyncExpectationFactory:L,onLateError:J,specResultCallback:xt,specStarted:rt,queueRunnerFactory:k});g=U.topSuite;const X=new s.Deprecator(g);this.topSuite=function(){return $("topSuite"),g.metadata},d=new s.ReportDispatcher(s.reporterEvents,function(b){return b.SkipPolicy=s.NeverSkipPolicy,k(b)},J),m=new s.Runner({topSuite:g,totalSpecsDefined:()=>U.totalSpecsDefined,focusedRunables:()=>U.focusedRunables,runableResources:p,reporter:d,queueRunnerFactory:k,getConfig:()=>R,reportSpecDone:Yt}),this.setParallelLoadingState=function(b){y=b},this.parallelReset=function(){U.parallelReset(),m.parallelReset()},this.execute=async function(b){h(),y&&Rt();const P=await m.execute(b);return this.cleanup_(),P},this.addReporter=function(b){if(y)throw new Error("Reporters cannot be added via Env in parallel mode");d.addReporter(b)},this.provideFallbackReporter=function(b){d.provideFallbackReporter(b)},this.clearReporters=function(){if(y)throw new Error("Reporters cannot be removed via Env in parallel mode");d.clearReporters()},this.allowRespy=function(b){p.spyRegistry.allowRespy(b)},this.spyOn=function(){return p.spyRegistry.spyOn.apply(p.spyRegistry,arguments)},this.spyOnProperty=function(){return p.spyRegistry.spyOnProperty.apply(p.spyRegistry,arguments)},this.spyOnAllFunctions=function(){return p.spyRegistry.spyOnAllFunctions.apply(p.spyRegistry,arguments)},this.createSpy=function(b,P){return p.spyFactory.createSpy(b,P)},this.createSpyObj=function(b,P,G){return p.spyFactory.createSpyObj(b,P,G)},this.spyOnGlobalErrorsAsync=async function(b){const P=this.createSpy("global error handler"),G=m.currentRunable();let tt=!1;c.setOverrideListener(P,()=>{tt||G.addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",message:"Global error spy was not uninstalled. (Did you forget to await the return value of spyOnGlobalErrorsAsync?)",error:null}),tt=!0});try{const wt=b(P);if(!s.isPromiseLike(wt))throw new Error("The callback to spyOnGlobalErrorsAsync must be an async or promise-returning function");await wt}finally{tt||(tt=!0,c.removeOverrideListener())}};function V(b){const P=m.currentRunable();if(P!=null)throw new Error("'"+b+"' should only be used in 'describe' function")}function $(b){if(y)throw new Error(`'${b}' is not available in parallel mode`)}function lt(b){if(y&&!U.inDescribe())throw new Error(b)}function ut(b){if(y==="specs"&&!U.inDescribe())throw new Error("In parallel mode, "+b+" must be in a describe block or in a helper file")}function Rt(){if(!R.random)throw new Error("Randomization cannot be disabled in parallel mode");if(R.seed!==null&&R.seed!==void 0)throw new Error("Random seed cannot be set in parallel mode")}this.describe=function(b,P){V("describe");const G=n();return U.describe(b,P,G).metadata},this.xdescribe=function(b,P){V("xdescribe");const G=n();return U.xdescribe(b,P,G).metadata},this.fdescribe=function(b,P){V("fdescribe"),$("fdescribe");const G=n();return U.fdescribe(b,P,G).metadata};function xt(b,P,G){p.clearForRunable(b.id),m.currentSpec=null,P.status==="failed"&&(m.hasFailures=!0),Yt(b,P,G)}function rt(b,P,G){m.currentSpec=b,p.initForRunable(b.id,P.id),d.specStarted(b.result).then(G)}function Yt(b,P,G){b.reportedDone=!0,d.specDone(P).then(G)}this.it=function(b,P,G){V("it");const tt=n();return U.it(b,P,G,tt).metadata},this.xit=function(b,P,G){V("xit");const tt=n();return U.xit(b,P,G,tt).metadata},this.fit=function(b,P,G){V("fit"),$("fit");const tt=n();return U.fit(b,P,G,tt).metadata},this.setSpecProperty=function(b,P){if(!m.currentRunable()||m.currentRunable()==m.currentSuite())throw new Error("'setSpecProperty' was used when there was no current spec");m.currentRunable().setSpecProperty(b,P)},this.setSuiteProperty=function(b,P){if(!m.currentSuite())throw new Error("'setSuiteProperty' was used when there was no current suite");m.currentSuite().setSuiteProperty(b,P)},this.debugLog=function(b){const P=m.currentRunable();if(!P||!P.debugLog)throw new Error("'debugLog' was called when there was no current spec");P.debugLog(b)},this.expect=function(b){const P=m.currentRunable();if(!P)throw new Error("'expect' was used when there was no current spec, this could be because an asynchronous test timed out");return P.expectationFactory(b,P)},this.expectAsync=function(b){const P=m.currentRunable();if(!P)throw new Error("'expectAsync' was used when there was no current spec, this could be because an asynchronous test timed out");return P.asyncExpectationFactory(b,P)},this.throwUnless=function(b){return m.currentRunable(),I(b)},this.throwUnlessAsync=function(b){return m.currentRunable(),A(b)},this.beforeEach=function(b,P){V("beforeEach"),ut("beforeEach"),U.beforeEach(b,P)},this.beforeAll=function(b,P){V("beforeAll"),lt("In parallel mode, 'beforeAll' must be in a describe block. Use the globalSetup config property for exactly-once setup in parallel mode."),U.beforeAll(b,P)},this.afterEach=function(b,P){V("afterEach"),ut("afterEach"),U.afterEach(b,P)},this.afterAll=function(b,P){V("afterAll"),lt("In parallel mode, 'afterAll' must be in a describe block. Use the globalTeardown config property for exactly-once teardown in parallel mode."),U.afterAll(b,P)},this.pending=function(b){let P=s.Spec.pendingSpecExceptionMessage;throw b&&(P+=b),P},this.fail=function(b){if(!m.currentRunable())throw new Error("'fail' was used when there was no current spec, this could be because an asynchronous test timed out");let P="Failed";if(b)if(P+=": ",b.message)P+=b.message;else if(s.isString_(b))P+=b;else{const G=p.makePrettyPrinter();P+=G(b)}if(m.currentRunable().addExpectationResult(!1,{matcherName:"",passed:!1,expected:"",actual:"",message:P,error:b&&b.message?b:null}),R.stopSpecOnExpectationFailure)throw new Error(P)},this.cleanup_=function(){c&&c.uninstall()}}function n(){const e=new s.StackTrace(new Error).frames;return e[3]&&e[3].file}return t},getJasmineRequireObj().JsApiReporter=function(s){function t(n){const e=n.timer||new s.Timer;let i="loaded";this.started=!1,this.finished=!1,this.runDetails={},this.jasmineStarted=function(){this.started=!0,i="started",e.start()};let r;this.jasmineDone=function(h){this.finished=!0,this.runDetails=h,r=e.elapsed(),i="done"},this.status=function(){return i};const a=[],u={};this.suiteStarted=function(h){u[h.id]=h},this.suiteDone=function(h){o(h)},this.suiteResults=function(h,p){return a.slice(h,h+p)};function o(h){a.push(h),u[h.id]=h}this.suites=function(){return u};const c=[];this.specDone=function(h){c.push(h)},this.specResults=function(h,p){return c.slice(h,h+p)},this.specs=function(){return c},this.executionTime=function(){return r}}return t},getJasmineRequireObj().Any=function(s){function t(n){if(typeof n>"u")throw new TypeError("jasmine.any() expects to be passed a constructor function. Please pass one or use jasmine.anything() to match any object.");this.expectedObject=n}return t.prototype.asymmetricMatch=function(n){return this.expectedObject==String?typeof n=="string"||n instanceof String:this.expectedObject==Number?typeof n=="number"||n instanceof Number:this.expectedObject==Function?typeof n=="function"||n instanceof Function:this.expectedObject==Object?n!==null&&typeof n=="object":this.expectedObject==Boolean?typeof n=="boolean":typeof Symbol<"u"&&this.expectedObject==Symbol?typeof n=="symbol":n instanceof this.expectedObject},t.prototype.jasmineToString=function(){return"<jasmine.any("+s.fnNameFor(this.expectedObject)+")>"},t},getJasmineRequireObj().Anything=function(s){function t(){}return t.prototype.asymmetricMatch=function(n){return!s.util.isUndefined(n)&&n!==null},t.prototype.jasmineToString=function(){return"<jasmine.anything>"},t},getJasmineRequireObj().ArrayContaining=function(s){function t(n){this.sample=n}return t.prototype.asymmetricMatch=function(n,e){if(!s.isArray_(this.sample))throw new Error("You must provide an array to arrayContaining, not "+s.basicPrettyPrinter_(this.sample)+".");if(!s.isArray_(n)&&this.sample.length>0)return!1;for(const i of this.sample)if(!e.contains(n,i))return!1;return!0},t.prototype.jasmineToString=function(n){return"<jasmine.arrayContaining("+n(this.sample)+")>"},t},getJasmineRequireObj().ArrayWithExactContents=function(s){function t(n){this.sample=n}return t.prototype.asymmetricMatch=function(n,e){if(!s.isArray_(this.sample))throw new Error("You must provide an array to arrayWithExactContents, not "+s.basicPrettyPrinter_(this.sample)+".");if(this.sample.length!==n.length)return!1;for(const i of this.sample)if(!e.contains(n,i))return!1;return!0},t.prototype.jasmineToString=function(n){return"<jasmine.arrayWithExactContents("+n(this.sample)+")>"},t},getJasmineRequireObj().Empty=function(s){function t(){}return t.prototype.asymmetricMatch=function(n){return s.isString_(n)||s.isArray_(n)||s.isTypedArray_(n)?n.length===0:s.isMap(n)||s.isSet(n)?n.size===0:s.isObject_(n)?Object.keys(n).length===0:!1},t.prototype.jasmineToString=function(){return"<jasmine.empty>"},t},getJasmineRequireObj().Falsy=function(s){function t(){}return t.prototype.asymmetricMatch=function(n){return!n},t.prototype.jasmineToString=function(){return"<jasmine.falsy>"},t},getJasmineRequireObj().Is=function(s){class t{constructor(e){this.expected_=e}asymmetricMatch(e){return e===this.expected_}jasmineToString(e){return`<jasmine.is(${e(this.expected_)})>`}}return t},getJasmineRequireObj().MapContaining=function(s){function t(n){if(!s.isMap(n))throw new Error("You must provide a map to `mapContaining`, not "+s.basicPrettyPrinter_(n));this.sample=n}return t.prototype.asymmetricMatch=function(n,e){if(!s.isMap(n))return!1;for(const[i,r]of this.sample){let a=!1;for(const[u,o]of n)if(e.equals(u,i)&&e.equals(o,r)){a=!0;break}if(!a)return!1}return!0},t.prototype.jasmineToString=function(n){return"<jasmine.mapContaining("+n(this.sample)+")>"},t},getJasmineRequireObj().NotEmpty=function(s){function t(){}return t.prototype.asymmetricMatch=function(n){return s.isString_(n)||s.isArray_(n)||s.isTypedArray_(n)?n.length!==0:s.isMap(n)||s.isSet(n)?n.size!==0:s.isObject_(n)?Object.keys(n).length!==0:!1},t.prototype.jasmineToString=function(){return"<jasmine.notEmpty>"},t},getJasmineRequireObj().ObjectContaining=function(s){function t(e){this.sample=e}function n(e,i){return!e||typeof e!="object"?!1:Object.prototype.hasOwnProperty.call(e,i)?!0:n(Object.getPrototypeOf(e),i)}return t.prototype.asymmetricMatch=function(e,i){if(typeof this.sample!="object")throw new Error("You must provide an object to objectContaining, not '"+this.sample+"'.");if(typeof e!="object")return!1;for(const r in this.sample)if(!n(e,r)||!i.equals(this.sample[r],e[r]))return!1;return!0},t.prototype.valuesForDiff_=function(e,i){if(!s.isObject_(e))return{self:this.jasmineToString(i),other:e};const r={};return Object.keys(this.sample).forEach(function(a){r[a]=e[a]}),{self:this.sample,other:r}},t.prototype.jasmineToString=function(e){return"<jasmine.objectContaining("+e(this.sample)+")>"},t},getJasmineRequireObj().SetContaining=function(s){function t(n){if(!s.isSet(n))throw new Error("You must provide a set to `setContaining`, not "+s.basicPrettyPrinter_(n));this.sample=n}return t.prototype.asymmetricMatch=function(n,e){if(!s.isSet(n))return!1;for(const i of this.sample){let r=!1;for(const a of n)if(e.equals(a,i)){r=!0;break}if(!r)return!1}return!0},t.prototype.jasmineToString=function(n){return"<jasmine.setContaining("+n(this.sample)+")>"},t},getJasmineRequireObj().StringContaining=function(s){function t(n){if(!s.isString_(n))throw new Error("Expected is not a String");this.expected=n}return t.prototype.asymmetricMatch=function(n){return s.isString_(n)?n.indexOf(this.expected)!==-1:!1},t.prototype.jasmineToString=function(){return'<jasmine.stringContaining("'+this.expected+'")>'},t},getJasmineRequireObj().StringMatching=function(s){function t(n){if(!s.isString_(n)&&!s.isA_("RegExp",n))throw new Error("Expected is not a String or a RegExp");this.regexp=new RegExp(n)}return t.prototype.asymmetricMatch=function(n){return this.regexp.test(n)},t.prototype.jasmineToString=function(){return"<jasmine.stringMatching("+this.regexp+")>"},t},getJasmineRequireObj().Truthy=function(s){function t(){}return t.prototype.asymmetricMatch=function(n){return!!n},t.prototype.jasmineToString=function(){return"<jasmine.truthy>"},t},getJasmineRequireObj().buildExpectationResult=function(s){function t(n){const e=new s.ExceptionFormatter,i={matcherName:n.matcherName,message:r(),stack:n.omitStackTrace?"":a(),passed:n.passed};return i.passed||(i.expected=n.expected,i.actual=n.actual,n.error&&!s.isString_(n.error)&&("code"in n.error&&(i.code=n.error.code),n.error.code==="ERR_ASSERTION"&&n.expected===""&&n.actual===""&&(i.expected=n.error.expected,i.actual=n.error.actual,i.matcherName="assert "+n.error.operator))),i;function r(){return n.passed?"Passed.":n.message?n.message:n.error?e.message(n.error):""}function a(){if(n.passed)return"";let u=n.error;return u||(n.errorForStack?u=n.errorForStack:n.stack?u=n:u=new Error(r())),e.stack(u,{omitMessage:!0})}}return t},getJasmineRequireObj().CallTracker=function(s){function t(){let n=[];const e={};this.track=function(i){e.cloneArgs&&(i.args=s.util.cloneArgs(i.args)),n.push(i)},this.any=function(){return!!n.length},this.count=function(){return n.length},this.argsFor=function(i){const r=n[i];return r?r.args:[]},this.thisFor=function(i){const r=n[i];return r?r.object:void 0},this.all=function(){return n},this.allArgs=function(){return n.map(i=>i.args)},this.first=function(){return n[0]},this.mostRecent=function(){return n[n.length-1]},this.reset=function(){n=[]},this.saveArgumentsByValue=function(){e.cloneArgs=!0}}return t},getJasmineRequireObj().clearStack=function(s){function n(o){const c=r(o),{queueMicrotask:h}=o;let p=0;return function(g){p++,p<10?h(g):(p=0,c(g))}}function e(o){const{queueMicrotask:c}=o;return function(h){c(h)}}function i(o){const{setTimeout:c}=o,h=a(o);let p=0;return function(g){p++,p<10?h(g):(p=0,c(g))}}function r(o){const{setTimeout:c}=o;if(s.util.isUndefined(o.MessageChannel))return c;const h=a(o);return function(d){h(function(){c(d)})}}function a(o){const{MessageChannel:c,setTimeout:h}=o,p=new c;let d={},g=d,m=!1;return p.port1.onmessage=function(){d=d.next;const y=d.task;if(delete d.task,m)h(y,0);else try{m=!0,y()}finally{m=!1}},function(R){g=g.next={task:R},p.port2.postMessage(0)}}function u(o){const c=o.process&&o.process.versions&&typeof o.process.versions.node=="string",h=o.navigator&&/(^((?!chrome|android).)*safari)|(Win64; x64\) AppleWebKit\/[0-9.]+ \(KHTML, like Gecko\)$)/i.test(o.navigator.userAgent);return c?e(o):h||s.util.isUndefined(o.MessageChannel)?n(o):i(o)}return u},getJasmineRequireObj().Clock=function(){const s=typeof process<"u"&&process.versions&&typeof process.versions.node=="string";function t(e,i,r){const a={setTimeout:e.setTimeout,clearTimeout:e.clearTimeout,setInterval:e.setInterval,clearInterval:e.clearInterval},u={setTimeout:g,clearTimeout:m,setInterval:y,clearInterval:R};let o=!1,c,h;return this.FakeTimeout=n,this.install=function(){if(!p())throw new Error("Jasmine Clock was unable to install over custom global timer functions. Is the clock already installed?");return d(e,u),h=u,c=i(),o=!0,this},this.uninstall=function(){c=null,r.uninstall(),d(e,a),h=a,o=!1},this.withMock=function(x){this.install();try{x()}finally{this.uninstall()}},this.mockDate=function(x){r.install(x)},this.setTimeout=function(x,I,A){return Function.prototype.apply.apply(h.setTimeout,[e,arguments])},this.setInterval=function(x,I,A){return Function.prototype.apply.apply(h.setInterval,[e,arguments])},this.clearTimeout=function(x){return Function.prototype.call.apply(h.clearTimeout,[e,x])},this.clearInterval=function(x){return Function.prototype.call.apply(h.clearInterval,[e,x])},this.tick=function(x){if(o)c.tick(x,function(I){r.tick(I)});else throw new Error("Mock clock is not installed, use jasmine.clock().install()")},this;function p(){return e.setTimeout===a.setTimeout&&e.clearTimeout===a.clearTimeout&&e.setInterval===a.setInterval&&e.clearInterval===a.clearInterval}function d(x,I){for(const A in I)x[A]=I[A]}function g(x,I){if(!s)return c.scheduleFunction(x,I,_(arguments,2));const A=new n;return c.scheduleFunction(x,I,_(arguments,2),!1,A),A}function m(x){return c.removeFunctionWithId(x)}function y(x,I){if(!s)return c.scheduleFunction(x,I,_(arguments,2),!0);const A=new n;return c.scheduleFunction(x,I,_(arguments,2),!0,A),A}function R(x){return c.removeFunctionWithId(x)}function _(x,I){return Array.prototype.slice.call(x,I)}}function n(){}return n.prototype.ref=function(){return this},n.prototype.unref=function(){return this},t},getJasmineRequireObj().CompleteOnFirstErrorSkipPolicy=function(s){function t(e){this.queueableFns_=e,this.erroredFnIx_=null}t.prototype.skipTo=function(e){let i;for(i=e+1;i<this.queueableFns_.length&&this.shouldSkip_(i);i++);return i},t.prototype.fnErrored=function(e){this.erroredFnIx_=e},t.prototype.shouldSkip_=function(e){if(this.erroredFnIx_===null)return!1;const i=this.queueableFns_[e],r=i.suite,a=this.queueableFns_[this.erroredFnIx_].suite;return!(i.type==="afterEach"||i.type==="afterAll"||i.type==="specCleanup")||r&&n(r,a)};function n(e,i){return e.parentSuite?e.parentSuite===i?!0:n(e.parentSuite,i):!1}return t},getJasmineRequireObj().DelayedFunctionScheduler=function(j$){function DelayedFunctionScheduler(){return this.scheduledLookup_=[],this.scheduledFunctions_={},this.currentTime_=0,this.delayedFnCount_=0,this.deletedKeys_=[],this.tick=function(s,t){s=s||0;const n=this.currentTime_+s;this.runScheduledFunctions_(n,t)},this.scheduleFunction=function(funcToCall,millis,params,recurring,timeoutKey,runAtMillis){let f;typeof funcToCall=="string"?f=function(){return eval(funcToCall)}:f=funcToCall,millis=millis||0,timeoutKey=timeoutKey||++this.delayedFnCount_,runAtMillis=runAtMillis||this.currentTime_+millis;const funcToSchedule={runAtMillis,funcToCall:f,recurring,params,timeoutKey,millis};return runAtMillis in this.scheduledFunctions_?this.scheduledFunctions_[runAtMillis].push(funcToSchedule):(this.scheduledFunctions_[runAtMillis]=[funcToSchedule],this.scheduledLookup_.push(runAtMillis),this.scheduledLookup_.sort(function(s,t){return s-t})),timeoutKey},this.removeFunctionWithId=function(s){this.deletedKeys_.push(s);for(const t in this.scheduledFunctions_){const n=this.scheduledFunctions_[t],e=indexOfFirstToPass(n,function(i){return i.timeoutKey===s});if(e>-1){n.length===1?(delete this.scheduledFunctions_[t],this.deleteFromLookup_(t)):n.splice(e,1);break}}},this}DelayedFunctionScheduler.prototype.runScheduledFunctions_=function(s,t){if(t=t||function(){},this.scheduledLookup_.length===0||this.scheduledLookup_[0]>s){s>=this.currentTime_&&(t(s-this.currentTime_),this.currentTime_=s);return}do{this.deletedKeys_=[];const n=this.scheduledLookup_.shift();n>=this.currentTime_&&(t(n-this.currentTime_),this.currentTime_=n);const e=this.scheduledFunctions_[this.currentTime_];delete this.scheduledFunctions_[this.currentTime_];for(const i of e)i.recurring&&this.reschedule_(i);for(const i of e){if(this.deletedKeys_.includes(i.timeoutKey))return;i.funcToCall.apply(null,i.params||[])}this.deletedKeys_=[]}while(this.scheduledLookup_.length>0&&this.currentTime_!==s&&this.scheduledLookup_[0]<=s);s>=this.currentTime_&&(t(s-this.currentTime_),this.currentTime_=s)},DelayedFunctionScheduler.prototype.reschedule_=function(s){this.scheduleFunction(s.funcToCall,s.millis,s.params,!0,s.timeoutKey,s.runAtMillis+s.millis)},DelayedFunctionScheduler.prototype.deleteFromLookup_=function(s){const t=Number(s),n=indexOfFirstToPass(this.scheduledLookup_,function(e){return e===t});n>-1&&this.scheduledLookup_.splice(n,1)};function indexOfFirstToPass(s,t){let n=-1;for(let e=0;e<s.length;++e)if(t(s[e])){n=e;break}return n}return DelayedFunctionScheduler},getJasmineRequireObj().Deprecator=function(s){function t(e){this.topSuite_=e,this.verbose_=!1,this.toSuppress_=[]}const n="Note: This message will be shown only once. Set the verboseDeprecations config property to true to see every occurrence.";return t.prototype.verboseDeprecations=function(e){this.verbose_=e},t.prototype.addDeprecationWarning=function(e,i,r){if(r=r||{},!this.verbose_&&!s.isError_(i)){if(this.toSuppress_.indexOf(i)!==-1)return;this.toSuppress_.push(i)}this.log_(e,i,r),this.report_(e,i,r)},t.prototype.log_=function(e,i,r){if(s.isError_(i)){console.error(i);return}let a;e===this.topSuite_||r.ignoreRunnable?a="":e.children?a=" (in suite: "+e.getFullName()+")":a=" (in spec: "+e.getFullName()+")",r.omitStackTrace||(a+=`
`+this.stackTrace_()),this.verbose_||(a+=`
`+n),console.error("DEPRECATION: "+i+a)},t.prototype.stackTrace_=function(){return new s.ExceptionFormatter().stack(s.util.errorWithStack()).replace(/^Error\n/m,"")},t.prototype.report_=function(e,i,r){if(r.ignoreRunnable&&(e=this.topSuite_),s.isError_(i)){e.addDeprecationWarning(i);return}this.verbose_||(i+=`
`+n),e.addDeprecationWarning({message:i,omitStackTrace:r.omitStackTrace||!1})},t},getJasmineRequireObj().errors=function(){function s(){}return s.prototype=new Error,s.prototype.constructor=s,{ExpectationFailed:s}},getJasmineRequireObj().ExceptionFormatter=function(s){const t=["name","message","stack","fileName","sourceURL","line","lineNumber","column","description","jasmineMessage"];function n(e){const i=e&&e.jasmineFile||s.util.jasmineFile();this.message=function(u){let o="";return u.jasmineMessage?o+=u.jasmineMessage:u.name&&u.message?o+=u.name+": "+u.message:u.message?o+=u.message:o+=u.toString()+" thrown",(u.fileName||u.sourceURL)&&(o+=" in "+(u.fileName||u.sourceURL)),(u.line||u.lineNumber)&&(o+=" (line "+(u.line||u.lineNumber)+")"),o},this.stack=function(u,{omitMessage:o}={}){return!u||!u.stack?null:this.stack_(u,{messageHandling:o?"omit":void 0}).join(`
`)},this.stack_=function(u,{messageHandling:o}){let c=a(u).split(`
`);c[c.length-1]===""&&c.pop();const h=new s.StackTrace(u);if(c=c.concat(r(h)),o==="require"?c.unshift(h.message||"Error: "+u.message):o!=="omit"&&h.message&&c.unshift(h.message),u.cause&&u.cause instanceof Error){const p=this.stack_(u.cause,{messageHandling:"require"});p[0]="Caused by: "+p[0],c=c.concat(p)}return c};function r(u){const o=[],c=u.style==="webkit"?"<Jasmine>":"    at <Jasmine>";return u.frames.forEach(function(h){h.file!==i?o.push(h.raw):o[o.length-1]!==c&&o.push(c)}),o}function a(u){if(!(u instanceof Object))return;const o={};let c=!0;for(const h of Object.keys(u))t.includes(h)||(o[h]=u[h],c=!1);return c?"":"error properties: "+s.basicPrettyPrinter_(o)+`
`}}return n},getJasmineRequireObj().Expectation=function(s){function t(m){this.expector=new s.Expector(m);const y=m.customMatchers||{};for(const R in y)this[R]=e(R,y[R])}t.prototype.withContext=function(y){return a(this,new d(y))},Object.defineProperty(t.prototype,"not",{get:function(){return a(this,c)}});function n(m){this.expector=new s.Expector(m);const y=m.customAsyncMatchers||{};for(const R in y)this[R]=i(R,y[R])}n.prototype.withContext=function(y){return a(this,new d(y))},Object.defineProperty(n.prototype,"not",{get:function(){return a(this,h)}}),Object.defineProperty(n.prototype,"already",{get:function(){return a(this,p)}});function e(m,y){return function(){const R=this.expector.compare(m,y,arguments);this.expector.processResult(R)}}function i(m,y){return function(){const R=s.util.errorWithStack();return this.expector.compare(m,y,arguments).then(_=>{this.expector.processResult(_,R)})}}function r(m,y,R){for(const _ in y){const x=y[_];m[_]=R(_,x)}}function a(m,y){const R=Object.create(m);return R.expector=m.expector.addFilter(y),R}function u(m,y,R,_){return m.message?s.isFunction_(m.message)?m.message():m.message:(R=R.slice(),R.unshift(!0),R.unshift(y),_.buildFailureMessage.apply(_,R))}function o(m){return m.pass=!m.pass,m}const c={selectComparisonFunc:function(m){function y(){return o(m.compare.apply(null,arguments))}return m.negativeCompare||y},buildFailureMessage:u},h={selectComparisonFunc:function(m){function y(){return m.compare.apply(this,arguments).then(o)}return m.negativeCompare||y},buildFailureMessage:u},p={selectComparisonFunc:function(m){return function(y){const R=arguments;return s.isPending_(y).then(function(_){return _?{pass:!1,message:"Expected a promise to be settled (via expectAsync(...).already) but it was pending."}:m.compare.apply(null,R)})}}};function d(m){this.message=m}d.prototype.modifyFailureMessage=function(m){return m.indexOf(`
`)===-1?this.message+": "+m:this.message+`:
`+g(m)};function g(m){return m.replace(/^/gm,"    ")}return{factory:function(m){return new t(m||{})},addCoreMatchers:function(m){r(t.prototype,m,e)},asyncFactory:function(m){return new n(m||{})},addAsyncCoreMatchers:function(m){r(n.prototype,m,i)}}},getJasmineRequireObj().ExpectationFilterChain=function(){function s(t,n){this.filter_=t,this.prev_=n}return s.prototype.addFilter=function(t){return new s(t,this)},s.prototype.selectComparisonFunc=function(t){return this.callFirst_("selectComparisonFunc",arguments).result},s.prototype.buildFailureMessage=function(t,n,e,i){return this.callFirst_("buildFailureMessage",arguments).result},s.prototype.modifyFailureMessage=function(t){return this.callFirst_("modifyFailureMessage",arguments).result||t},s.prototype.callFirst_=function(t,n){if(this.prev_){const e=this.prev_.callFirst_(t,n);if(e.found)return e}return this.filter_&&this.filter_[t]?{found:!0,result:this.filter_[t].apply(this.filter_,n)}:{found:!1}},s},getJasmineRequireObj().Expector=function(s){function t(n){this.matchersUtil=n.matchersUtil||{buildFailureMessage:function(){}},this.actual=n.actual,this.addExpectationResult=n.addExpectationResult||function(){},this.filters=new s.ExpectationFilterChain}return t.prototype.instantiateMatcher=function(n,e,i){this.matcherName=n,this.args=Array.prototype.slice.call(i,0),this.expected=this.args.slice(0),this.args.unshift(this.actual);const r=e(this.matchersUtil);return this.filters.selectComparisonFunc(r)||r.compare},t.prototype.buildMessage=function(n){if(n.pass)return"";const e=()=>{if(n.message)return s.isFunction_(n.message)?n.message():n.message;{const r=this.args.slice();return r.unshift(!1),r.unshift(this.matcherName),this.matchersUtil.buildFailureMessage.apply(this.matchersUtil,r)}},i=this.filters.buildFailureMessage(n,this.matcherName,this.args,this.matchersUtil,e);return this.filters.modifyFailureMessage(i||e())},t.prototype.compare=function(n,e,i){return this.instantiateMatcher(n,e,i).apply(null,this.args)},t.prototype.addFilter=function(n){const e=Object.create(this);return e.filters=this.filters.addFilter(n),e},t.prototype.processResult=function(n,e){const i=this.buildMessage(n);this.expected.length===1&&(this.expected=this.expected[0]),this.addExpectationResult(n.pass,{matcherName:this.matcherName,passed:n.pass,message:i,error:e?void 0:n.error,errorForStack:e||void 0,actual:this.actual,expected:this.expected})},t},getJasmineRequireObj().formatErrorMsg=function(){function s(t,n){const e=n?`
Usage: `+n:"";return function(r){return t+" : "+r+e}}return s},getJasmineRequireObj().GlobalErrors=function(s){function t(n){n=n||s.getGlobal();const e=[];let i=null,r=null;function a(o){u(o.error,o)}function u(o,c){if(i){i(o);return}const h=e[e.length-1];if(h)h(o,c);else throw o}this.originalHandlers={},this.jasmineHandlers={},this.installOne_=function(c,h){function p(d){if(s.isError_(d))d.jasmineMessage=h+": "+d;else{let m;d?m=h+": "+d:m=h+" with no error or message",c==="unhandledRejection"&&(m+=`
(Tip: to get a useful stack trace, use Promise.reject(new Error(...)) instead of Promise.reject(`+(d?"...":"")+").)"),d=new Error(m)}const g=e[e.length-1];if(i){i(d);return}if(g)g(d);else throw d}this.originalHandlers[c]=n.process.listeners(c),this.jasmineHandlers[c]=p,n.process.removeAllListeners(c),n.process.on(c,p),this.uninstall=function(){const g=Object.keys(this.originalHandlers);for(const m of g){n.process.removeListener(m,this.jasmineHandlers[m]);for(let y=0;y<this.originalHandlers[m].length;y++)n.process.on(m,this.originalHandlers[m][y]);delete this.originalHandlers[m],delete this.jasmineHandlers[m]}}},this.install=function(){if(n.process&&n.process.listeners&&s.isFunction_(n.process.on))this.installOne_("uncaughtException","Uncaught exception"),this.installOne_("unhandledRejection","Unhandled promise rejection");else{n.addEventListener("error",a);const c=function(p){s.isError_(p.reason)?(p.reason.jasmineMessage="Unhandled promise rejection: "+p.reason,u(p.reason,p)):u("Unhandled promise rejection: "+p.reason,p)};n.addEventListener("unhandledrejection",c),this.uninstall=function(){n.removeEventListener("error",a),n.removeEventListener("unhandledrejection",c)}}},this.pushListener=function(c){e.push(c)},this.popListener=function(c){if(!c)throw new Error("popListener expects a listener");e.pop()},this.setOverrideListener=function(o,c){if(i)throw new Error("Can't set more than one override listener at a time");i=o,r=c},this.removeOverrideListener=function(){r&&r(),i=null,r=null}}return t},getJasmineRequireObj().toBePending=function(s){return function(){return{compare:function(n){if(!s.isPromiseLike(n))throw new Error("Expected toBePending to be called on a promise.");const e={};return Promise.race([n,Promise.resolve(e)]).then(function(i){return{pass:e===i}},function(){return{pass:!1}})}}}},getJasmineRequireObj().toBeRejected=function(s){return function(){return{compare:function(n){if(!s.isPromiseLike(n))throw new Error("Expected toBeRejected to be called on a promise.");return n.then(function(){return{pass:!1}},function(){return{pass:!0}})}}}},getJasmineRequireObj().toBeRejectedWith=function(s){return function(n){return{compare:function(e,i){if(!s.isPromiseLike(e))throw new Error("Expected toBeRejectedWith to be called on a promise.");function r(a){return"Expected a promise "+(a?"not ":"")+"to be rejected with "+n.pp(i)}return e.then(function(){return{pass:!1,message:r(!1)+" but it was resolved."}},function(a){return n.equals(a,i)?{pass:!0,message:r(!0)+"."}:{pass:!1,message:r(!1)+" but it was rejected with "+n.pp(a)+"."}})}}}},getJasmineRequireObj().toBeRejectedWithError=function(s){return function(u){return{compare:function(o,c,h){if(!s.isPromiseLike(o))throw new Error("Expected toBeRejectedWithError to be called on a promise.");const p=i(c,h,u);return o.then(function(){return{pass:!1,message:"Expected a promise to be rejected but it was resolved."}},function(d){return t(d,p,u)})}}};function t(a,u,o){if(!s.isError_(a))return e(u,"rejected with "+o.pp(a));if(!(a instanceof u.error))return e(u,"rejected with type "+s.fnNameFor(a.constructor));const c=a.message;return c===u.message||typeof u.message>"u"||u.message instanceof RegExp&&u.message.test(c)?n(u):e(u,"rejected with "+o.pp(a))}function n(a){return{pass:!0,message:"Expected a promise not to be rejected with "+a.printValue+", but it was."}}function e(a,u){return{pass:!1,message:"Expected a promise to be rejected with "+a.printValue+" but it was "+u+"."}}function i(a,u,o){let c,h;return r(a)?(c=a,h=u):(c=Error,h=a),{error:c,message:h,printValue:s.fnNameFor(c)+(typeof h>"u"?"":": "+o.pp(h))}}function r(a){return typeof a=="function"&&(a===Error||s.isError_(a.prototype))}},getJasmineRequireObj().toBeResolved=function(s){return function(n){return{compare:function(e){if(!s.isPromiseLike(e))throw new Error("Expected toBeResolved to be called on a promise.");return e.then(function(){return{pass:!0}},function(i){return{pass:!1,message:"Expected a promise to be resolved but it was rejected with "+n.pp(i)+"."}})}}}},getJasmineRequireObj().toBeResolvedTo=function(s){return function(n){return{compare:function(e,i){if(!s.isPromiseLike(e))throw new Error("Expected toBeResolvedTo to be called on a promise.");function r(a){return"Expected a promise "+(a?"not ":"")+"to be resolved to "+n.pp(i)}return e.then(function(a){return n.equals(a,i)?{pass:!0,message:r(!0)+"."}:{pass:!1,message:r(!1)+" but it was resolved to "+n.pp(a)+"."}},function(a){return{pass:!1,message:r(!1)+" but it was rejected with "+n.pp(a)+"."}})}}}},getJasmineRequireObj().DiffBuilder=function(s){class t{constructor(i){this.prettyPrinter_=(i||{}).prettyPrinter||s.makePrettyPrinter(),this.mismatches_=new s.MismatchTree,this.path_=new s.ObjectPath,this.actualRoot_=void 0,this.expectedRoot_=void 0}setRoots(i,r){this.actualRoot_=i,this.expectedRoot_=r}recordMismatch(i){this.mismatches_.add(this.path_,i)}getMessage(){const i=[];return this.mismatches_.traverse((r,a,u)=>{const{actual:o,expected:c}=this.dereferencePath_(r);if(u)return i.push(u(o,c,r,this.prettyPrinter_)),!0;const h=this.prettyPrinter_.customFormat_(o),p=this.prettyPrinter_.customFormat_(c);return s.util.isUndefined(h)&&s.util.isUndefined(p)?(a&&i.push(this.defaultFormatter_(o,c,r)),!0):(i.push(n(h,p,r)),!1)}),i.join(`
`)}withPath(i,r){const a=this.path_;this.path_=this.path_.add(i),r(),this.path_=a}dereferencePath_(i){let r=this.actualRoot_,a=this.expectedRoot_;const u=()=>{if(s.isAsymmetricEqualityTester_(a)&&s.isFunction_(a.valuesForDiff_)){const o=a.valuesForDiff_(r,this.prettyPrinter_);a=o.self,r=o.other}};u();for(const o of i.components)r=r[o],a=a[o],u();return{actual:r,expected:a}}defaultFormatter_(i,r,a){return n(this.prettyPrinter_(i),this.prettyPrinter_(r),a)}}function n(e,i,r){return"Expected "+r+(r.depth()?" = ":"")+e+" to equal "+i+"."}return t},getJasmineRequireObj().MatchersUtil=function(s){function t(o){o=o||{},this.customTesters_=o.customTesters||[],this.pp=o.pp||function(){}}t.prototype.contains=function(o,c){if(!o)return!1;if(s.isSet(o)&&o.has(c))return!0;if(s.isIterable_(o)&&!s.isString_(o)){for(const h of o)if(this.equals(h,c))return!0;return!1}if(o.indexOf)return o.indexOf(c)>=0;if(s.isNumber_(o.length)){for(let h=0;h<o.length;h++)if(this.equals(o[h],c))return!0}return!1},t.prototype.buildFailureMessage=function(){const o=Array.prototype.slice.call(arguments,0),c=o[0],h=o[1],p=o[2],d=o.slice(3),g=c.replace(/[A-Z]/g,function(y){return" "+y.toLowerCase()});let m="Expected "+this.pp(p)+(h?" not ":" ")+g;if(d.length>0)for(let y=0;y<d.length;y++)y>0&&(m+=","),m+=" "+this.pp(d[y]);return m+"."},t.prototype.asymmetricDiff_=function(o,c,h,p,d){if(s.isFunction_(c.valuesForDiff_)){const g=c.valuesForDiff_(o,this.pp);this.eq_(g.other,g.self,h,p,d)}else d.recordMismatch()},t.prototype.asymmetricMatch_=function(o,c,h,p,d){const g=s.isAsymmetricEqualityTester_(o),m=s.isAsymmetricEqualityTester_(c);if(g===m)return;let y;if(g)return y=o.asymmetricMatch(c,this),y||d.recordMismatch(),y;if(m)return y=c.asymmetricMatch(o,this),y||this.asymmetricDiff_(o,c,h,p,d),y},t.prototype.equals=function(o,c,h){return h=h||s.NullDiffBuilder(),h.setRoots(o,c),this.eq_(o,c,[],[],h)},t.prototype.eq_=function(o,c,h,p,d){let g=!0;const m=this.asymmetricMatch_(o,c,h,p,d);if(!s.util.isUndefined(m))return m;for(const S of this.customTesters_){const L=S(o,c);if(!s.util.isUndefined(L))return L||d.recordMismatch(),L}if(o instanceof Error&&c instanceof Error)return g=o.message==c.message,g||d.recordMismatch(),g;if(o===c)return g=o!==0||1/o==1/c,g||d.recordMismatch(),g;if(o===null||c===null)return g=o===c,g||d.recordMismatch(),g;const y=Object.prototype.toString.call(o);if(y!=Object.prototype.toString.call(c))return d.recordMismatch(),!1;switch(y){case"[object String]":return g=o==String(c),g||d.recordMismatch(),g;case"[object Number]":return g=o!=+o?c!=+c:o===0&&c===0?1/o==1/c:o==+c,g||d.recordMismatch(),g;case"[object Date]":case"[object Boolean]":return g=+o==+c,g||d.recordMismatch(),g;case"[object ArrayBuffer]":return this.eq_(new Uint8Array(o),new Uint8Array(c),h,p,d);case"[object RegExp]":return o.source==c.source&&o.global==c.global&&o.multiline==c.multiline&&o.ignoreCase==c.ignoreCase}if(typeof o!="object"||typeof c!="object")return d.recordMismatch(),!1;const R=s.isDomNode(o),_=s.isDomNode(c);if(R&&_)return g=o.isEqualNode(c),g||d.recordMismatch(),g;if(R||_)return d.recordMismatch(),!1;const x=s.isPromise(o),I=s.isPromise(c);if(x&&I)return o===c;let A=h.length;for(;A--;)if(h[A]==o)return p[A]==c;h.push(o),p.push(c);let J=0;if(y=="[object Array]"){const S=o.length,L=c.length;d.withPath("length",function(){S!==L&&(d.recordMismatch(),g=!1)});for(let k=0;k<S||k<L;k++)d.withPath(k,()=>{k>=L?(d.recordMismatch(a.bind(null,this.pp)),g=!1):g=this.eq_(k<S?o[k]:void 0,k<L?c[k]:void 0,h,p,d)&&g});if(!g)return!1}else if(s.isMap(o)&&s.isMap(c)){if(o.size!=c.size)return d.recordMismatch(),!1;const S=[],L=[];o.forEach(function(X,V){S.push(V)}),c.forEach(function(X,V){L.push(V)});const k=[S,L],U=[L,S];for(let X=0;g&&X<k.length;X++){const V=k[X],$=U[X];for(let lt=0;g&&lt<V.length;lt++){const ut=V[lt],Rt=$[lt],xt=o.get(ut);let rt;s.isAsymmetricEqualityTester_(ut)||s.isAsymmetricEqualityTester_(Rt)&&this.eq_(ut,Rt,h,p,s.NullDiffBuilder())?rt=c.get(Rt):rt=c.get(ut),g=this.eq_(xt,rt,h,p,s.NullDiffBuilder())}}if(!g)return d.recordMismatch(),!1}else if(s.isSet(o)&&s.isSet(c)){if(o.size!=c.size)return d.recordMismatch(),!1;const S=[];o.forEach(function(X){S.push(X)});const L=[];c.forEach(function(X){L.push(X)});const k=[[S,L],[L,S]],U=[[h,p],[p,h]];for(let X=0;g&&X<k.length;X++){const V=k[X][0],$=k[X][1],lt=U[X][0],ut=U[X][1];for(const Rt of V){let xt=!1;for(let rt=0;!xt&&rt<$.length;rt++){const Yt=$[rt],b=lt.length;xt=this.eq_(Rt,Yt,lt,ut,s.NullDiffBuilder()),!xt&&b!==lt.length&&(lt.splice(b),ut.splice(b))}g=g&&xt}}if(!g)return d.recordMismatch(),!1}else{if(s.isURL(o)&&s.isURL(c))return o.toString()===c.toString();{const S=o.constructor,L=c.constructor;if(S!==L&&n(S)&&n(L)&&o instanceof S&&c instanceof L&&!(S instanceof S&&L instanceof L))return d.recordMismatch(r.bind(null,this.pp)),!1}}const B=t.keys(o,y=="[object Array]");J=B.length,t.keys(c,y=="[object Array]").length!==J&&(d.recordMismatch(i.bind(null,this.pp)),g=!1);for(const S of B){if(!s.util.has(c,S)){d.recordMismatch(i.bind(null,this.pp)),g=!1;continue}d.withPath(S,()=>{this.eq_(o[S],c[S],h,p,d)||(g=!1)})}return g?(h.pop(),p.pop(),g):!1},t.keys=function(o,c){const h=function(d){const g=[];for(const y in d)s.util.has(d,y)&&g.push(y);const m=Object.getOwnPropertySymbols(d);for(const y of m)d.propertyIsEnumerable(y)&&g.push(y);return g}(o);if(!c||h.length===0)return h;const p=[];for(const d of h)(typeof d=="symbol"||!/^[0-9]+$/.test(d))&&p.push(d);return p};function n(o){return typeof o=="function"}function e(o,c){return t.keys(o).filter(h=>!s.util.has(c,h)).map(h=>[h,o[h]])}function i(o,c,h,p){const d=e(h,c),g=e(c,h),m=u(o,d),y=u(o,g),R=[];return p.depth()||(p="object"),m.length&&R.push("Expected "+p+" to have properties"+m),y.length&&R.push("Expected "+p+" not to have properties"+y),R.join(`
`)}function r(o,c,h,p){return p.depth()||(p="object"),"Expected "+p+" to be a kind of "+s.fnNameFor(h.constructor)+", but was "+o(c)+"."}function a(o,c,h,p){return"Unexpected "+p+(p.depth()?" = ":"")+o(c)+" in array."}function u(o,c){let h="";for(const[p,d]of c)h+=`
    `+p.toString()+": "+o(d);return h}return t},getJasmineRequireObj().MismatchTree=function(s){class t{constructor(e){this.path=e||new s.ObjectPath([]),this.formatter=void 0,this.children=[],this.isMismatch=!1}add(e,i){if(e.depth()===0)this.formatter=i,this.isMismatch=!0;else{const r=e.components[0];e=e.shift();let a=this.child(r);a||(a=new t(this.path.add(r)),this.children.push(a)),a.add(e,i)}}traverse(e){const i=this.children.length>0;if((this.isMismatch||i)&&e(this.path,!i,this.formatter))for(const r of this.children)r.traverse(e)}child(e){return this.children.find(i=>{const r=i.path.components;return r[r.length-1]===e})}}return t},getJasmineRequireObj().nothing=function(){function s(){return{compare:function(){return{pass:!0}}}}return s},getJasmineRequireObj().NullDiffBuilder=function(s){return function(){return{withPath:function(t,n){n()},setRoots:function(){},recordMismatch:function(){}}}},getJasmineRequireObj().ObjectPath=function(s){class t{constructor(r){this.components=r||[]}toString(){return this.components.length?"$"+this.components.map(n).join(""):""}add(r){return new t(this.components.concat([r]))}shift(){return new t(this.components.slice(1))}depth(){return this.components.length}}function n(i){return typeof i=="number"||typeof i=="symbol"?"["+i.toString()+"]":e(i)?"."+i:`['${i}']`}function e(i){return/^[A-Za-z\$_][A-Za-z0-9\$_]*$/.test(i)}return t},getJasmineRequireObj().requireAsyncMatchers=function(s,t){const n=["toBePending","toBeResolved","toBeRejected","toBeResolvedTo","toBeRejectedWith","toBeRejectedWithError"],e={};for(const i of n)e[i]=s[i](t);return e},getJasmineRequireObj().toBe=function(s){function t(n){const e=" Tip: To check for deep equality, use .toEqual() instead of .toBe().";return{compare:function(i,r){const a={pass:i===r};return typeof r=="object"&&(a.message=n.buildFailureMessage("toBe",a.pass,i,r)+e),a}}}return t},getJasmineRequireObj().toBeCloseTo=function(){function s(){return{compare:function(t,n,e){if(e!==0&&(e=e||2),n===null||t===null)throw new Error("Cannot use toBeCloseTo with null. Arguments evaluated to: expect("+t+").toBeCloseTo("+n+").");if(n===1/0||n===-1/0)return{pass:t===n};const i=Math.pow(10,e+1),r=Math.abs(n-t),a=Math.pow(10,-e)/2;return{pass:Math.round(r*i)<=a*i}}}}return s},getJasmineRequireObj().toBeDefined=function(){function s(){return{compare:function(t){return{pass:t!==void 0}}}}return s},getJasmineRequireObj().toBeFalse=function(){function s(){return{compare:function(t){return{pass:t===!1}}}}return s},getJasmineRequireObj().toBeFalsy=function(){function s(){return{compare:function(t){return{pass:!t}}}}return s},getJasmineRequireObj().toBeGreaterThan=function(){function s(){return{compare:function(t,n){return{pass:t>n}}}}return s},getJasmineRequireObj().toBeGreaterThanOrEqual=function(){function s(){return{compare:function(t,n){return{pass:t>=n}}}}return s},getJasmineRequireObj().toBeInstanceOf=function(s){const t=s.formatErrorMsg("<toBeInstanceOf>","expect(value).toBeInstanceOf(<ConstructorFunction>)");function n(e){return{compare:function(i,r){const a=i&&i.constructor?s.fnNameFor(i.constructor):e.pp(i),u=r?s.fnNameFor(r):e.pp(r);let o,c;try{o=new s.Any(r),c=o.asymmetricMatch(i)}catch{throw new Error(t("Expected value is not a constructor function"))}return c?{pass:!0,message:"Expected instance of "+a+" not to be an instance of "+u}:{pass:!1,message:"Expected instance of "+a+" to be an instance of "+u}}}}return n},getJasmineRequireObj().toBeLessThan=function(){function s(){return{compare:function(t,n){return{pass:t<n}}}}return s},getJasmineRequireObj().toBeLessThanOrEqual=function(){function s(){return{compare:function(t,n){return{pass:t<=n}}}}return s},getJasmineRequireObj().toBeNaN=function(s){function t(n){return{compare:function(e){const i={pass:e!==e};return i.pass?i.message="Expected actual not to be NaN.":i.message=function(){return"Expected "+n.pp(e)+" to be NaN."},i}}}return t},getJasmineRequireObj().toBeNegativeInfinity=function(s){function t(n){return{compare:function(e){const i={pass:e===Number.NEGATIVE_INFINITY};return i.pass?i.message="Expected actual not to be -Infinity.":i.message=function(){return"Expected "+n.pp(e)+" to be -Infinity."},i}}}return t},getJasmineRequireObj().toBeNull=function(){function s(){return{compare:function(t){return{pass:t===null}}}}return s},getJasmineRequireObj().toBePositiveInfinity=function(s){function t(n){return{compare:function(e){const i={pass:e===Number.POSITIVE_INFINITY};return i.pass?i.message="Expected actual not to be Infinity.":i.message=function(){return"Expected "+n.pp(e)+" to be Infinity."},i}}}return t},getJasmineRequireObj().toBeTrue=function(){function s(){return{compare:function(t){return{pass:t===!0}}}}return s},getJasmineRequireObj().toBeTruthy=function(){function s(){return{compare:function(t){return{pass:!!t}}}}return s},getJasmineRequireObj().toBeUndefined=function(){function s(){return{compare:function(t){return{pass:t===void 0}}}}return s},getJasmineRequireObj().toContain=function(){function s(t){return{compare:function(n,e){return{pass:t.contains(n,e)}}}}return s},getJasmineRequireObj().toEqual=function(s){function t(n){return{compare:function(e,i){const r={pass:!1},a=new s.DiffBuilder({prettyPrinter:n.pp});return r.pass=n.equals(e,i,a),r.message=a.getMessage(),r}}}return t},getJasmineRequireObj().toHaveBeenCalled=function(s){const t=s.formatErrorMsg("<toHaveBeenCalled>","expect(<spyObj>).toHaveBeenCalled()");function n(e){return{compare:function(i){const r={};if(!s.isSpy(i))throw new Error(t("Expected a spy, but got "+e.pp(i)+"."));if(arguments.length>1)throw new Error(t("Does not take arguments, use toHaveBeenCalledWith"));return r.pass=i.calls.any(),r.message=r.pass?"Expected spy "+i.and.identity+" not to have been called.":"Expected spy "+i.and.identity+" to have been called.",r}}}return n},getJasmineRequireObj().toHaveBeenCalledBefore=function(s){const t=s.formatErrorMsg("<toHaveBeenCalledBefore>","expect(<spyObj>).toHaveBeenCalledBefore(<spyObj>)");function n(e){return{compare:function(i,r){if(!s.isSpy(i))throw new Error(t("Expected a spy, but got "+e.pp(i)+"."));if(!s.isSpy(r))throw new Error(t("Expected a spy, but got "+e.pp(r)+"."));const a={pass:!1};if(!i.calls.count())return a.message="Expected spy "+i.and.identity+" to have been called.",a;if(!r.calls.count())return a.message="Expected spy "+r.and.identity+" to have been called.",a;const u=i.calls.mostRecent().invocationOrder,o=r.calls.first().invocationOrder;if(a.pass=u<o,a.pass)a.message="Expected spy "+i.and.identity+" to not have been called before spy "+r.and.identity+", but it was";else{const c=i.calls.first().invocationOrder,h=r.calls.mostRecent().invocationOrder;c<o?a.message="Expected latest call to spy "+i.and.identity+" to have been called before first call to spy "+r.and.identity+" (no interleaved calls)":h>u?a.message="Expected first call to spy "+r.and.identity+" to have been called after latest call to spy "+i.and.identity+" (no interleaved calls)":a.message="Expected spy "+i.and.identity+" to have been called before spy "+r.and.identity}return a}}}return n},getJasmineRequireObj().toHaveBeenCalledOnceWith=function(s){const t=s.formatErrorMsg("<toHaveBeenCalledOnceWith>","expect(<spyObj>).toHaveBeenCalledOnceWith(...arguments)");function n(e){return{compare:function(){const i=Array.prototype.slice.call(arguments,0),r=i[0],a=i.slice(1);if(!s.isSpy(r))throw new Error(t("Expected a spy, but got "+e.pp(r)+"."));const u=r.calls.allArgs().map(function(h){return"  "+e.pp(h)});if(r.calls.count()===1&&e.contains(r.calls.allArgs(),a))return{pass:!0,message:"Expected spy "+r.and.identity+` to have been called 0 times, multiple times, or once, but with arguments different from:
  `+e.pp(a)+`
But the actual call was:
`+u.join(`,
`)+`.

`};function o(){return r.calls.allArgs().map(function(h,p){const d=new s.DiffBuilder;return e.equals(h,a,d),d.getMessage()})}function c(){switch(r.calls.count()){case 0:return`But it was never called.

`;case 1:return`But the actual call was:
`+u.join(`,
`)+`.
`+o().join(`
`)+`

`;default:return`But the actual calls were:
`+u.join(`,
`)+`.

`}}return{pass:!1,message:"Expected spy "+r.and.identity+` to have been called only once, and with given args:
  `+e.pp(a)+`
`+c()}}}}return n},getJasmineRequireObj().toHaveBeenCalledTimes=function(s){const t=s.formatErrorMsg("<toHaveBeenCalledTimes>","expect(<spyObj>).toHaveBeenCalledTimes(<Number>)");function n(e){return{compare:function(i,r){if(!s.isSpy(i))throw new Error(t("Expected a spy, but got "+e.pp(i)+"."));const a=Array.prototype.slice.call(arguments,0),u={pass:!1};if(!s.isNumber_(r))throw new Error(t("The expected times failed is a required argument and must be a number."));i=a[0];const o=i.calls.count(),c=r===1?"once":r+" times";return u.pass=o===r,u.message=u.pass?"Expected spy "+i.and.identity+" not to have been called "+c+". It was called "+o+" times.":"Expected spy "+i.and.identity+" to have been called "+c+". It was called "+o+" times.",u}}}return n},getJasmineRequireObj().toHaveBeenCalledWith=function(s){const t=s.formatErrorMsg("<toHaveBeenCalledWith>","expect(<spyObj>).toHaveBeenCalledWith(...arguments)");function n(e){return{compare:function(){const i=Array.prototype.slice.call(arguments,0),r=i[0],a=i.slice(1),u={pass:!1};if(!s.isSpy(r))throw new Error(t("Expected a spy, but got "+e.pp(r)+"."));return r.calls.any()?(e.contains(r.calls.allArgs(),a)?(u.pass=!0,u.message=function(){return"Expected spy "+r.and.identity+` not to have been called with:
  `+e.pp(a)+`
but it was.`}):u.message=function(){const o=r.calls.allArgs().map(function(h){return"  "+e.pp(h)}),c=r.calls.allArgs().map(function(h,p){const d=new s.DiffBuilder;return e.equals(h,a,d),"Call "+p+`:
`+d.getMessage().replace(/^/gm,"  ")});return"Expected spy "+r.and.identity+` to have been called with:
  `+e.pp(a)+`
but actual calls were:
`+o.join(`,
`)+`.

`+c.join(`
`)},u):(u.message=function(){return"Expected spy "+r.and.identity+` to have been called with:
  `+e.pp(a)+`
but it was never called.`},u)}}}return n},getJasmineRequireObj().toHaveClass=function(s){function t(e){return{compare:function(i,r){if(!n(i))throw new Error(e.pp(i)+" is not a DOM element");return{pass:i.classList.contains(r)}}}}function n(e){return e&&e.classList&&s.isFunction_(e.classList.contains)}return t},getJasmineRequireObj().toHaveSize=function(s){function t(i){return{compare:function(r,a){const u={pass:!1};if(s.isA_("WeakSet",r)||s.isWeakMap(r)||s.isDataView(r))throw new Error("Cannot get size of "+r+".");let o;return s.isSet(r)||s.isMap(r)?o=r.size:e(r.length)?o=r.length:o=Object.keys(r).length,u.pass=o===a,u.pass||(u.message=function(){return"Expected "+i.pp(r)+" with size "+o+" to have size "+a+"."}),u}}}const n=Number.MAX_SAFE_INTEGER||9007199254740991;function e(i){return typeof i=="number"&&i>-1&&i%1===0&&i<=n}return t},getJasmineRequireObj().toHaveSpyInteractions=function(s){const t=s.formatErrorMsg("<toHaveSpyInteractions>","expect(<spyObj>).toHaveSpyInteractions()");function n(e){return{compare:function(i){const r={};if(!s.isObject_(i))throw new Error(t("Expected a spy object, but got "+typeof i+"."));if(arguments.length>1)throw new Error(t("Does not take arguments"));r.pass=!1;let a=!1;const u=[];for(const c of Object.values(i))s.isSpy(c)&&(a=!0,c.calls.any()&&(r.pass=!0,u.push([c.and.identity,c.calls.count()])));if(!a)throw new Error(t("Expected a spy object with spies, but object has no spies."));let o;return r.pass?(o="Expected spy object spies not to have been called, but the following spies were called: ",o+=u.map(([c,h])=>`${c} called ${h} time(s)`).join(", ")):o="Expected spy object spies to have been called, but no spies were called.",r.message=o,r}}}return n},getJasmineRequireObj().toMatch=function(s){const t=s.formatErrorMsg("<toMatch>","expect(<expectation>).toMatch(<string> || <regexp>)");function n(){return{compare:function(e,i){if(!s.isString_(i)&&!s.isA_("RegExp",i))throw new Error(t("Expected is not a String or a RegExp"));return{pass:new RegExp(i).test(e)}}}}return n},getJasmineRequireObj().toThrow=function(s){const t=s.formatErrorMsg("<toThrow>","expect(function() {<expectation>}).toThrow()");function n(e){return{compare:function(i,r){const a={pass:!1};let u=!1,o;if(typeof i!="function")throw new Error(t("Actual is not a Function"));try{i()}catch(c){u=!0,o=c}return u?arguments.length==1?(a.pass=!0,a.message=function(){return"Expected function not to throw, but it threw "+e.pp(o)+"."},a):(e.equals(o,r)?(a.pass=!0,a.message=function(){return"Expected function not to throw "+e.pp(r)+"."}):a.message=function(){return"Expected function to throw "+e.pp(r)+", but it threw "+e.pp(o)+"."},a):(a.message="Expected function to throw an exception.",a)}}}return n},getJasmineRequireObj().toThrowError=function(s){const t=s.formatErrorMsg("<toThrowError>","expect(function() {<expectation>}).toThrowError(<ErrorConstructor>, <message>)");function n(r){return{compare:function(p){const d=a.apply(null,arguments);if(typeof p!="function")throw new Error(t("Actual is not a Function"));let g;try{return p(),i("Expected function to throw an Error.")}catch(m){g=m}return s.isError_(g)?d.match(g):i(function(){return"Expected function to throw an Error, but it threw "+r.pp(g)+"."})}};function a(){let p,d;if(arguments[2]){if(d=arguments[1],p=arguments[2],!h(d))throw new Error(t("Expected error type is not an Error."));return o(p,d)}else return arguments[1]?(p=arguments[1],h(arguments[1])?o(null,arguments[1]):o(arguments[1],null)):u()}function u(){return{match:function(p){return e("Expected function not to throw an Error, but it threw "+s.fnNameFor(p)+".")}}}function o(p,d){if(p&&!c(p))throw d?new Error(t("Expected error message is not a string or RegExp.")):new Error(t("Expected is not an Error, string, or RegExp."));function g(x){return typeof p=="string"?p==x:p.test(x)}const m=d?s.fnNameFor(d):"an exception";function y(x){const I=d?s.fnNameFor(x.constructor):"an exception";let A="";return p&&(A=" with message "+r.pp(x.message)),I+A}function R(){return p===null?"":p instanceof RegExp?" with a message matching "+r.pp(p):" with message "+r.pp(p)}function _(x){return(d===null||x instanceof d)&&(p===null||g(x.message))}return{match:function(x){return _(x)?e(function(){return"Expected function not to throw "+m+R()+"."}):i(function(){return"Expected function to throw "+m+R()+", but it threw "+y(x)+"."})}}}function c(p){return p instanceof RegExp||typeof p=="string"}function h(p){if(typeof p!="function")return!1;const d=function(){};return d.prototype=p.prototype,s.isError_(new d)}}function e(r){return{pass:!0,message:r}}function i(r){return{pass:!1,message:r}}return n},getJasmineRequireObj().toThrowMatching=function(s){const t=s.formatErrorMsg("<toThrowMatching>","expect(function() {<expectation>}).toThrowMatching(<Predicate>)");function n(r){return{compare:function(u,o){if(typeof u!="function")throw new Error(t("Actual is not a Function"));if(typeof o!="function")throw new Error(t("Predicate is not a Function"));let c;try{return u(),i("Expected function to throw an exception.")}catch(h){c=h}return o(c)?e("Expected function not to throw an exception matching a predicate."):i(function(){return"Expected function to throw an exception matching a predicate, but it threw "+a(c)+"."})}};function a(u){return u&&u.constructor?s.fnNameFor(u.constructor)+" with message "+r.pp(u.message):r.pp(u)}}function e(r){return{pass:!0,message:r}}function i(r){return{pass:!1,message:r}}return n},getJasmineRequireObj().MockDate=function(s){function t(n){let e=0;if(!n||!n.Date)return this.install=function(){},this.tick=function(){},this.uninstall=function(){},this;const i=n.Date;return this.install=function(u){if(u instanceof i)e=u.getTime();else{if(!s.util.isUndefined(u))throw new Error("The argument to jasmine.clock().mockDate(), if specified, should be a Date instance.");e=new i().getTime()}n.Date=r},this.tick=function(u){u=u||0,e=e+u},this.uninstall=function(){e=0,n.Date=i},a(),this;function r(){switch(arguments.length){case 0:return new i(e);case 1:return new i(arguments[0]);case 2:return new i(arguments[0],arguments[1]);case 3:return new i(arguments[0],arguments[1],arguments[2]);case 4:return new i(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:return new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}}function a(){r.prototype=i.prototype,r.now=function(){return e},r.toSource=i.toSource,r.toString=i.toString,r.parse=i.parse,r.UTC=i.UTC}}return t},getJasmineRequireObj().NeverSkipPolicy=function(s){function t(n){}return t.prototype.skipTo=function(n){return n+1},t.prototype.fnErrored=function(n){},t},getJasmineRequireObj().ParallelReportDispatcher=function(s){function t(n,e={}){const i=e.ReportDispatcher||s.ReportDispatcher,r=e.QueueRunner||s.QueueRunner,a=e.globalErrors||new s.GlobalErrors,u=new i(s.reporterEvents,function(c){c={...c,globalErrors:a,timeout:{setTimeout,clearTimeout},fail:function(h){h||(h=new Error("A reporter called done.fail()")),n(h)},onException:function(h){n(h)}},new r(c).execute()},function(c){n(c)}),o={addReporter:u.addReporter.bind(u),clearReporters:u.clearReporters.bind(u),installGlobalErrors:a.install.bind(a),uninstallGlobalErrors:function(){a.uninstall(a)}};for(const c of s.reporterEvents)o[c]=u[c].bind(u);return o}return t},getJasmineRequireObj().makePrettyPrinter=function(s){class t{constructor(u,o){this.customObjectFormatters_=u,this.ppNestLevel_=0,this.seen=[],this.length=0,this.stringParts=[],this.pp_=o}format(u){this.ppNestLevel_++;try{const o=this.applyCustomFormatters_(u);if(o)this.emitScalar(o);else if(s.util.isUndefined(u))this.emitScalar("undefined");else if(u===null)this.emitScalar("null");else if(u===0&&1/u===-1/0)this.emitScalar("-0");else if(u===s.getGlobal())this.emitScalar("<global>");else if(u.jasmineToString)this.emitScalar(u.jasmineToString(this.pp_));else if(s.isString_(u))this.emitString(u);else if(s.isSpy(u))this.emitScalar("spy on "+u.and.identity);else if(s.isSpy(u.toString))this.emitScalar("spy on "+u.toString.and.identity);else if(u instanceof RegExp)this.emitScalar(u.toString());else if(typeof u=="function")this.emitScalar("Function");else if(s.isDomNode(u))u.tagName?this.emitDomElement(u):this.emitScalar("HTMLNode");else if(u instanceof Date)this.emitScalar("Date("+u+")");else if(s.isSet(u))this.emitSet(u);else if(s.isMap(u))this.emitMap(u);else if(s.isTypedArray_(u))this.emitTypedArray(u);else if(u.toString&&typeof u=="object"&&!s.isArray_(u)&&n(u))try{this.emitScalar(u.toString())}catch{this.emitScalar("has-invalid-toString-method")}else this.seen.includes(u)?this.emitScalar("<circular reference: "+(s.isArray_(u)?"Array":"Object")+">"):s.isArray_(u)||s.isA_("Object",u)?(this.seen.push(u),s.isArray_(u)?this.emitArray(u):this.emitObject(u),this.seen.pop()):this.emitScalar(u.toString())}catch(o){if(this.ppNestLevel_>1||!(o instanceof i))throw o}finally{this.ppNestLevel_--}}applyCustomFormatters_(u){return r(u,this.customObjectFormatters_)}iterateObject(u,o){const c=s.MatchersUtil.keys(u,s.isArray_(u)),h=Math.min(c.length,s.MAX_PRETTY_PRINT_ARRAY_LENGTH);for(let p=0;p<h;p++)o(c[p]);return c.length>h}emitScalar(u){this.append(u)}emitString(u){this.append("'"+u+"'")}emitArray(u){if(this.ppNestLevel_>s.MAX_PRETTY_PRINT_DEPTH){this.append("Array");return}const o=Math.min(u.length,s.MAX_PRETTY_PRINT_ARRAY_LENGTH);this.append("[ ");for(let p=0;p<o;p++)p>0&&this.append(", "),this.format(u[p]);u.length>o&&this.append(", ...");let c=u.length===0;this.iterateObject(u,p=>{c?c=!1:this.append(", "),this.formatProperty(u,p)})&&this.append(", ..."),this.append(" ]")}emitSet(u){if(this.ppNestLevel_>s.MAX_PRETTY_PRINT_DEPTH){this.append("Set");return}this.append("Set( ");const o=Math.min(u.size,s.MAX_PRETTY_PRINT_ARRAY_LENGTH);let c=0;u.forEach(function(h,p){c>=o||(c>0&&this.append(", "),this.format(h),c++)},this),u.size>o&&this.append(", ..."),this.append(" )")}emitMap(u){if(this.ppNestLevel_>s.MAX_PRETTY_PRINT_DEPTH){this.append("Map");return}this.append("Map( ");const o=Math.min(u.size,s.MAX_PRETTY_PRINT_ARRAY_LENGTH);let c=0;u.forEach(function(h,p){c>=o||(c>0&&this.append(", "),this.format([p,h]),c++)},this),u.size>o&&this.append(", ..."),this.append(" )")}emitObject(u){const o=u.constructor,c=typeof o=="function"&&u instanceof o?s.fnNameFor(u.constructor):"null";if(this.append(c),this.ppNestLevel_>s.MAX_PRETTY_PRINT_DEPTH)return;this.append("({ ");let h=!0;this.iterateObject(u,d=>{h?h=!1:this.append(", "),this.formatProperty(u,d)})&&this.append(", ..."),this.append(" })")}emitTypedArray(u){const o=s.fnNameFor(u.constructor),c=Array.prototype.slice.call(u,0,s.MAX_PRETTY_PRINT_ARRAY_LENGTH);let h=Array.prototype.join.call(c,", ");c.length!==u.length&&(h+=", ..."),this.append(o+" [ "+h+" ]")}emitDomElement(u){const o=u.tagName.toLowerCase();let c="<"+o;for(const h of u.attributes)c+=" "+h.name,h.value!==""&&(c+='="'+h.value+'"');c+=">",(u.childElementCount!==0||u.textContent!=="")&&(c+="...</"+o+">"),this.append(c)}formatProperty(u,o){typeof o=="symbol"?this.append(o.toString()):this.append(o),this.append(": "),this.format(u[o])}append(u){typeof u!="string"&&(u=Object.prototype.toString.call(u));const o=e(u,s.MAX_PRETTY_PRINT_CHARS-this.length);if(this.length+=o.value.length,this.stringParts.push(o.value),o.truncated)throw new i}}function n(a){try{return s.isFunction_(a.toString)&&a.toString!==Object.prototype.toString&&a.toString()!==Object.prototype.toString.call(a)}catch{return!0}}function e(a,u){return a.length<=u?{value:a,truncated:!1}:(a=a.substring(0,u-4)+" ...",{value:a,truncated:!0})}function i(){this.message="Exceeded "+s.MAX_PRETTY_PRINT_CHARS+" characters while pretty-printing a value"}i.prototype=new Error;function r(a,u){for(const o of u){const c=o(a);if(c!==void 0)return c}}return function(a){a=a||[];const u=function(o){const c=new t(a,u);return c.format(o),c.stringParts.join("")};return u.customFormat_=function(o){return r(o,a)},u}},getJasmineRequireObj().QueueRunner=function(s){let t=1;function n(){}n.prototype=new Error,s.StopExecutionError=n;function e(c,h){let p=!1;return function(d){return p?h&&h():(p=!0,c(d)),null}}function i(){console.error(new Error("An asynchronous function called its 'done' callback more than once, in a QueueRunner without a onMultipleDone handler."))}function r(){}function a(c){this.id_=t++,this.queueableFns=c.queueableFns||[],this.onComplete=c.onComplete||r,this.clearStack=c.clearStack||function(p){p()},this.onException=c.onException||r,this.onMultipleDone=c.onMultipleDone||i,this.userContext=c.userContext||new s.UserContext,this.timeout=c.timeout||{setTimeout,clearTimeout},this.fail=c.fail||r,this.globalErrors=c.globalErrors||{pushListener:r,popListener:r};const h=c.SkipPolicy||s.NeverSkipPolicy;if(this.skipPolicy_=new h(this.queueableFns),this.errored_=!1,typeof this.onComplete!="function")throw new Error("invalid onComplete "+JSON.stringify(this.onComplete))}a.prototype.execute=function(){this.handleFinalError=(c,h)=>{this.onException(o(c,h))},this.globalErrors.pushListener(this.handleFinalError),this.run(0)},a.prototype.clearTimeout=function(c){Function.prototype.apply.apply(this.timeout.clearTimeout,[s.getGlobal(),[c]])},a.prototype.setTimeout=function(c,h){return Function.prototype.apply.apply(this.timeout.setTimeout,[s.getGlobal(),[c,h]])},a.prototype.attempt=function(h){let p,d,g=!0;const m=A=>{this.onException(A),this.recordError_(h)};function y(A,J){m(o(A,J))}const R=e(()=>{p!==void 0&&this.clearTimeout(p),this.globalErrors.popListener(y)}),_=e(A=>{R(),typeof A<"u"&&(!(A instanceof n)&&!A.jasmineMessage&&this.fail(A),this.recordError_(h));const J=()=>{this.run(this.nextFnIx_(h))};g?this.setTimeout(J):J()},()=>{try{d||this.onMultipleDone()}catch(A){console.error(A)}});d=!1;const x=this.queueableFns[h];if(_.fail=(function(){this.fail.apply(null,arguments),this.recordError_(h),_()}).bind(this),this.globalErrors.pushListener(y),x.timeout!==void 0){const A=x.timeout||s.DEFAULT_TIMEOUT_INTERVAL;p=this.setTimeout(function(){d=!0;const J=new Error("Timeout - Async function did not complete within "+A+"ms "+(x.timeout?"(custom timeout)":"(set by jasmine.DEFAULT_TIMEOUT_INTERVAL)"));m(J),_()},A)}try{let A;if(x.fn.length===0){if(A=x.fn.call(this.userContext),A&&s.isFunction_(A.then))return A.then(u(_),I),g=!1,{completedSynchronously:!1}}else return A=x.fn.call(this.userContext,_),this.diagnoseConflictingAsync_(x.fn,A),g=!1,{completedSynchronously:!1}}catch(A){m(A),this.recordError_(h)}return R(),{completedSynchronously:!0};function I(A){m(A),_()}},a.prototype.run=function(c){const h=this.queueableFns.length;for(let p=c;p<h;p=this.nextFnIx_(p))if(!this.attempt(p).completedSynchronously)return;this.clearStack(()=>{this.globalErrors.popListener(this.handleFinalError),this.errored_?this.onComplete(new n):this.onComplete()})},a.prototype.nextFnIx_=function(c){const h=this.skipPolicy_.skipTo(c);if(h===c)throw new Error("Can't skip to the same queueable fn that just finished");return h},a.prototype.recordError_=function(c){this.errored_=!0,this.skipPolicy_.fnErrored(c)},a.prototype.diagnoseConflictingAsync_=function(c,h){h&&s.isFunction_(h.then)&&(s.isAsyncFunction_(c)?this.onException(new Error("An asynchronous before/it/after function was defined with the async keyword but also took a done callback. Either remove the done callback (recommended) or remove the async keyword.")):this.onException(new Error("An asynchronous before/it/after function took a done callback but also returned a promise. Either remove the done callback (recommended) or change the function to not return a promise.")))};function u(c){return function(h){s.isError_(h)?c(h):c()}}function o(c,h){return c||h&&h.message||"Global error event with no message"}return a},getJasmineRequireObj().ReportDispatcher=function(s){function t(n,e,i){const r=n||[];for(const h of r)this[h]=function(p){return function(){return o(p,arguments)}}(h);let a=[],u=null;return this.addReporter=function(h){a.push(h)},this.provideFallbackReporter=function(h){u=h},this.clearReporters=function(){a=[]},this;function o(h,p){a.length===0&&u!==null&&a.push(u);const d=[];for(const g of a)c(d,g,h,p);return new Promise(function(g){e({queueableFns:d,onComplete:g,isReporter:!0,onMultipleDone:function(){i(new Error("An asynchronous reporter callback called its 'done' callback more than once."))}})})}function c(h,p,d,g){const m=p[d];if(!m)return;const y=s.util.cloneArgs(g);m.length<=1?h.push({fn:function(){return m.apply(p,y)}}):h.push({fn:function(R){return m.apply(p,y.concat([R]))}})}}return t},getJasmineRequireObj().reporterEvents=function(){const s=["jasmineStarted","jasmineDone","suiteStarted","suiteDone","specStarted","specDone"];return Object.freeze(s),s},getJasmineRequireObj().interface=function(s,t){const n={describe:function(e,i){return t.describe(e,i)},xdescribe:function(e,i){return t.xdescribe(e,i)},fdescribe:function(e,i){return t.fdescribe(e,i)},it:function(){return t.it.apply(t,arguments)},xit:function(){return t.xit.apply(t,arguments)},fit:function(){return t.fit.apply(t,arguments)},beforeEach:function(){return t.beforeEach.apply(t,arguments)},afterEach:function(){return t.afterEach.apply(t,arguments)},beforeAll:function(){return t.beforeAll.apply(t,arguments)},afterAll:function(){return t.afterAll.apply(t,arguments)},setSpecProperty:function(e,i){return t.setSpecProperty(e,i)},setSuiteProperty:function(e,i){return t.setSuiteProperty(e,i)},expect:function(e){return t.expect(e)},expectAsync:function(e){return t.expectAsync(e)},throwUnlessAsync:function(e){return t.throwUnlessAsync(e)},throwUnless:function(e){return t.throwUnless(e)},pending:function(){return t.pending.apply(t,arguments)},fail:function(){return t.fail.apply(t,arguments)},spyOn:function(e,i){return t.spyOn(e,i)},spyOnProperty:function(e,i,r){return t.spyOnProperty(e,i,r)},spyOnAllFunctions:function(e,i){return t.spyOnAllFunctions(e,i)},jsApiReporter:new s.JsApiReporter({timer:new s.Timer}),jasmine:s};return s.addCustomEqualityTester=function(e){t.addCustomEqualityTester(e)},s.addMatchers=function(e){return t.addMatchers(e)},s.addAsyncMatchers=function(e){return t.addAsyncMatchers(e)},s.addCustomObjectFormatter=function(e){return t.addCustomObjectFormatter(e)},s.clock=function(){return t.clock},s.createSpy=function(e,i){return t.createSpy(e,i)},s.createSpyObj=function(e,i,r){return t.createSpyObj(e,i,r)},s.addSpyStrategy=function(e,i){return t.addSpyStrategy(e,i)},s.setDefaultSpyStrategy=function(e){return t.setDefaultSpyStrategy(e)},n},getJasmineRequireObj().RunableResources=function(s){class t{constructor(e){this.byRunableId_={},this.getCurrentRunableId_=e.getCurrentRunableId,this.globalErrors_=e.globalErrors,this.spyFactory=new s.SpyFactory(()=>this.getCurrentRunableId_()?this.customSpyStrategies():{},()=>this.defaultSpyStrategy(),()=>this.makeMatchersUtil()),this.spyRegistry=new s.SpyRegistry({currentSpies:()=>this.spies(),createSpy:(i,r)=>this.spyFactory.createSpy(i,r)})}initForRunable(e,i){const r=this.byRunableId_[e]={customEqualityTesters:[],customMatchers:{},customAsyncMatchers:{},customSpyStrategies:{},customObjectFormatters:[],defaultSpyStrategy:void 0,spies:[]},a=this.byRunableId_[i];if(a){r.defaultSpyStrategy=a.defaultSpyStrategy;const u=["customEqualityTesters","customMatchers","customAsyncMatchers","customObjectFormatters","customSpyStrategies"];for(const o of u)r[o]=s.util.clone(a[o])}}clearForRunable(e){this.globalErrors_.removeOverrideListener(),this.spyRegistry.clearSpies(),delete this.byRunableId_[e]}spies(){return this.forCurrentRunable_("Spies must be created in a before function or a spec").spies}defaultSpyStrategy(){if(this.getCurrentRunableId_())return this.byRunableId_[this.getCurrentRunableId_()].defaultSpyStrategy}setDefaultSpyStrategy(e){this.forCurrentRunable_("Default spy strategy must be set in a before function or a spec").defaultSpyStrategy=e}customSpyStrategies(){return this.forCurrentRunable_("Custom spy strategies must be added in a before function or a spec").customSpyStrategies}customEqualityTesters(){return this.forCurrentRunable_("Custom Equalities must be added in a before function or a spec").customEqualityTesters}customMatchers(){return this.forCurrentRunable_("Matchers must be added in a before function or a spec").customMatchers}addCustomMatchers(e){const i=this.customMatchers();for(const r in e)i[r]=e[r]}customAsyncMatchers(){return this.forCurrentRunable_("Async Matchers must be added in a before function or a spec").customAsyncMatchers}addCustomAsyncMatchers(e){const i=this.customAsyncMatchers();for(const r in e)i[r]=e[r]}customObjectFormatters(){return this.forCurrentRunable_("Custom object formatters must be added in a before function or a spec").customObjectFormatters}makePrettyPrinter(){return s.makePrettyPrinter(this.customObjectFormatters())}makeMatchersUtil(){return this.getCurrentRunableId_()?new s.MatchersUtil({customTesters:this.customEqualityTesters(),pp:this.makePrettyPrinter()}):new s.MatchersUtil({pp:s.basicPrettyPrinter_})}forCurrentRunable_(e){const i=this.byRunableId_[this.getCurrentRunableId_()];if(!i&&e)throw new Error(e);return i}}return t},getJasmineRequireObj().Runner=function(s){class t{constructor(e){this.topSuite_=e.topSuite,this.totalSpecsDefined_=e.totalSpecsDefined,this.focusedRunables_=e.focusedRunables,this.runableResources_=e.runableResources,this.queueRunnerFactory_=e.queueRunnerFactory,this.reporter_=e.reporter,this.getConfig_=e.getConfig,this.reportSpecDone_=e.reportSpecDone,this.hasFailures=!1,this.executedBefore_=!1,this.currentlyExecutingSuites_=[],this.currentSpec=null}currentRunable(){return this.currentSpec||this.currentSuite()}currentSuite(){return this.currentlyExecutingSuites_[this.currentlyExecutingSuites_.length-1]}parallelReset(){this.executedBefore_=!1}async execute(e){this.executedBefore_&&this.topSuite_.reset(),this.executedBefore_=!0,this.hasFailures=!1;const i=this.focusedRunables_(),r=this.getConfig_();e||(i.length?e=i:e=[this.topSuite_.id]);const a=new s.Order({random:r.random,seed:s.isNumber_(r.seed)?r.seed+"":r.seed}),u=new s.TreeProcessor({tree:this.topSuite_,runnableIds:e,queueRunnerFactory:o=>(o.isLeaf||r.stopOnSpecFailure?o.SkipPolicy=s.CompleteOnFirstErrorSkipPolicy:o.SkipPolicy=s.SkipAfterBeforeAllErrorPolicy,this.queueRunnerFactory_(o)),failSpecWithNoExpectations:r.failSpecWithNoExpectations,nodeStart:(o,c)=>{this.currentlyExecutingSuites_.push(o),this.runableResources_.initForRunable(o.id,o.parentSuite.id),this.reporter_.suiteStarted(o.result).then(c),o.startTimer()},nodeComplete:(o,c,h)=>{if(o!==this.currentSuite())throw new Error("Tried to complete the wrong suite");this.runableResources_.clearForRunable(o.id),this.currentlyExecutingSuites_.pop(),c.status==="failed"&&(this.hasFailures=!0),o.endTimer(),o.hadBeforeAllFailure?this.reportChildrenOfBeforeAllFailure_(o).then(()=>{this.reportSuiteDone_(o,c,h)}):this.reportSuiteDone_(o,c,h)},orderChildren:function(o){return a.sort(o.children)},excludeNode:function(o){return!r.specFilter(o)}});if(!u.processTree().valid)throw new Error("Invalid order: would cause a beforeAll or afterAll to be run multiple times");return this.execute2_(e,a,u)}async execute2_(e,i,r){const a=this.totalSpecsDefined_();this.runableResources_.initForRunable(this.topSuite_.id);const u=new s.Timer;u.start(),await this.reporter_.jasmineStarted({totalSpecsDefined:a,order:i,parallel:!1}),this.currentlyExecutingSuites_.push(this.topSuite_),await r.execute(),this.topSuite_.hadBeforeAllFailure&&await this.reportChildrenOfBeforeAllFailure_(this.topSuite_),this.runableResources_.clearForRunable(this.topSuite_.id),this.currentlyExecutingSuites_.pop();let o,c,h;this.hasFailures||this.topSuite_.result.failedExpectations.length>0?o="failed":this.focusedRunables_().length>0?(o="incomplete",c="fit() or fdescribe() was found",h="focused"):a===0?(o="incomplete",c="No specs found",h="noSpecsFound"):o="passed";const p={overallStatus:o,totalTime:u.elapsed(),incompleteReason:c,incompleteCode:h,order:i,failedExpectations:this.topSuite_.result.failedExpectations,deprecationWarnings:this.topSuite_.result.deprecationWarnings};return this.topSuite_.reportedDone=!0,await this.reporter_.jasmineDone(p),p}reportSuiteDone_(e,i,r){e.reportedDone=!0,this.reporter_.suiteDone(i).then(r)}async reportChildrenOfBeforeAllFailure_(e){for(const i of e.children)i instanceof s.Suite?(await this.reporter_.suiteStarted(i.result),await this.reportChildrenOfBeforeAllFailure_(i),i.result.status="passed",await this.reporter_.suiteDone(i.result)):(await this.reporter_.specStarted(i.result),i.addExpectationResult(!1,{passed:!1,message:"Not run because a beforeAll function failed. The beforeAll failure will be reported on the suite that caused it."},!0),i.result.status="failed",await new Promise(r=>{this.reportSpecDone_(i,i.result,r)}))}}return t},getJasmineRequireObj().SkipAfterBeforeAllErrorPolicy=function(s){function t(n){this.queueableFns_=n,this.skipping_=!1}return t.prototype.skipTo=function(n){return this.skipping_?this.nextAfterAllAfter_(n):n+1},t.prototype.nextAfterAllAfter_=function(n){for(n++;n<this.queueableFns_.length&&this.queueableFns_[n].type!=="afterAll";n++);return n},t.prototype.fnErrored=function(n){this.queueableFns_[n].type==="beforeAll"&&(this.skipping_=!0,this.queueableFns_[n].suite.hadBeforeAllFailure=!0)},t},getJasmineRequireObj().Spy=function(s){const t=function(){let r=0;return function(){return r++}}();function n(r,a,u){const o=function(_,x,I){const A={object:_,invocationOrder:t(),args:Array.prototype.slice.apply(x)};y.track(A);const J=m.exec(_,x,I);return A.returnValue=J,J},{originalFn:c,customStrategies:h,defaultStrategyFn:p}=u||{},d=typeof c=="function"?c.length:0,g=R(d,function(_,x,I){return o(_,x,I)}),m=new e({name:r,fn:c,getSpy:function(){return g},customStrategies:h},a),y=new s.CallTracker;function R(_,x){switch(_){case 1:return function I(A){return x(this,arguments,this instanceof I)};case 2:return function I(A,J){return x(this,arguments,this instanceof I)};case 3:return function I(A,J,B){return x(this,arguments,this instanceof I)};case 4:return function I(A,J,B,S){return x(this,arguments,this instanceof I)};case 5:return function I(A,J,B,S,L){return x(this,arguments,this instanceof I)};case 6:return function I(A,J,B,S,L,k){return x(this,arguments,this instanceof I)};case 7:return function I(A,J,B,S,L,k,U){return x(this,arguments,this instanceof I)};case 8:return function I(A,J,B,S,L,k,U,X){return x(this,arguments,this instanceof I)};case 9:return function I(A,J,B,S,L,k,U,X,V){return x(this,arguments,this instanceof I)};default:return function I(){return x(this,arguments,this instanceof I)}}}for(const _ in c){if(_==="and"||_==="calls")throw new Error("Jasmine spies would overwrite the 'and' and 'calls' properties on the object being spied upon");g[_]=c[_]}return g.and=m.and,g.withArgs=function(){return m.withArgs.apply(m,arguments)},g.calls=y,p&&p(g.and),g}function e(r,a){const u=new s.SpyStrategy(r),o=new i(function(){return new s.SpyStrategy(r)},a);this.and=u,this.exec=function(c,h,p){let d=o.get(h);if(!d){if(o.any()&&!u.isConfigured())throw new Error("Spy '"+r.name+"' received a call with arguments "+s.basicPrettyPrinter_(Array.prototype.slice.call(h))+" but all configured strategies specify other arguments.");d=u}return d.exec(c,h,p)},this.withArgs=function(){return{and:o.getOrCreate(arguments)}}}function i(r,a){this.strategies=[],this.strategyFactory=r,this.matchersUtil=a}return i.prototype.any=function(){return this.strategies.length>0},i.prototype.getOrCreate=function(r){let a=this.get(r);return a||(a=this.strategyFactory(),this.strategies.push({args:r,strategy:a})),a},i.prototype.get=function(r){for(let a=0;a<this.strategies.length;a++)if(this.matchersUtil.equals(r,this.strategies[a].args))return this.strategies[a].strategy},n},getJasmineRequireObj().SpyFactory=function(s){function t(e,i,r){this.createSpy=function(a,u){return s.isFunction_(a)&&u===void 0&&(u=a,a=u.name),s.Spy(a,r(),{originalFn:u,customStrategies:e(),defaultStrategyFn:i()})},this.createSpyObj=function(a,u,o){(s.isObject_(a)||s.isArray_(a))&&(o=u,u=a,a="unknown");const h={},p=n(u);for(let g=0;g<p.length;g++){const m=h[p[g][0]]=this.createSpy(a+"."+p[g][0]);p[g].length>1&&m.and.returnValue(p[g][1])}const d=n(o);for(let g=0;g<d.length;g++){const m={enumerable:!0,get:this.createSpy(a+"."+d[g][0]+".get"),set:this.createSpy(a+"."+d[g][0]+".set")};d[g].length>1&&(m.get.and.returnValue(d[g][1]),m.set.and.returnValue(d[g][1])),Object.defineProperty(h,d[g][0],m)}if(p.length===0&&d.length===0)throw"createSpyObj requires a non-empty array or object of method names to create spies for";return h}}function n(e){const i=[];if(s.isArray_(e))for(let r=0;r<e.length;r++)i.push([e[r]]);else if(s.isObject_(e))for(const r in e)e.hasOwnProperty(r)&&i.push([r,e[r]]);return i}return t},getJasmineRequireObj().SpyRegistry=function(s){const t=s.formatErrorMsg("<spyOn>","spyOn(<object>, <methodName>)"),n=s.formatErrorMsg("<spyOnProperty>","spyOnProperty(<object>, <propName>, [accessType])");function e(u){u=u||{};const o=u.global||s.getGlobal(),c=u.createSpy,h=u.currentSpies||function(){return[]};this.allowRespy=function(p){this.respy=p},this.spyOn=function(p,d){const g=t;if(s.util.isUndefined(p)||p===null)throw new Error(g("could not find an object to spy upon for "+d+"()"));if(s.util.isUndefined(d)||d===null)throw new Error(g("No method name supplied"));if(s.util.isUndefined(p[d]))throw new Error(g(d+"() method does not exist"));if(p[d]&&s.isSpy(p[d])){if(this.respy)return p[d];throw new Error(g(d+" has already been spied upon"))}const m=Object.getOwnPropertyDescriptor(p,d);if(m&&!(m.writable||m.set))throw new Error(g(d+" is not declared writable or has no setter"));const y=p[d],R=c(d,y);let _;if(Object.prototype.hasOwnProperty.call(p,d)||p===o&&d==="onerror"?_=function(){p[d]=y}:_=function(){delete p[d]||(p[d]=y)},h().push({restoreObjectToOriginalState:_}),p[d]=R,p[d]!==R)throw new Error(s.formatErrorMsg("<spyOn>")(`Can't spy on ${d} because assigning to it had no effect`));return R},this.spyOnProperty=function(p,d,g){const m=n;if(g=g||"get",s.util.isUndefined(p))throw new Error(m("spyOn could not find an object to spy upon for "+d));if(s.util.isUndefined(d))throw new Error(m("No property name supplied"));const y=s.util.getPropertyDescriptor(p,d);if(!y)throw new Error(m(d+" property does not exist"));if(!y.configurable)throw new Error(m(d+" is not declared configurable"));if(!y[g])throw new Error(m("Property "+d+" does not have access type "+g));if(s.isSpy(y[g])){if(this.respy)return y[g];throw new Error(m(d+"#"+g+" has already been spied upon"))}const R=s.util.clone(y),_=c(d,y[g]);let x;return Object.prototype.hasOwnProperty.call(p,d)?x=function(){Object.defineProperty(p,d,R)}:x=function(){delete p[d]},h().push({restoreObjectToOriginalState:x}),y[g]=_,Object.defineProperty(p,d,y),_},this.spyOnAllFunctions=function(p,d){if(s.util.isUndefined(p))throw new Error("spyOnAllFunctions could not find an object to spy upon");let g=p,m=[],y,R=[];for(;g&&(!d||g!==Object.prototype);)y=i(g,d),y=y.filter(function(_){return R.indexOf(_)===-1}),R=R.concat(y),m=m.concat(r(g,y)),g=Object.getPrototypeOf(g);for(const _ of m)this.spyOn(p,_);return p},this.clearSpies=function(){const p=h();for(let d=p.length-1;d>=0;d--)p[d].restoreObjectToOriginalState()}}function i(u,o){const c=Object.keys(u);return o?Object.getOwnPropertyNames(u).filter(function(h){return h!=="constructor"||c.indexOf("constructor")>-1}):c}function r(u,o){const c=[];for(const h of o)Object.prototype.hasOwnProperty.call(u,h)&&a(u,h)&&c.push(h);return c}function a(u,o){let c;try{c=u[o]}catch{return!1}if(c instanceof Function){const h=Object.getOwnPropertyDescriptor(u,o);return(h.writable||h.set)&&h.configurable}return!1}return e},getJasmineRequireObj().SpyStrategy=function(s){function t(e){e=e||{},this.identity=e.name||"unknown",this.originalFn=e.fn||function(){},this.getSpy=e.getSpy||function(){},this.plan=this._defaultPlan=function(){};const i=e.customStrategies||{};for(const r in i)s.util.has(i,r)&&!this[r]&&(this[r]=n(i[r]));this.resolveTo=function(r){return this.plan=function(){return Promise.resolve(r)},this.getSpy()},this.rejectWith=function(r){return this.plan=function(){return Promise.reject(r)},this.getSpy()}}function n(e){return function(){const i=e.apply(null,arguments);if(!s.isFunction_(i))throw new Error("Spy strategy must return a function");return this.plan=i,this.getSpy()}}return t.prototype.exec=function(e,i,r){const a=[e].concat(i?Array.prototype.slice.call(i):[]),u=this.plan.bind.apply(this.plan,a);return r?new u:u()},t.prototype.callThrough=function(){return this.plan=this.originalFn,this.getSpy()},t.prototype.returnValue=function(e){return this.plan=function(){return e},this.getSpy()},t.prototype.returnValues=function(){const e=Array.prototype.slice.call(arguments);return this.plan=function(){return e.shift()},this.getSpy()},t.prototype.throwError=function(e){const i=s.isString_(e)?new Error(e):e;return this.plan=function(){throw i},this.getSpy()},t.prototype.callFake=function(e){if(!(s.isFunction_(e)||s.isAsyncFunction_(e)||s.isGeneratorFunction_(e)))throw new Error("Argument passed to callFake should be a function, got "+e);return this.plan=e,this.getSpy()},t.prototype.stub=function(e){return this.plan=function(){},this.getSpy()},t.prototype.isConfigured=function(){return this.plan!==this._defaultPlan},t},getJasmineRequireObj().StackTrace=function(s){function t(u){let o=u.stack.split(`
`);const c=r(u.message,o);c&&(this.message=c.message,o=c.remainder),o=o.filter(function(p){return p!==""});const h=e(o);this.frames=h.frames,this.style=h.style}const n=[{re:/^\s*at ([^\)]+) \(([^\)]+)\)$/,fnIx:1,fileLineColIx:2,style:"v8"},{re:/\s*at (.+)$/,fileLineColIx:1,style:"v8"},{re:/^(?:(([^@\s]+)@)|@)?([^\s]+)$/,fnIx:2,fileLineColIx:3,style:"webkit"},{re:/^^(?:((?:promise callback|[^\s]+ handler)\*([^@\s]+)@)|@)?([^\s]+)$/,fnIx:2,fileLineColIx:3,style:"webkit"}];function e(u){let o=null;const c=u.map(function(h){return i(n,function(d){const g=h.match(d.re);if(!g)return null;const m=g[d.fileLineColIx].match(/^(.*):(\d+):\d+$/);return m?(o=o||d.style,{raw:h,file:m[1],line:parseInt(m[2],10),func:g[d.fnIx]}):null})||{raw:h}});return{style:o,frames:c}}function i(u,o){for(const c of u){const h=o(c);if(h)return h}}function r(u,o){const c=a(u,o);if(c>0)return{message:o.slice(0,c).join(`
`),remainder:o.slice(c)}}function a(u,o){if(!o[0].match(/^\w*Error/))return 0;const c=u.split(`
`);for(let h=1;h<c.length;h++)if(c[h]!==o[h])return 0;return c.length}return t},getJasmineRequireObj().Suite=function(s){function t(r){this.env=r.env,this.id=r.id,this.parentSuite=r.parentSuite,this.description=r.description,this.reportedParentSuiteId=r.reportedParentSuiteId,this.filename=r.filename,this.expectationFactory=r.expectationFactory,this.asyncExpectationFactory=r.asyncExpectationFactory,this.throwOnExpectationFailure=!!r.throwOnExpectationFailure,this.autoCleanClosures=r.autoCleanClosures===void 0?!0:!!r.autoCleanClosures,this.onLateError=r.onLateError||function(){},this.beforeFns=[],this.afterFns=[],this.beforeAllFns=[],this.afterAllFns=[],this.timer=r.timer||new s.Timer,this.children=[],this.reset()}t.prototype.setSuiteProperty=function(r,a){this.result.properties=this.result.properties||{},this.result.properties[r]=a},t.prototype.getFullName=function(){const r=[];for(let a=this;a;a=a.parentSuite)a.parentSuite&&r.unshift(a.description);return r.join(" ")},t.prototype.pend=function(){this.markedPending=!0},t.prototype.exclude=function(){this.pend(),this.markedExcluding=!0},t.prototype.beforeEach=function(r){this.beforeFns.unshift({...r,suite:this})},t.prototype.beforeAll=function(r){this.beforeAllFns.push({...r,type:"beforeAll",suite:this})},t.prototype.afterEach=function(r){this.afterFns.unshift({...r,suite:this,type:"afterEach"})},t.prototype.afterAll=function(r){this.afterAllFns.unshift({...r,type:"afterAll"})},t.prototype.startTimer=function(){this.timer.start()},t.prototype.endTimer=function(){this.result.duration=this.timer.elapsed()};function n(r){for(const a of r)a.fn=null}t.prototype.cleanupBeforeAfter=function(){this.autoCleanClosures&&(n(this.beforeAllFns),n(this.afterAllFns),n(this.beforeFns),n(this.afterFns))},t.prototype.reset=function(){this.result={id:this.id,description:this.description,fullName:this.getFullName(),parentSuiteId:this.reportedParentSuiteId,filename:this.filename,failedExpectations:[],deprecationWarnings:[],duration:null,properties:null},this.markedPending=this.markedExcluding,this.children.forEach(function(r){r.reset()}),this.reportedDone=!1},t.prototype.removeChildren=function(){this.children=[]},t.prototype.addChild=function(r){this.children.push(r)},t.prototype.status=function(){return this.markedPending?"pending":this.result.failedExpectations.length>0?"failed":"passed"},t.prototype.canBeReentered=function(){return this.beforeAllFns.length===0&&this.afterAllFns.length===0},t.prototype.getResult=function(){return this.result.status=this.status(),this.result},t.prototype.sharedUserContext=function(){return this.sharedContext||(this.sharedContext=this.parentSuite?this.parentSuite.clonedSharedUserContext():new s.UserContext),this.sharedContext},t.prototype.clonedSharedUserContext=function(){return s.UserContext.fromExisting(this.sharedUserContext())},t.prototype.handleException=function(){if(arguments[0]instanceof s.errors.ExpectationFailed)return;const r={matcherName:"",passed:!1,expected:"",actual:"",error:arguments[0]},a=s.buildExpectationResult(r);this.parentSuite||(a.globalErrorType="afterAll"),this.reportedDone?this.onLateError(a):this.result.failedExpectations.push(a)},t.prototype.onMultipleDone=function(){let r;this.parentSuite?r=`An asynchronous beforeAll or afterAll function called its 'done' callback more than once.
(in suite: `+this.getFullName()+")":r="A top-level beforeAll or afterAll function called its 'done' callback more than once.",this.onLateError(new Error(r))},t.prototype.addExpectationResult=function(){if(i(arguments)){const r=arguments[1],a=s.buildExpectationResult(r);if(this.reportedDone?this.onLateError(a):(this.result.failedExpectations.push(a),this.result.status&&(this.result.status="failed")),this.throwOnExpectationFailure)throw new s.errors.ExpectationFailed}},t.prototype.addDeprecationWarning=function(r){typeof r=="string"&&(r={message:r}),this.result.deprecationWarnings.push(s.buildExpectationResult(r))},t.prototype.hasChildWithDescription=function(r){for(const a of this.children)if(a.description===r)return!0;return!1},Object.defineProperty(t.prototype,"metadata",{get:function(){return this.metadata_||(this.metadata_=new e(this)),this.metadata_}});function e(r){this.suite_=r,this.id=r.id,this.parentSuite=r.parentSuite?r.parentSuite.metadata:null,this.description=r.description}e.prototype.getFullName=function(){return this.suite_.getFullName()},Object.defineProperty(e.prototype,"children",{get:function(){return this.suite_.children.map(r=>r.metadata)}});function i(r){return!r[0]}return t},getJasmineRequireObj().SuiteBuilder=function(s){class t{constructor(o){this.env_=o.env,this.expectationFactory_=o.expectationFactory,this.suiteAsyncExpectationFactory_=function(c,h){return o.asyncExpectationFactory(c,h,"Suite")},this.specAsyncExpectationFactory_=function(c,h){return o.asyncExpectationFactory(c,h,"Spec")},this.onLateError_=o.onLateError,this.specResultCallback_=o.specResultCallback,this.specStarted_=o.specStarted,this.nextSuiteId_=0,this.nextSpecId_=0,this.topSuite=this.suiteFactory_("Jasmine__TopLevel__Suite"),this.currentDeclarationSuite_=this.topSuite,this.totalSpecsDefined=0,this.focusedRunables=[]}inDescribe(){return this.currentDeclarationSuite_!==this.topSuite}parallelReset(){this.topSuite.removeChildren(),this.topSuite.reset(),this.totalSpecsDefined=0,this.focusedRunables=[]}describe(o,c,h){e(c,"describe");const p=this.suiteFactory_(o,h);if(c.length>0)throw new Error("describe does not expect any arguments");return this.currentDeclarationSuite_.markedExcluding&&p.exclude(),this.addSpecsToSuite_(p,c),p}fdescribe(o,c,h){e(c,"fdescribe");const p=this.suiteFactory_(o,h);return p.isFocused=!0,this.focusedRunables.push(p.id),this.unfocusAncestor_(),this.addSpecsToSuite_(p,c),p}xdescribe(o,c,h){e(c,"xdescribe");const p=this.suiteFactory_(o,h);return p.exclude(),this.addSpecsToSuite_(p,c),p}it(o,c,h,p){return arguments.length>1&&typeof c<"u"&&i(c,"it"),this.it_(o,c,h,p)}xit(o,c,h,p){arguments.length>1&&typeof c<"u"&&i(c,"xit");const d=this.it_(o,c,h,p);return d.exclude("Temporarily disabled with xit"),d}fit(o,c,h,p){i(c,"fit"),h&&s.util.validateTimeout(h);const d=this.specFactory_(o,c,h,p);return this.currentDeclarationSuite_.addChild(d),this.focusedRunables.push(d.id),this.unfocusAncestor_(),d}beforeEach(o,c){i(o,"beforeEach"),c&&s.util.validateTimeout(c),this.currentDeclarationSuite_.beforeEach({fn:o,timeout:c||0})}beforeAll(o,c){i(o,"beforeAll"),c&&s.util.validateTimeout(c),this.currentDeclarationSuite_.beforeAll({fn:o,timeout:c||0})}afterEach(o,c){i(o,"afterEach"),c&&s.util.validateTimeout(c),o.isCleanup=!0,this.currentDeclarationSuite_.afterEach({fn:o,timeout:c||0})}afterAll(o,c){i(o,"afterAll"),c&&s.util.validateTimeout(c),this.currentDeclarationSuite_.afterAll({fn:o,timeout:c||0})}it_(o,c,h,p){h&&s.util.validateTimeout(h),this.checkDuplicate_(o,"spec");const d=this.specFactory_(o,c,h,p);return this.currentDeclarationSuite_.markedExcluding&&d.exclude(),this.currentDeclarationSuite_.addChild(d),d}checkDuplicate_(o,c){if(this.env_.configuration().forbidDuplicateNames&&this.currentDeclarationSuite_.hasChildWithDescription(o)){const h=this.currentDeclarationSuite_===this.topSuite?"top suite":`"${this.currentDeclarationSuite_.getFullName()}"`;throw new Error(`Duplicate ${c} name "${o}" found in ${h}`)}}suiteFactory_(o,c){this.topSuite&&this.checkDuplicate_(o,"suite");const h=this.env_.configuration(),p=this.currentDeclarationSuite_,d=p===this.topSuite?null:p.id;return new s.Suite({id:"suite"+this.nextSuiteId_++,description:o,filename:c,parentSuite:p,reportedParentSuiteId:d,timer:new s.Timer,expectationFactory:this.expectationFactory_,asyncExpectationFactory:this.suiteAsyncExpectationFactory_,throwOnExpectationFailure:h.stopSpecOnExpectationFailure,autoCleanClosures:h.autoCleanClosures,onLateError:this.onLateError_})}addSpecsToSuite_(o,c){const h=this.currentDeclarationSuite_;h.addChild(o),this.currentDeclarationSuite_=o;let p=!1;try{c()}catch(d){o.handleException(d),p=!0}if(o.parentSuite&&!o.children.length&&!p)throw new Error(`describe with no children (describe() or it()): ${o.getFullName()}`);this.currentDeclarationSuite_=h}specFactory_(o,c,h,p){this.totalSpecsDefined++;const d=this.env_.configuration(),g=this.currentDeclarationSuite_,m=g===this.topSuite?null:g.id,y=new s.Spec({id:"spec"+this.nextSpecId_++,filename:p,parentSuiteId:m,beforeAndAfterFns:r(g),expectationFactory:this.expectationFactory_,asyncExpectationFactory:this.specAsyncExpectationFactory_,onLateError:this.onLateError_,resultCallback:(R,_)=>{this.specResultCallback_(y,R,_)},getSpecName:function(R){return a(R,g)},onStart:(R,_)=>this.specStarted_(R,g,_),description:o,userContext:function(){return g.clonedSharedUserContext()},queueableFn:{fn:c,timeout:h||0},throwOnExpectationFailure:d.stopSpecOnExpectationFailure,autoCleanClosures:d.autoCleanClosures,timer:new s.Timer});return y}unfocusAncestor_(){const o=n(this.currentDeclarationSuite_);if(o){for(let c=0;c<this.focusedRunables.length;c++)if(this.focusedRunables[c]===o){this.focusedRunables.splice(c,1);break}}}}function n(u){for(;u;){if(u.isFocused)return u.id;u=u.parentSuite}return null}function e(u,o){if(!s.isFunction_(u))throw new Error(o+" expects a function argument; received "+s.getType_(u))}function i(u,o){if(!s.isFunction_(u)&&!s.isAsyncFunction_(u))throw new Error(o+" expects a function argument; received "+s.getType_(u))}function r(u){return function(){let o=[],c=[],h=u;for(;h;)o=o.concat(h.beforeFns),c=c.concat(h.afterFns),h=h.parentSuite;return{befores:o.reverse(),afters:c}}}function a(u,o){const c=[u.description],h=o.getFullName();return h!==""&&c.unshift(h),c.join(" ")}return t},getJasmineRequireObj().Timer=function(){const s=function(n){return function(){return new n().getTime()}}(Date);function t(n){n=n||{};const e=n.now||s;let i;this.start=function(){i=e()},this.elapsed=function(){return e()-i}}return t},getJasmineRequireObj().TreeProcessor=function(){function s(t){const n=t.tree,e=t.runnableIds,i=t.queueRunnerFactory,r=t.nodeStart||function(){},a=t.nodeComplete||function(){},u=!!t.failSpecWithNoExpectations,o=t.orderChildren||function(B){return B.children},c=t.excludeNode||function(B){return!1};let h={valid:!0},p=!1;const d=1/0,g=1-1/0;this.processTree=function(){return y(n,!0),p=!0,h},this.execute=async function(){if(p||this.processTree(),!h.valid)throw"invalid order";const B=J(n,0);await new Promise(function(S){i({queueableFns:B,userContext:n.sharedUserContext(),onException:function(){n.handleException.apply(n,arguments)},onComplete:S,onMultipleDone:n.onMultipleDone?n.onMultipleDone.bind(n):null})})};function m(B){for(let S=0;S<e.length;S++)if(e[S]===B)return S}function y(B,S){const L=m(B.id);if(L!==void 0&&(S=!1),B.children){let k=!1;const U=o(B);for(let X=0;X<U.length;X++){const V=U[X];if(y(V,S),!h.valid)return;const $=h[V.id];k=k||$.willExecute}h[B.id]={excluded:S,willExecute:k},x(B,U,h[B.id],L),!B.canBeReentered()&&h[B.id].segments.length>1&&(h={valid:!1})}else{const k=S||c(B);h[B.id]={excluded:k,willExecute:!k&&!B.markedPending,segments:[{index:0,owner:B,nodes:[B],min:R(L),max:_(L)}]}}}function R(B){return B===void 0?d:B}function _(B){return B===void 0?g:B}function x(B,S,L,k){let U={index:0,owner:B,nodes:[],min:R(k),max:_(k)},X=[U],V=g,$=I(S);function lt(ut){return V!==g&&ut!==d&&V<ut-1}for(let ut=0;ut<$.length;ut++){const Rt=$[ut],xt=Rt.max,rt=Rt.min;lt(rt)&&(U={index:X.length,owner:B,nodes:[],min:d,max:g},X.push(U)),U.nodes.push(Rt),U.min=Math.min(U.min,rt),U.max=Math.max(U.max,xt),V=xt}L.segments=X}function I(B){const S=[],L=[];for(let k=0;k<B.length;k++){const U=B[k],X=h[U.id].segments;for(let V=0;V<X.length;V++){const $=X[V];$.min===d?L.push($):S.push($)}}return S.sort(function(k,U){return k.min-U.min}),S.concat(L)}function A(B,S){return B.children?{fn:function(L){i({onComplete:function(){const U=Array.prototype.slice.call(arguments,[0]);B.cleanupBeforeAfter(),a(B,B.getResult(),function(){L.apply(void 0,U)})},queueableFns:[{fn:function(U){r(B,U)}}].concat(J(B,S)),userContext:B.sharedUserContext(),onException:function(){B.handleException.apply(B,arguments)},onMultipleDone:B.onMultipleDone?B.onMultipleDone.bind(B):null})}}:{fn:function(L){B.execute(i,L,h[B.id].excluded,u)}}}function J(B,S){const L=[],k=h[B.id].segments[S].nodes;for(let U=0;U<k.length;U++)L.push(A(k[U].owner,k[U].index));return h[B.id].willExecute?B.beforeAllFns.concat(L).concat(B.afterAllFns):L}}return s},getJasmineRequireObj().UserContext=function(s){function t(){}return t.fromExisting=function(n){const e=new t;for(const i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e},t},getJasmineRequireObj().version=function(){return"5.5.0"}}(jasmine$2,jasmine$2.exports)),jasmine$2.exports}var hasRequiredJasmineCore;function requireJasmineCore(){if(hasRequiredJasmineCore)return jasmineCore.exports;hasRequiredJasmineCore=1;const s=requireJasmine();jasmineCore.exports=s;const t=function(){let h,p;return function(g){if(!p||g===!0){h=s.core(s);const m=h.getEnv({suppressLoadErrors:!0});p=s.interface(h,m)}return{jasmine:h,jasmineInterface:p}}}();jasmineCore.exports.boot=function(h){const{jasmine:p,jasmineInterface:d}=t(h);for(const g in d)commonjsGlobal[g]=d[g];return p},jasmineCore.exports.noGlobals=function(h){const{jasmineInterface:p}=t(h);return p};const n=require$$2,e=require$$2,i=n.join(__dirname,"jasmine-core"),r=["boot0.js","boot1.js"],a=["boot.js"],u=[],o=[],c=["jasmine.js"].concat(r,a);return e.readdirSync(i).forEach(function(h){if(e.statSync(n.join(i,h)).isFile())switch(n.extname(h)){case".css":u.push(h);break;case".js":c.indexOf(h)<0&&o.push(h);break}}),jasmineCore.exports.files={self:__filename,path:i,bootDir:i,bootFiles:r,cssFiles:u,jsFiles:["jasmine.js"].concat(o),imagesDir:n.join(__dirname,"../images")},jasmineCore.exports}const ExitHandler=exit_handler,ConsoleSpecFilter=console_spec_filterExports,RunnerBase=runner_base;class Jasmine extends RunnerBase{constructor(t){t=t||{},super(t);const n=t.jasmineCore||requireJasmineCore();t.globals===!1?this.jasmine=n.noGlobals().jasmine:this.jasmine=n.boot(!0),this.env=this.jasmine.getEnv({suppressLoadErrors:!0}),this.reportersCount=0,this.exit=process.exit,this.addReporter(this.reporter_),this.coreVersion=function(){return n.version()},this.exitOnCompletion=!0}randomizeTests(t){this.env.configure({random:t})}seed(t){this.env.configure({seed:t})}addReporter(t){this.env.addReporter(t),this.reportersCount++}clearReporters(){this.env.clearReporters(),this.reportersCount=0}provideFallbackReporter(t){this.env.provideFallbackReporter(t)}addMatchers(t){this.env.addMatchers(t)}async loadSpecs(){await this._loadFiles(this.specFiles)}async loadHelpers(){await this._loadFiles(this.helperFiles)}async _loadFiles(t){for(const n of t)await this.loader.load(n)}async loadRequires(){await this._loadFiles(this.requires)}configureEnv(t){this.env.configure(t)}stopSpecOnExpectationFailure(t){this.env.configure({stopSpecOnExpectationFailure:t})}stopOnSpecFailure(t){this.env.configure({stopOnSpecFailure:t})}async execute(t,n){if(await this.loadRequires(),await this.loadHelpers(),this.defaultReporterConfigured||this.configureDefaultReporter({showColors:this.showingColors,alwaysListPendingSpecs:this.alwaysListPendingSpecs_}),n){const r=new ConsoleSpecFilter({filterString:n});this.env.configure({specFilter:function(a){return r.matches(a.getFullName())}})}t&&t.length>0&&(this.isVerbose_&&console.log("Overriding previous specDir and specFiles because a list of spec files was provided on the command line or as an argument to Jasmine#execute"),this.specDir="",this.specFiles=[],this.addMatchingSpecFiles(t));const e=new ExitHandler(()=>this.exit(4));e.install();let i;try{await this.withinGlobalSetup_(async()=>{await this.loadSpecs(),i=await this.env.execute()})}finally{await this.flushOutput(),e.uninstall()}return this.exitOnCompletion&&this.exit(RunnerBase.exitCodeForStatus(i.overallStatus)),i}}jasmine$3.exports=Jasmine;jasmine$3.exports.ConsoleReporter=console_reporterExports;var jasmineExports=jasmine$3.exports;const Jasmine$1=getDefaultExportFromCjs(jasmineExports);function register(){}var browser=Object.assign(register,{default:register,register,revert:function s(){},__esModule:!0});const babelRegister=getDefaultExportFromCjs(browser),jasmine$1=new Jasmine$1;jasmine$1.loadConfig({spec_dir:"dist/spec",spec_files:["**/*[sS]pec.js","**/*.test.js"],helpers:["dist/helpers/**/*.js"]});jasmine$1.execute();babelRegister({extensions:[".ts",".tsx",".js",".jsx"],ignore:[/node_modules/]});console.log("Loaded test file");
